(function(){var e={8185:function(e,t,i){var n={"./swagger-individual.json":92643,"./swagger-institutional.json":68041};function r(e){var t=s(e);return i(t)}function s(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=8185},30392:function(e,t,i){"use strict";var n=i(49963),r=i(48262),s=i(66252);function o(e,t){const i=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(i)}var a=i(83744);const c={},d=(0,a.Z)(c,[["render",o]]);var p=d,l=i(42119),u=i(3577);const y=e=>((0,s.dD)("data-v-0399767a"),e=e(),(0,s.Cn)(),e),m=y((()=>(0,s._)("p",null,[(0,s.Uk)(" This documentation is now deprecated. Please switch to the "),(0,s._)("a",{href:"https://ibkrcampus.com/ibkr-api-page/ibkr-api-home/",target:"_blank"},"IBKR Campus"),(0,s.Uk)(" for up-to-date information regarding IBKR's API solutions. ")],-1))),h=["innerHTML"],g={class:"frequently-asked-questions"},f=y((()=>(0,s._)("h2",null,"Frequently Asked Questions",-1))),b={class:"latest-updates-container"},v={class:"latest-updates-header"},w=y((()=>(0,s._)("h2",null,"Latest Updates",-1))),T=(0,s.Uk)("Changelog");function I(e,t,i,n,r,o){const a=(0,s.up)("Warning"),c=(0,s.up)("expandable-card"),d=(0,s.up)("router-link"),p=(0,s.up)("latest-updates-list"),l=(0,s.up)("base-layout");return(0,s.wg)(),(0,s.j4)(l,null,{content:(0,s.w5)((()=>[(0,s.Wm)(a,null,{default:(0,s.w5)((()=>[m])),_:1}),(0,s._)("span",{innerHTML:r.content},null,8,h),(0,s._)("section",g,[f,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.frequentlyAskedQuestions,(e=>((0,s.wg)(),(0,s.j4)(c,(0,u.vs)((0,s.F4)(e)),null,16)))),256))])])),aside:(0,s.w5)((()=>[(0,s._)("section",b,[(0,s._)("div",v,[w,(0,s.Wm)(d,{to:"/changelog"},{default:(0,s.w5)((()=>[T])),_:1})]),(0,s.Wm)(p)])])),_:1})}const A={class:"container"},k=["id"];function S(e,t,i,n,r,o){const a=(0,s.up)("navbar");return(0,s.wg)(),(0,s.iD)("div",A,[(0,s.Wm)(a),(0,s._)("div",{class:"content",id:i.reverseWrap?"reversed":null},[(0,s._)("main",null,[(0,s.WI)(e.$slots,"content",{},void 0,!0)]),(0,s._)("aside",null,[(0,s.WI)(e.$slots,"aside",{},void 0,!0)])],8,k)])}var C=i.p+"img/ib-logo-text-black.64ff1f0a.svg";const x=e=>((0,s.dD)("data-v-34f838aa"),e=e(),(0,s.Cn)(),e),q={class:"branding"},P=x((()=>(0,s._)("a",{href:"./",class:"branding-logo"},[(0,s._)("img",{src:C,alt:"ibkr-logo"}),(0,s._)("h6",null,"Client Portal API Documentation")],-1))),D=(0,s.Uk)("Home"),M=(0,s.Uk)("Quickstart"),_=(0,s.Uk)("Authentication"),E=(0,s.Uk)("Endpoints"),O=(0,s.Uk)("Websockets"),R=(0,s.Uk)("Use Cases"),j=(0,s.Uk)("Changelog"),B=(0,s.Uk)("Support"),F=x((()=>(0,s._)("i",{class:"fa-solid fa-chevron-down"},null,-1))),L={class:"links-desktop"},N=(0,s.Uk)("Home"),U=(0,s.Uk)("Quickstart"),$=(0,s.Uk)("Authentication"),Y=(0,s.Uk)("Endpoints"),H=(0,s.Uk)("Websockets"),W=(0,s.Uk)("Use Cases"),G=(0,s.Uk)("Changelog"),V=(0,s.Uk)("Support");function z(e,t,i,n,r,o){const a=(0,s.up)("router-link"),c=(0,s.up)("account-toggle");return(0,s.wg)(),(0,s.iD)("nav",null,[(0,s._)("div",q,[P,(0,s._)("i",{class:"fa-solid fa-xmark hidden",onClick:t[0]||(t[0]=(...e)=>o.unrollNavbarLinks&&o.unrollNavbarLinks(...e))})]),(0,s._)("div",{class:"links",onClick:t[1]||(t[1]=(...e)=>o.unrollNavbarLinks&&o.unrollNavbarLinks(...e))},[(0,s.Wm)(a,{to:"/"},{default:(0,s.w5)((()=>[D])),_:1}),(0,s.Wm)(a,{to:"/quickstart"},{default:(0,s.w5)((()=>[M])),_:1}),(0,s.Wm)(a,{to:"/authentication"},{default:(0,s.w5)((()=>[_])),_:1}),(0,s.Wm)(a,{to:"/endpoints"},{default:(0,s.w5)((()=>[E])),_:1}),(0,s.Wm)(a,{to:"/websockets"},{default:(0,s.w5)((()=>[O])),_:1}),(0,s.Wm)(a,{to:"/use-cases"},{default:(0,s.w5)((()=>[R])),_:1}),(0,s.Wm)(a,{to:"/changelog"},{default:(0,s.w5)((()=>[j])),_:1}),(0,s.Wm)(a,{to:"/support"},{default:(0,s.w5)((()=>[B])),_:1}),F,(0,s.Wm)(c)]),(0,s._)("div",L,[(0,s.Wm)(a,{to:"/"},{default:(0,s.w5)((()=>[N])),_:1}),(0,s.Wm)(a,{to:"/quickstart"},{default:(0,s.w5)((()=>[U])),_:1}),(0,s.Wm)(a,{to:"/authentication"},{default:(0,s.w5)((()=>[$])),_:1}),(0,s.Wm)(a,{to:"/endpoints"},{default:(0,s.w5)((()=>[Y])),_:1}),(0,s.Wm)(a,{to:"/websockets"},{default:(0,s.w5)((()=>[H])),_:1}),(0,s.Wm)(a,{to:"/use-cases"},{default:(0,s.w5)((()=>[W])),_:1}),(0,s.Wm)(a,{to:"/changelog"},{default:(0,s.w5)((()=>[G])),_:1}),(0,s.Wm)(a,{to:"/support"},{default:(0,s.w5)((()=>[V])),_:1})])])}function K(e,t,i,n,r,o){return(0,s.wg)(),(0,s.iD)("div",{class:"toggle-switch",onClick:t[0]||(t[0]=(...e)=>o.onAccountToggled&&o.onAccountToggled(...e))},[(0,s._)("button",{id:"individual",class:(0,u.C_)("individual"==n.store.accountType?"active":"")},"Individual",2),(0,s._)("button",{id:"institutional",class:(0,u.C_)("institutional"==n.store.accountType?"active":"")},"Institutional",2)])}const Q=(0,r.Q_)("accountType",{state:()=>({accountType:localStorage.getItem("accountType")||"individual"}),actions:{setAccountType(e){this.accountType=e,localStorage.setItem("accountType",e)}}});var X={setup(){return{store:Q()}},methods:{onAccountToggled(e){let t=e.target.id;t&&this.store.setAccountType(t)}}};const Z=(0,a.Z)(X,[["render",K],["__scopeId","data-v-a002d7b0"]]);var J=Z,ee={methods:{unrollNavbarLinks(e){"A"!==e.target.tagName&&"I"!==e.target.tagName||(this.$el.querySelector(".links").classList.toggle("unrolled"),this.$el.querySelector(".fa-solid.fa-xmark").classList.toggle("hidden"))}},components:{AccountToggle:J}};const te=(0,a.Z)(ee,[["render",z],["__scopeId","data-v-34f838aa"]]);var ie=te,ne={components:{Navbar:ie},props:{reverseWrap:{type:Boolean,default:!1}}};const re=(0,a.Z)(ne,[["render",S],["__scopeId","data-v-009a131a"]]);var se=re;const oe=e=>((0,s.dD)("data-v-380c08e0"),e=e(),(0,s.Cn)(),e),ae={class:"expandable-card"},ce=oe((()=>(0,s._)("i",{class:"fa-solid fa-chevron-down"},null,-1))),de=["hidden"],pe=["innerHTML"];function le(e,t,i,n,r,o){return(0,s.wg)(),(0,s.iD)("div",ae,[(0,s._)("div",{class:"header",onClick:t[0]||(t[0]=(...e)=>o.toggleContent&&o.toggleContent(...e))},[(0,s._)("h4",null,(0,u.zw)(i.title),1),ce]),(0,s._)("div",{class:"content",hidden:this.isHidden},[(0,s._)("span",{innerHTML:i.content},null,8,pe)],8,de)])}var ue={props:{title:{type:String,required:!0},content:{type:String,required:!0}},data(){return{isHidden:!0}},methods:{toggleContent(){this.isHidden=!this.isHidden,this.toggleDropdownStatusIcon()},toggleDropdownStatusIcon(){let e=this.$el.querySelector("i");this.isHidden?e.classList.replace("fa-chevron-up","fa-chevron-down"):e.classList.replace("fa-chevron-down","fa-chevron-up")}}};const ye=(0,a.Z)(ue,[["render",le],["__scopeId","data-v-380c08e0"]]);var me=ye;const he={class:"latest-updates-list"};function ge(e,t,i,n,r,o){const a=(0,s.up)("latest-update-card");return(0,s.wg)(),(0,s.iD)("div",he,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.store.recentChanges(n.numUpdates),(e=>((0,s.wg)(),(0,s.j4)(a,(0,u.vs)((0,s.F4)(e)),null,16)))),256))])}const fe=[{title:"Add deprecation warning, link to new documentation",date:"2024-02-20",description:"Client Portal API documentation on Github is now deprecated, please see new docs on the IBKR Campus.",changes:["Added deprecation warning to home page","Addedd link to new documentation"],tags:["documentation"]},{title:"Remove support for fractional share orders, new act websocket topic",date:"2023-08-28",description:"Remove references to fractional share orders, add information about new act websocket topic",changes:["Removed references to fractional share orders from the documentation - fractional share orders are no longer supported","Added information about the new unsolicited act websocket topic","Fixed some visual bugs in documentation","Removed references to deprecated docs page"],tags:["documentation","endpoints","websockets"]},{title:"New gateway release, swagger updates",date:"2023-04-27",description:"Updated Swagger documentation, added link for new API gateway release",changes:['Removed required status for "since" field in the /marketdata/snapshot endpoint','Added optional "startTime" parameter to the /marketdata/history endpoint',"Fixed incorrectly formatted params in alert URLs in Swagger files","Added missing type query parameter to the /alert/{id} endpoint","Updated download links for API gateway to latest version",'Added information on using <a href="./use-cases#beta-endpoints">Beta endpoints</a> to Use Cases page',"Added new tags 7920 (Daily PnL) and 7921 (Cost Basis) for market data snapshot endpoints","Minor wording and code updates"],tags:["documentation","endpoints","authentication"]},{title:"General documentation updates",date:"2023-01-11",description:"Updated information about authentication methods for institutional clients, general formatting and readability updates",changes:["Updated authentication information for institutional clients","Updated websockets topics to use quotation marks instead of apostrophes",'Added information about placing <a href="./use-cases#combo-orders">combo orders</a> in Client Portal API',"General wording updates"],tags:["documentation","websockets","authentication"]},{title:"Added authentication information for institutional clients",date:"2022-09-30",description:"Added authentication information for institutional clients",changes:["Added information about authentication methods for institutional clients","Added required attributes to the market data snapshot request","Renamed Workflows page to Use Cases","Minor visual bug fixes"],tags:["documentation","authentication","endpoints"]},{title:"Updated list of endpoints and add minor bug fixes",date:"2022-09-08",description:"Updated swagger endpoints and minor bug fixes",changes:["Updated list of swagger endpoints","Fixed bug with institutional workflows page"],tags:["documentation","endpoints"]},{title:"Further formatting updates",date:"2022-09-01",description:"Improved visual look of code samples and fixed some broken links",changes:["Added syntax highlighting to code samples","Added a copy to clipboard button to code samples","Add support for landscape orientation on mobile devices","Updated table styling","Fixed broken links for swagger.json and references to the websockets page"],tags:["documentation"]},{title:"Added new topics and improved formatting",date:"2022-08-25",description:"Added new websockets, endpoints and workflows documentation and improved formatting of code examples",changes:['New <a href="./websockets#market-depth-data">market depth topic</a> added to websockets documentation',"Improved formatting of code examples","Added information about trailing type orders to the orders endpoint",'Added endpoint specific <a href="./use-cases#pacing-limitations">pacing limitations</a>'],tags:["documentation","websockets","endpoints","workflows"]},{title:"New API documentation released",date:"2022-08-16",description:"New API documentation released",changes:["Released new Client Portal API documentation","Visual overhaul of the documentation UI","Grouped topics into relevant sections","Institutional topics are in progress and will be released during the week"],tags:["documentation"]}],be=(0,r.Q_)("changelog",{state(){return{changes:fe,activeFilters:[]}},getters:{filteredChangelog(e){return e.changes.filter((t=>e.activeFilters.every((e=>t.tags.includes(e)))))},changelogTags(e){return e.changes.reduce(((e,t)=>(t.tags.forEach((t=>{!e.includes(t)&&e.push(t)})),e)),[])},recentChanges(e){return t=>e.changes.sort(((e,t)=>Date.parse(t.date)-Date.parse(e.date))).slice(0,t)}},actions:{toggleFilter(e){this.activeFilters.includes(e)?this.activeFilters=this.activeFilters.filter((t=>t!=e)):this.activeFilters.push(e)},clearFilters(){this.activeFilters=[]}}}),ve={class:"latest-update-card"},we={class:"header"},Te={id:"change-title"},Ie={id:"change-date"},Ae={class:"content"};function ke(e,t,i,n,r,o){return(0,s.wg)(),(0,s.iD)("div",ve,[(0,s._)("div",we,[(0,s._)("span",Te,(0,u.zw)(i.title),1),(0,s._)("span",Ie,(0,u.zw)(o.formatUpdateDate),1)]),(0,s._)("div",Ae,[(0,s._)("p",null,(0,u.zw)(i.description),1)])])}var Se={props:{title:{type:String,required:!0},description:{type:String,required:!0},date:{type:String,required:!0}},computed:{formatUpdateDate(){const e=Date.parse(this.date),t=Date.now(),i=(t-e)/1e3;return i<60?"Today":i<3600?Math.floor(i/60)+" minutes ago":i<86400?Math.floor(i/3600)+" hours ago":Math.floor(i/86400)+" days ago"}}};const Ce=(0,a.Z)(Se,[["render",ke],["__scopeId","data-v-6bb45bd8"]]);var xe=Ce,qe={components:{LatestUpdateCard:xe},setup(){const e=be();return{store:e,numUpdates:3}}};const Pe=(0,a.Z)(qe,[["render",ge],["__scopeId","data-v-85f0f43a"]]);var De=Pe;const Me=e=>((0,s.dD)("data-v-2f7c7836"),e=e(),(0,s.Cn)(),e),_e={class:"warning-container"},Ee=Me((()=>(0,s._)("i",{class:"fa-solid fa-triangle-exclamation"},null,-1)));function Oe(e,t){return(0,s.wg)(),(0,s.iD)("div",_e,[Ee,(0,s.WI)(e.$slots,"default",{},void 0,!0)])}const Re={},je=(0,a.Z)(Re,[["render",Oe],["__scopeId","data-v-2f7c7836"]]);var Be=je;const Fe=[{title:"How to use this guide?",content:'\n        <p>\n          The aim of this guide is to provide a general overview of the functionalities available to Interactive Brokers clients using Client Portal API. \n          It also provides answers to most common questions and issues encountered while working with the API. If you\'re new to Client Portal API, we recommend starting with the <a href="./quickstart">Quickstart</a> section. For API reference, please see the <a href="./endpoints">Endpoints</a> page.\n        </p>\n        '},{title:"How does Client Portal API differ from TWS API?",content:"\n        <p>\n          Client Portal API is a REST based API, that is, requests to the IBKR backend are sent over the internet. \n          In comparison, TWS API is designed to programatically interact with the Trader Workstation software. \n          In order to use Client Portal API, a lightweight API gateway, or in the case of institutional clients, OAuth or a dedicated connection, is required, whereas for TWS API, a working installation of TWS is required.          \n        </p>\n        "},{title:"Are there any additional fees for using Client Portal API?",content:'\n        <p>\n          There are no additional fees associated with the use of Client Portal API. In addition, there are no minimum funding requirements for accounts. \n          Funding may be required where clients wish to receive real time market data. \n          For more information on market data fees and choosing the correct market data subscription, please see the <a href="./use-cases">Use Cases</a> page of this guide.\n        </p>\n        <p>\n          <b>Note: </b> Minimum commision requirements apply in the case of clients wishing to connect to Client Portal API via a dedicated connection.\n        </p>\n        '},{title:"What are the account requirements?",content:"\n        <p>\n          All fully opened Interactive Brokers' accounts are eligible to use Client Portal API.\n        </p>\n        "},{title:"Can I use the Client Portal API with a paper account?",content:"\n        <p>\n          Client Portal API supports both paper and live accounts. We recommend using the paper account for initial testing and development, and only switching to live once you are happy with the results.\n        </p>  \n        "}],Le="\n## Client Portal API Documentation & Reference Guide\n\n- Many of the features that make your trading successful are available through Client Portal API\n- Client Portal API offers Interactive Brokers' clients the ability to trade, monitor and manage their account\n- With Client Portal API there is no need to import special libraries\n- To connect, you use either a small headless gateway or OAuth if you are an institutional client\n";var Ne={components:{BaseLayout:se,ExpandableCard:me,LatestUpdatesList:De,Warning:Be},data(){return{frequentlyAskedQuestions:Fe,content:marked.parse(Le)}}};const Ue=(0,a.Z)(Ne,[["render",I],["__scopeId","data-v-0399767a"]]);var $e=Ue;const Ye=e=>((0,s.dD)("data-v-b1607974"),e=e(),(0,s.Cn)(),e),He={class:"content-header"},We=Ye((()=>(0,s._)("h2",null,"Quickstart Guide",-1))),Ge=["innerHTML"],Ve=Ye((()=>(0,s._)("p",null,[(0,s.Uk)(" No institutional specifc information for the selected topic. Please see individual tab for more information about this page, alternatively check out the "),(0,s._)("a",{href:"./authentication"},"Authentication"),(0,s.Uk)(" page for information about accessing the Client Portal API using OAuth. ")],-1))),ze={class:"downloads"},Ke=Ye((()=>(0,s._)("h2",null,"Downloads",-1)));function Qe(e,t,i,n,r,o){const a=(0,s.up)("account-toggle"),c=(0,s.up)("warning"),d=(0,s.up)("download-card"),p=(0,s.up)("base-layout");return(0,s.wg)(),(0,s.j4)(p,null,{content:(0,s.w5)((()=>[(0,s._)("div",He,[We,(0,s.Wm)(a,{id:"active"})]),0!=o.activeTab.length?((0,s.wg)(),(0,s.iD)("span",{key:0,innerHTML:o.activeTab},null,8,Ge)):((0,s.wg)(),(0,s.j4)(c,{key:1},{default:(0,s.w5)((()=>[Ve])),_:1}))])),aside:(0,s.w5)((()=>[(0,s._)("div",ze,[Ke,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.downloads,(e=>((0,s.wg)(),(0,s.j4)(d,(0,u.vs)((0,s.F4)(e)),null,16)))),256))])])),_:1})}const Xe='\n\n### Step One: Create a free Interactive Brokers account\n      \nAn active Interactive Brokers account is required in order to use the Client Portal API. If you do not already have an account, you can [create one for free](https://www.interactivebrokers.com/en/index.php?f=46380#open-account). Please note that you will have to wait for the account to be fully activated before connecting to the API.\n\n**Note:** Free trial accounts are not currently supported, however support for free trial accounts is coming soon. \n\n---\n\n### Step Two: Download and unzip the Client Portal API Gateway\n\nIndividual clients using Client Portal API will need to use a Java-based API gateway in order to access protected endpoints.\nThe gateway is responsible for routing requests to the backend and ensuring that the brokerage session is authenticated.\nThe Client Portal API gateway can be downloaded <a href="https://www.interactivebrokers.com/en/index.php?f=5041" target="_blank">here</a>, or, by clicking on the Gateway card in the Downloads section of this page.\n\n**Note:** Once a new version of the Client Portal API Gateway is released, it is recommended that you download this new version.\n\nDetails about new Gateway releases can be found in the <a href="./changelog">Changelog</a>.\n\n---\n\n### Step Three: Download and install the Java Runtime Environment\n\nAs the Client Portal API Gateway was developed using Java, a working installation of the Java Runtime Environment (JRE) is required to run it. The minimum required version is Java 8 update 192.\n\nIn order to check if you have a working installation of Java, open a terminal and run the following command:\n\n``` bash\njava --version\n```\n\nIf Java is installed and correctly configured you should see information about the currently installed version, otherwise an error is raised. An example correct response is the following:\n\n```bash\njava 17.0.1 2021-10-19 LTS\n```\n\nIf you do not have a working installation of Java, you can download it [from the official website](https://www.java.com/en/download/) or by clicking on the download card in the Downloads section of this page.\n\n---\n\n### Step Four: Run the API Gateway\n\nUsing the terminal, navigate to the directory where the gateway has been unzipped. For example:\n\n```bash\ncd C:/Users/Example/Desktop/Cp Gateway\n```\n\nOn Windows, launch the gateway using the following command:\n\n```bash\nbin\\run.bat root\\conf.yaml\n```\n\nAnd in the case of Unix systems:\n\n```bash\nbin/run.sh root/conf.yaml\n```\n\n**Note:** The API gateway is meant to be run on a local machine. It is not recommended to run the gateway on a remote server.\n\n---\n\n### Step Five: Authenticate the brokerage session\n\nOnce the gateway is running, you will need to authenticate the session. In order to do so, navigate to <a href="https://localhost:5000">https://localhost:5000</a> on your local network and enter\nthe username and password for your live or paper account. The message \'Client login succeeds\' will be displayed if the login is successful.\n\n**Tip:** By default, the gateway will listen on port 5000. To update this you\'ll need to change the value in the `listenPort` field in the gateway configuration file \'conf.yaml\', found in the \'root\' directory of the gateway.\n\n---\n\n### Where to go from here?\n\n- Ensure your session is authenticated by following the tips and tricks on the [Authentication](./authentication) page.\n\n- Once you are successful in authenticating, review the available endpoints on the [Endpoints](./endpoints) page.\n\n- Websockets can retrieve and deliver streaming data. For more information on how to use websockets, see the [Websockets](./websockets) page.\n\n- Once you have reviewed pages above, go through the [Use Cases](./use-cases) page to understand the use cases.\n\n**Good luck! ðŸ€**\n\n---\n';var Ze=Xe;const Je="";var et=Je;const tt=e=>((0,s.dD)("data-v-77b3a4ac"),e=e(),(0,s.Cn)(),e),it={class:"download-card"},nt=["href"],rt={class:"header"},st=tt((()=>(0,s._)("i",{class:"fa-solid fa-arrow-up-right-from-square"},null,-1))),ot={class:"content"};function at(e,t,i,n,r,o){return(0,s.wg)(),(0,s.iD)("div",it,[(0,s._)("a",{href:i.url,target:"_blank"},[(0,s._)("div",rt,[(0,s._)("span",null,(0,u.zw)(i.title),1),st])],8,nt),(0,s._)("div",ot,[(0,s._)("p",null,(0,u.zw)(i.content),1)])])}var ct={props:{title:{type:String,required:!0},url:{type:String,required:!0},content:{type:String,required:!0}}};const dt=(0,a.Z)(ct,[["render",at],["__scopeId","data-v-77b3a4ac"]]);var pt=dt,lt={components:{BaseLayout:se,DownloadCard:pt,AccountToggle:J,Warning:Be},data(){return{content:null,store:Q(),downloads:[{title:"API Gateway",content:"Download the latest version of the Client Portal API Gateway",url:"https://download2.interactivebrokers.com/portal/clientportal.gw.zip"},{title:"Java",content:"Download the latest version of the Java Runtime Environment",url:"https://www.java.com/en/download/"}]}},watch:{content(){hljs.highlightAll()}},computed:{activeTab(){let e="individual"==this.store.accountType?Ze:et,t=marked.parse(e);return this.content=t,t}}};const ut=(0,a.Z)(lt,[["render",Qe],["__scopeId","data-v-b1607974"]]);var yt=ut;const mt=e=>((0,s.dD)("data-v-42cc8505"),e=e(),(0,s.Cn)(),e),ht={class:"content-header"},gt=mt((()=>(0,s._)("h2",null,"Authentication",-1))),ft=mt((()=>(0,s._)("p",null,[(0,s.Uk)(" When navigating to the Client Portal API Gateway login page, you may see a warning from your browser regarding a missing valid SSL certificate. This is expected. The API gateway does not come bundled with a valid certificate and it is up to the user to install one signed by themselves. For information on how to generate and install a valid gateway certificate, please see the following "),(0,s._)("a",{href:"./use-cases#invalid-ssl-certificate"},"article"),(0,s.Uk)(" in the use cases page. ")],-1))),bt=mt((()=>(0,s._)("div",{class:"downloads"},null,-1)));function vt(e,t,i,n,r,o){const a=(0,s.up)("account-toggle"),c=(0,s.up)("warning"),d=(0,s.up)("component"),p=(0,s.up)("base-layout");return(0,s.wg)(),(0,s.j4)(p,null,{content:(0,s.w5)((()=>[(0,s._)("div",ht,[gt,(0,s.Wm)(a,{id:"active"})]),"individual"==this.store.accountType?((0,s.wg)(),(0,s.j4)(c,{key:0},{default:(0,s.w5)((()=>[ft])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(d,{innerHTML:o.activeTab},null,8,["innerHTML"])])),aside:(0,s.w5)((()=>[bt])),_:1})}const wt='\n### Session Authentication\n\nAn authenticated brokerage session is necessary to access order information, place orders, or receive market data via Client Portal API.\nIndividual clients using Client Portal API are required to use the API Gateway in order to establish a secure brokerage session. There is\nno official workaround for this requirement.\nOther Interactive Brokers\' trading applications such as TWS or IBKR Mobile also utilize the concept of a brokerage session.\n\n**Note:** A given username can only create a single brokerage session at any given time. Launching TWS, IBKR mobile, logging in to Client Portal, or establishing a connection via third-party software using your Interactive Brokers\' credentials, will disconnect the current Client Portal API brokerage session, and vice versa.\n\n---\n\n### How can I tell if my brokerage session is authenticated?\n      \nThe endpoint **/iserver/auth/status** can be used to determine the current authentication status of the session. \nOnce you have logged in using the Client Portal API Gateway, you can make a POST request to this endpoint to determine if your session is fully authenticated.\nIf the session is fully authenticated, the response from this endpoint will contain the following JSON object:\n        \n``` json\n{\n    "authenticated": true,\n    "competing": false,\n    "connected": true,\n    "message": "",\n    "MAC": "AA:BB:CC:DD:EE:FF",\n    "serverInfo": {\n      "serverName": "server-name",\n      "serverVersion": "server-version"\n    },\n    "fail": ""\n  }\n```\n\n---\n\n### How long does a session remain authenticated?\n\nTo ensure client account security, Interactive Brokers\' trading solutions were designed with the need for the user to manually reauthenticate with the backend\non a daily basis. As such, the maximum period of time that a Client Portal API session can remain authenticated is 24 hours.\n\nDaily maintenance of IBKR\'s servers could result in a disconnect earlier than the 24 hour period mentioned above.\nWe advise disconnecting your session from your gateway and restarting it after the maintenance time to minimize any potential problems that may arise.\nInformation on server reset times and system status updates can be found on the [System Staus](https://www.interactivebrokers.com/en/software/systemStatus.php) page.\n\n---\n\n### How can I prevent the session from timing out?\n\nA Client Portal API brokerage session will timeout if no requests are received within a period of 5 minutes. In order to prevent the session from timing out, the \nendpoint **/tickle** should be called on a regular basis. It is recommended to call this endpoint approximately every\nminute. \n\nIf the brokerage session has timed out but the session is still connected to the IBKR backend, the response to **/auth/status** returns \'connected\':true and \'authenticated\':false.\nCalling the **/reauthenticate** endpoint will start a new brokerage session.\n\n---\n\n### Can I automate the Client Portal API authentication process?\n\nThere is currently no mechanism available on Interactive Brokers\' end to permit individual clients to automate the\nbrokerage session authentication process when using Client Portal API.\n\n---\n\n### Can I use a third-party solution to automate the brokerage session authentication process?\n\nInteractive Brokers does not recommend the use of third-party solutions to establish a brokerage\nsession. This can put your account at risk from potentially malicious projects. \n\n**Note:** Interactive Brokers is unable to provide support for third-party wrappers.\n\n---\n\n### Is it possible to authenticate a live brokerage session without the use of a Two Factor Authentication (2FA) device?\n\nThe login process to the Client Portal API Gateway is the same as to Client Portal. As the Client Portal has access to sensitive information and \nbanking functionalities, two-factor authentication is mandatory for login.\n\n---\n';var Tt=wt;const It="\n\n### Session based authentication\n\nSimilarly to individual clients, institutional clients can also use session based authentication. For instructions on how to set up session-based authentication using the Client Portal API Gateway please refer to the Quickstart guide for individual clients.\n\nA downside to this approach is that it requires a GUI to be present on the machine where the client is running to facilitate authentication. Nonetheless, this approach is a good starting point for testing and prototyping.\n\n---\n\n### OAuth based authentication\n\nIn addition to session based authentication via the API Gateway, Interactive Brokers also supports headless Client Portal API authentication via the modified [OAuth 1.0a](https://oauth.net/core/1.0a/) protocol. \nThis allows you to authenticate your application with the IBKR backend without having to run the gateway and provides more flexible deployment opportunities.\n\nAuthenticating Client Portal API with OAuth is currently only available to institutional clients. It has been successfully used to develop web and mobile apps, \nas well as to integrate with third-party solutions.\n\n---\n\n### Getting access to OAuth at Interactive Brokers\n\nTo use OAuth authentication, you will need to register your application with Interactive Brokers. Currently only institutional clients can register their OAuth applications. Retail clients with an individual account type are not eligible to use OAuth.\n\nDepending on the type of application developed, clients will need to either send a request ticket via IBKR Client Portal Support Center, if the API client is developed in-house, or by \nemailing the Web API Onboarding team if the client application is being developed by a third-party vendor with the intention of providing software for other IBKR clients.\n\n#### For apps developed by institutional clients and financial advisors\n\nIn order to apply for OAuth access for applications developed in-house, or by a legal affiliate to the account, clients will need to send a request ticket via IBKR Client Portal Support Center. To speed up the process,\nplease include the following information in your request:\n\n- A confirmation that the application is being developed in-house.\n- A list of accounts that will be used with the application.\n- The main purpose of the application.\n\nOnce the request has been received our development team will process it accordingly. We may ask for additional details at this stage. Once approved, a confirmation message outlining next steps, including access to our Github repository, where the API demo and implementation instructions can be found, as well as access to the [self-service OAuth portal](https://ndcdyn.interactivebrokers.com/sso/Login?action=OAUTH) will be sent out.\n\n#### For apps developed by a third-party vendors\n\nApps developed by third-party vendors wanting to build software for IBKR clients over OAuth will need to fill in an onboarding questionnaire. The questionnaire can be found [here](https://interactivebrokers.com/images/2015/WebAPIOnboarding.pdf). Once filled in, the questionnaire needs to be sent to the Web API onboarding team at webapionboarding@interactivebrokers.com, where it will be processed accordingly.\n\n---\n\n### Next steps\n\n**Note:** Please note that only **public** keys should be shared with IBKR. Private keys should be kept in a safe place and not shared with anyone, including IBKR staff.\n\nAs part of the integration process several pieces of information need to be supplied to IBKR, these include:\n\n- A consumer key. This is a 9 character string or vendor code.\n- A pair of private and public encryption keys.\n\n    ```sh\n    openssl rsa -in private_encryption.pem -ouform PEM -pubout -out public_encryption.pem\n    ```\n\n- A pair of private and public signature key.\n\n    ```sh\n    openssl genrsa -out private_esignature.pem 2048\n    openssl rsa -in private_signature.pem -ouform PEM -pubout -out public_signature.pem\n    ```\n\n- [Diffie-Hellman](https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange) parameter file registered with IBKR.\n\n    ```sh\n    openssl dhparam -outform PEM 2048 -out dhparam.pem\n    openssl asn1parse < dhparam.pem\n    ```\n\n    \nIf you are developing the party in-house this information will be uploaded to the self-service portal. For apps developed by third-party vendors information will need to be sent over email.\n\n---\n";var At=It;const kt={class:"link-container"},St=["href"],Ct=["title"];function xt(e,t,i,n,r,o){return(0,s.wg)(),(0,s.iD)("div",kt,[(0,s._)("a",{href:this.url,target:"_blank"},[(0,s._)("span",null,(0,u.zw)(this.title),1)],8,St),(0,s._)("i",{class:"fa-solid fa-circle-question",title:this.description},null,8,Ct)])}var qt={props:{title:{type:String,required:!0},url:{type:String,required:!0},description:{type:String,required:!0}}};const Pt=(0,a.Z)(qt,[["render",xt]]);var Dt=Pt,Mt={components:{BaseLayout:se,DownloadCard:pt,AccountToggle:J,ResourceLink:Dt,Warning:Be},data(){return{store:Q(),content:null,downloads:[{title:"Gateway",content:"Download a latest version of the Client Portal API gateway.",url:"https://download2.interactivebrokers.com/portal/clientportal.gw.zip"}]}},watch:{content(){hljs.highlightAll()}},computed:{activeTab(){let e="individual"==this.store.accountType?Tt:At,t=marked.parse(e);return this.content=t,t}}};const _t=(0,a.Z)(Mt,[["render",vt],["__scopeId","data-v-42cc8505"]]);var Et=_t;const Ot=e=>((0,s.dD)("data-v-2d542f3a"),e=e(),(0,s.Cn)(),e),Rt={class:"content-header"},jt=Ot((()=>(0,s._)("h2",null,"Endpoints Explorer",-1))),Bt=Ot((()=>(0,s._)("p",null," This page is intended to be used on a desktop or laptop. ",-1))),Ft={class:"downloads"},Lt=Ot((()=>(0,s._)("h2",null,"Resources",-1)));function Nt(e,t,i,n,r,o){const a=(0,s.up)("account-toggle"),c=(0,s.up)("warning"),d=(0,s.up)("endpoints-list"),p=(0,s.up)("download-card"),l=(0,s.up)("base-layout");return(0,s.wg)(),(0,s.j4)(l,null,{content:(0,s.w5)((()=>[(0,s._)("div",Rt,[jt,(0,s.Wm)(a,{id:"active"})]),(0,s.Wm)(c,{class:"warning"},{default:(0,s.w5)((()=>[Bt])),_:1}),(0,s.Wm)(d,{accountType:this.store.accountType},null,8,["accountType"])])),aside:(0,s.w5)((()=>[(0,s._)("div",Ft,[Lt,(0,s.Wm)(p,{title:"Download swagger.json",url:"https://www.interactivebrokers.com/api/doc.json",content:"Download the swagger.json file"},null,8,["title","url","content"])])])),_:1})}const Ut={id:"swagger"};function $t(e,t,i,n,r,o){return(0,s.wg)(),(0,s.iD)("div",Ut)}var Yt=i(3611),Ht={props:{accountType:{type:String,required:!0}},methods:{renderSwagger(){(0,Yt.Z)({spec:i(8185)(`./swagger-${this.accountType}.json`),dom_id:"#swagger"})}},mounted(){this.renderSwagger()},updated(){this.renderSwagger()}};const Wt=(0,a.Z)(Ht,[["render",$t]]);var Gt=Wt,Vt={components:{BaseLayout:se,AccountToggle:J,EndpointsList:Gt,DownloadCard:pt,Warning:Be},setup(){return{store:Q()}}};const zt=(0,a.Z)(Vt,[["render",Nt],["__scopeId","data-v-2d542f3a"]]);var Kt=zt;const Qt=e=>((0,s.dD)("data-v-6149f7cc"),e=e(),(0,s.Cn)(),e),Xt={class:"content-header"},Zt=Qt((()=>(0,s._)("h2",null,"Websockets",-1))),Jt=Qt((()=>(0,s._)("p",null," No institutional specifc information for the selected topic. Please see individual tab for more information about this page. ",-1))),ei=Qt((()=>(0,s._)("p",null,[(0,s.Uk)(" In order to use websocket endpoints, make sure you have authenticated your brokerage session first. For information on getting started with Client Portal API, please refer to the "),(0,s._)("a",{href:"./quickstart"},"Quickstart"),(0,s.Uk)(" page. ")],-1))),ti={key:2,class:"playground-container"};function ii(e,t,i,n,r,o){const a=(0,s.up)("account-toggle"),c=(0,s.up)("warning"),d=(0,s.up)("component"),p=(0,s.up)("websocket-playground"),l=(0,s.up)("scrollable-sidenav"),u=(0,s.up)("base-layout");return(0,s.wg)(),(0,s.j4)(u,null,{content:(0,s.w5)((()=>[(0,s._)("div",Xt,[Zt,(0,s.Wm)(a,{id:"active"})]),0==o.activeTab.length?((0,s.wg)(),(0,s.j4)(c,{key:0},{default:(0,s.w5)((()=>[Jt])),_:1})):((0,s.wg)(),(0,s.j4)(c,{key:1},{default:(0,s.w5)((()=>[ei])),_:1})),(0,s.Wm)(d,{innerHTML:o.activeTab,id:"parsedContent"},null,8,["innerHTML"]),0!=o.activeTab.length?((0,s.wg)(),(0,s.iD)("div",ti,[(0,s.Wm)(p,{id:"websocket-playground"})])):(0,s.kq)("",!0)])),aside:(0,s.w5)((()=>[(0,s.Wm)(l,{sections:o.getSectionsList,activeSection:o.getActiveSectionId},null,8,["sections","activeSection"])])),_:1})}const ni='\n### Getting Started\n\n#### Connection Guide\n\nThe websocket endpoint is available at [wss://localhost:5000/v1/api/ws](./endpoints). Once a socket connection has been established, \nthe session needs to be authorized. This can be achieved in two ways:\n\n##### From a browser\n\nInclude the cookies from the "set-cookie" headers from previous API requests. If you are using a browser to\ntest websocket functionality, for example by using the [websocket playground](./websockets#websocket-playground), this will be done for you automatically by the browser.\n\n##### From your client application\n\nRequest the sessionId from the **/tickle** endpoint and send it to the socket in the following format:\n\n```json\n{\n    "session": "sessionId"\n}\n```\n\n##### Sample Response\n\nIf the request is successful, the following message will be received:\n\n```json\n{\n    "topic":"sts",\n    "args":{\n        "authenticated":true,\n        "competing":false,\n        "message":"",\n        "fail":"",\n        "serverName":"server-name",\n        "serverVersion":"server-version",\n        "username":"your-username"\n    }\n}\n```\n\n---\n\n#### Websocket Messages\n\nThere are two types of messages used by the websocket:\n\n- **Solicited messages:** Messages that have been explicitly sent by the client application.\n- **Unsolicited messages:** Messages that have been sent by the server, either as a response to a request or containing information about the connected session.\n\nIn order to receive streaming data from the websocket, the relevant topic must be subscribed to. In order to do so,\na message of the format: **TOPIC+{ARGUMENTS}** must be sent to the websocket endpoint, where:\n\n- **TOPIC** represents the request that is being sent via the websocket.\n- The plus symbol **+** is used as the message separator.\n- **{ARGUMENTS}** contains a list of arguments passed as part of the request. This is optional and can be an empty object **{}**.\n\nSolicited message topics are generally three characters in length and start with an **s**, if the topic\nis being subscribed to, or an **u** if unsubscribing from a topic.\n\n---\n\n### Market Data\n\n#### Streaming Data\n\nStreaming, top-of-the-book, level one, market data is available for all instruments using Client Portal API\'s websocket endpoint. \nThe following message needs to be sent to the websocket endpoint in order to subscribe to market data for a particular contract:\n\n``` json\nsmd+conId+{\n    "fields": []\n}\n```\n\nWhere conId is the instrument\'s unique contract identifier within Interactive Brokers\' database, and fields is an array of fields that should be returned with the request. A list of available fields can be found in the swagger documentation for the [/marketdata/snapshot](./endpoints#operations-tag-Market_Data) endpoint.\n\n**Tip:** The contract ID for a particular instrument can be found using the endpoint **/iserver/secdef/search**.\n\nContracts requested via this topic use SMART routing by default. If you wish to specify the exchange explicitly, \nthe passed contract identifier should be modified into the format **conId@EXCHANGE**, where EXCHANGE is the exchange on which the contract trades.\n\n\nIn order to unsubscribe from market data for the specified contract ID, the following message needs to be sent to the endpoint:\n\n``` json\numd+conId+{}\n```\n\n##### Example: Requesting streaming close price and daily percent change for APPL stock\n\nIn order to request streaming market data, a subscription request must first be sent for the specific contract. In this case, we know that the APPL@NASDAQ contract\nhas a contract ID of 265598. In addition, we must also specify the fields that should be returned. In this case we are interested in fields 31 - close price, and 83 - the % change, or difference between the last price and the close price for the previous day.\n\n``` json\nsmd+265598+{\n    "fields":["31","83"]\n}\n```\n\n---\n\n#### Historical Data\n\nFor streaming historical data, the topic **smh+Id** is used. There are also optional parameters available in JSON format. \nIf no parameters are specified, the empty parameters array **{}** can be passed. \nIncorrectly specified parameters are ignored and the default (empty) response is returned. \nTo unsubscribe, the topic is **umh+serverId** can be used, where **serverID** is the server ID associated with the request.\n\n**NOTE:** Only a max of 5 concurrent historical data request available at a time.\n\nThe historical market data request takes the following parameters:\n\n<div class=\'scrollable-table-container\'>\n    <table class=\'styled-table\'>\n        <thead>\n            <tr>\n                <th>Parameter</th>\n                <th>Description</th>\n                <th>Valid Values</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>exchange: String</td>\n                <td>Contract exchange</td>\n                <td>Valid exchange on which the contract trades</td>\n            </tr>\n            <tr>\n                <td>period: String</td>\n                <td>Request duration</td>\n                <td>\n                    <ul>\n                        <li>{1-30}min</li>\n                        <li>{1-8}h</li>\n                        <li>{1-1000}d</li>\n                        <li>{1-792}w</li>\n                        <li>{1-182}m</li>\n                        <li>{1-15}y</li>\n                </td>\n            </tr>\n            <tr>\n                <td>bar: String</td>\n                <td>Request bar size</td>\n                <td>\n                    <ul>\n                        <li>1min</li>\n                        <li>2min</li>\n                        <li>3min</li>\n                        <li>5min</li>\n                        <li>10min</li>\n                        <li>15min</li>\n                        <li>30min</li>\n                        <li>1h</li>\n                        <li>2h</li>\n                        <li>3h</li>\n                        <li>4h</li>\n                        <li>8h</li>\n                        <li>1d</li>\n                        <li>1w</li>\n                        <li>1m</li>\n                </td>\n            </tr>\n            <tr>\n                <td>outsideRTH: Boolean</td>\n                <td>Request data outside trading hours</td>\n                <td>\n                    true/false\n                </td>\n            </tr>\n            <tr>\n                <td>source: String</td>\n                <td>Type of date requested</td>\n                <td>\n                    <ul>\n                        <li>midpoint</li>\n                        <li>trades</li>\n                        <li>bid_ask</li>\n                        <li>bid</li>\n                        <li>ask</li>\n                </td>\n            </tr>\n            <tr>\n                <td>format: String</td>\n                <td>Historical values returned</td>\n                <td>\n                    <ul>\n                        <li>%o - open</li>\n                        <li>%c - close</li>\n                        <li>%h - high</li>\n                        <li>%l - low</li>\n                        <li>%v - volume</li>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n\n##### Example: Requesting mutltiple historical values in a single request\n\nMultiple historical values can be requested using a single request by separating the fields to be returned with a forward slash. For example, the following message requests the open, close, high, and low trades bars for the last day with hourly bars.\n\n``` json\nsmh+265598+{\n    "period": "1d",\n    "bar": "1hour", \n    "source": "trades", \n    "format": "%o/%c/%h/%l"\n}\n```\n\n##### Example: Request AAPL historical trade high data for past 2 hours with 5 mins bars\n\n``` json\nsmh+265598+{\n    "exchange":"ISLAND",\n    "period":"2h",\n    "bar":"5min",\n    "outsideRth":false,\n    "source":"trades",\n    "format":"%h/%l"\n}\n```\n\nThe following response will be returned:\n\n``` json\n{\n    "serverId": "341115",\n    "symbol": "AAPL",\n    "text": "AAPLE INC",\n    "priceFactor": 100,\n    "startTime": "20210317-18:00:00",\n    "high": "12586/14469/65",\n    "low": "12283/34103/0",\n    "timePeriod": "7200s",\n    "barLength": 300,\n    "mdAvailability": "S",\n    "mktDataDelay": 0,\n    "outsideRth": false,\n    "volumeFactor": 1,\n    "priceDisplayRule": 1,\n    "priceDisplayValue": "2",\n    "negativeCapable": false,\n    "messageVersion": 2,\n    "data": [...],\n    "points": 23, \n    "topic": "smh+265598",\n}\n```\n\nNote the server ID associated with the subscription. In order to unsubscribe from market depth the unsubscription message needs to be sent along with the server ID:\n\n``` json\numh+{serverId}\n```\n\n---\n\n#### Market Depth Data\n\nTo subscribe to deep book, market depth data, the topic **sbd** can be sent along with the requesting account id, the contract id and, optionally, the exchange source for market depth data (a valid market data subscription is required). \nIf no exchange is specified, all available deep exchanges are assumed.\nAn example of a market depth subscription message is:\n\n``` json\nsbd+{acctId}+{conId}+{exchange}\n```\n\nIn order to unsubscribe from market dapth, the topic **ubd** can be sent along with the account id. An example of an unsubscribe message is:\n\n``` json\nubd+{acctId}\n```\n\n##### Example: Requesting market depth from ARCA\n\nThe following request will return market depth data from the ARCA exchange for account id DU12345 and contract id 265598:\n\n``` json\nsbd+DU12345+265598+ARCA\n```\n\nThe response will continously return market depth data for the specified contract until the subscription is cancelled. An example of a market depth response is:\n\n``` json\n{\n    "topic": "sbd",\n    "data": [\n        {\n            "row": 0,\n            "focus": 1,\n            "price": 123.45\n        },\n        {\n            "row": 1,\n            "focus": 0,\n            "price": 123.44,\n            "ask": 200\n        },\n        {\n            "row": 2,\n            "focus": 0,\n            "price": 120.00,\n            "bid": 400\n        }\n    ],\n}\n```\n\nWhere, **row** is the row number of the market depth data, **focus** indicates the last price for the contract, **price** is the price for the current row, \nand **ask** and **bid** are the ask and bid sizes, respectively.\n\n---\n\n### Order & Positions Operations\n\n#### Live Order Updates\n\nAs long as an order is active, it is possible to retrieve it using Client Portal API. Live streaming orders can be requested by subscribing to the **sor** topic. \nOnce live orders are requested we will start to relay back when there is an update. \nTo receive all orders for the current day the endpoint **/iserver/account/orders** can be used. \nIt is advised to query all orders for the current day first before subscribing to live orders. \n\n``` json\nsor+{}\n```\n\nWhich returns the following sample response:\n\n``` json\n{\n    "topic": "sor" ,\n    "args": [\n        {\n            "acct": "DU1234",\n            "conid": 265598,\n            "orderId": 922048212,\n            "cashCcy": "USD",\n            "sizeAndFills": "0/1",\n            "orderDesc": "Buy 100 Limit 372.00 GTC",\n            "description1": "AAPL",\n            "ticker": "AAPL",\n            "secType": "STK",\n            "listingExchange": "NASDAQ.NMS",\n            "remainingQuantity": 100.0,\n            "filledQuantity": 0.0,\n            "companyName": "APPLE INC",\n            "status": "Submitted",\n            "origOrderType": "LIMIT",\n            "supportsTaxOpt": "1",\n            "lastExecutionTime": "200708173551",\n            "lastExecutionTime_r": 1594229751000,\n            "orderType": "Limit",\n            "side": "BUY",\n            "timeInForce": "GTC",\n            "price": 372,\n            "bgColor": "#000000",\n            "fgColor": "#00F000"\n        }\n    ]\n}\n```\n\nTo unsubscribe from streaming order updates, the topic **uor** needs to be sent to the websocket endpoint.\n\n``` json\nuor+{}\n```\n\nWhen there is an update to your order only the change to the order is relayed back along with the orderId. Most commonly this would involve status changes and partial fills. \n\nAn example of a status change is:\n\n``` json\n{\n    "topic": "sor" ,\n    "args": [\n        {\n            "acct": "DU1234",\n            "orderId": 352055828,\n            "status": "PendingSubmit",\n            "fgColor": "#3399CC"\n        },\n        {\n            "acct": "DU1234",\n            "orderId": 352055828,\n            "status": "PreSubmitted",\n            "bgColor": "#FFFFFF",\n            "fgColor": "#0000CC"\n        },\n        {\n            "acct": "DU1234",\n            "orderId": 352055828,\n            "status": "Submitted",\n            "bgColor": "#000000",\n            "fgColor": "#00F000"\n        }\n    ]\n}\n```\n\nAnd an example of a partial fill is:\n\n``` json\n{\n    "topic": "sor" ,\n    "args": [\n        {\n            "acct": "DU1234",\n            "orderId": 352055828,\n            "sizeAndFills": "100/622",\n            "remainingQuantity": 622.0,\n            "filledQuantity": 100.0,\n            "avgPrice": "382.45",\n        },\n        {\n            "acct": "DU1234",\n            "orderId": 352055828,\n            "sizeAndFills": "700/22",\n            "remainingQuantity": 22.0,\n            "filledQuantity": 700.0,\n        },\n        {\n            "acct": "DU1234",\n            "orderId": 352055828,\n            "sizeAndFills": "722",\n            "orderDesc": "Sold 722 Limit 382.40 GTC",\n            "remainingQuantity": 0.0,\n            "filledQuantity": 722.0,\n            "status": "Filled",\n            "timeInForce": "GTC",\n            "price": 382.4,\n            "bgColor": "#FFFFFF",\n            "fgColor": "#000000"\n        }\n    ]\n}\n```\n\n---\n\n#### Trades\n\nTo review a list of your trades for the current and previous six days, the topic **str** can be sent to the websocket endpoint.\nIn addition to the trades history, this topic will also return trade updates as they become available.\n\n``` json\nstr+{}\n```\n\nWhich returns the following, sample, response:\n\n``` json\n{\n    "topic": "str" ,\n    "args": [\n        {\n            "execution_id": "0000e0d5.60cf1bd1.01.01",\n            "symbol": "AAPL",\n            "supports_tax_opt": "1",\n            "side": "B",\n            "order_description": "Bot 1 @ 130.64 on ISLAND",\n            "trade_time": "20210408-22:10:01",\n            "trade_time_r": 1617919801000,\n            "size": 1,\n            "price": "130.64",\n            "order_ref": "66807500",\n            "submitter": "apara428",\n            "exchange": "ISLAND",\n            "commission": "0.35",\n            "net_amount": 130.64,\n            "account": "DU26214",\n            "accountCode": "DU26214",\n            "company_name": "APPLE INC",\n            "contract_description_1": "AAPL",\n            "sec_type": "STK",\n            "listing_exchange": "NASDAQ.NMS",\n            "conid": "265598",\n            "conidex": "265598",\n            "clearing_id": "IB",\n            "clearing_name": "IB",\n            "liquidation_trade": "0"\n        }]\n    }\n}\n```\n\nTo unsubscribe from trades, the topic **utr** needs to be sent.                \n\n``` json\nutr\n```\n\n\n##### Example: Request real-time trade updates only\n\nTo receive new trade updates only and no previous trades details, the "realtimeUpdatesOnly" parameter can be passed as part of the **str** message as follows: \n\n``` json\nstr+{\n    "realtimeUpdatesOnly": true\n}\n```\n\n##### Example: Request trade history for a specified number of days\n\nIf trades are required for less than 7 days the "days" parameter can be passed with integer value corresponding to the number of days needed (1 represents today and value can be up to 7). \n\n``` json \nstr+{\n    "days": 1\n}\n```\n\n---\n\n#### Profit & Loss Updates\n\nFor existing positions it is possible to receive Profit & Loss updates via Client Portal API using the topic **spl**. \nAs part of the response the daily profit and loss (abbreviated as dpl) and unrealized profit and loss (upl) are received as a total value for all positions. \nPosition profit and loss updates are relayed back to the client as quickly as possible, usually once per second during market hours, but can vary based on market activity.                \n\n``` json\nspl+{}\n```\n\nWhich returns the following, sample, response. You can see the account number, the daily profit and loss and the unrealized profit and loss.\n\n``` json\n{\n    "topic": "spl" ,\n    "args": {\n        "DU1234.Core": {\n        "rowType":1,\n        "dpl":-57520.0,\n        "upl":972100.0\n        }\n    }\n}\n```\n\nIn order to unsubscribe from further updates, the topic **upl** is sent.\n\n``` json\nupl+{}\n```\n\n---\n\n\n### Miscellaneous Operations\n\n#### Ping Session\n\nTo maintain a session for accessing **/iserver** or **/ccp** endpoints use the topic **tic**. It is advised to ping the session at least once per minute.\n\n**Note:** It is still required to send a request to the **/tickle** endpoint every few minutes or when the session expires (**/sso/validate** is returning a 0). \n\n``` json\ntic\n```\n\n---\n\n### Unsolicited Messages\n\n#### System Connection Messages\n\nWhen initially connecting to websocket the topic system relays back a confirmation with the corresponding username. \nWhile the websocket is connecting every 10 seconds there after a heartbeat with corresponding unix time (in millisecond format) is relayed back. An example response is:\n\n``` json\n{\n    "topic": "system" ,\n    "success": "user123"\n}\n```\n\n---\n\n#### Authentication Status\n\nWhen initially connecting to the websocket endpoint, the topic **sts** will relay back the current authentication status of the user. \nAuthentication status updates, for example those resulting from competing sessions, are also relayed back to the websocket client via this topic.\n\n``` json\n{\n    "topic": "sts" ,\n    "args": {\n        "authenticated": true\n    }\n}\n```\n\n---\n\n#### Notifications\n\nIf there is a brief message regarding trading activity the topic ntf will be sent.\n\n``` json\n{\n    "topic": "ntf",\n    "args": {\n        "id": "INDICATIVE_DATA_SUGGESTION",\n        "text": "CFD quotes reference the trade, volume and bid-ask market data on the underlying STK",\n        "title": "Warning",\n        "url": "https://interactivebrokers.com/"\n    }\n}\n```\n\n---\n\n#### Bulletins\n\nIf there are urgent messages concerning exchange issues, system problems, and other trading information, the topic **blt** \nis sent along with the message argument and a unique identifier for the bulletin.\n\n``` json\n{\n    "topic": "blt" ,\n    "args": {\n        "id": "" ,\n        "message": "" \n    }\n}\n```\n\n#### Account Updates\n\nReturns details about the brokerage accounts that the currently logged in user has access to. An initial message is sent on the **act** topic when a connection to the websocket is first established. Supplemental messages are sent whenever there is a change to the account details. An example initial message is:\n\n``` json\n{\n    "topic":"act",\n    "args":{\n       "accounts":[\n          "All",\n          "DU1234567",\n       ],\n       "acctProps":{\n          "All":{\n             "hasChildAccounts":false,\n             "supportsCashQty":false,\n             "noFXConv":true,\n             "isProp":false,\n             "supportsFractions":false,\n             "allowCustomerTime":false\n          },\n          "DU1234567":{\n             "hasChildAccounts":false,\n             "supportsCashQty":true,\n             "noFXConv":true,\n             "isProp":false,\n             "supportsFractions":false,\n             "allowCustomerTime":false\n          }\n       },\n       "aliases":{\n          "All":"All",\n          "DU1234567":"DU1234567",\n       },\n       "allowFeatures":{\n          "showGFIS":true,\n          "showEUCostReport":false,\n          "allowEventContract":true,\n          "allowFXConv":false,\n          "allowFinancialLens":false,\n          "allowMTA":false,\n          "allowTypeAhead":true,\n          "allowEventTrading":true,\n          "snapshotRefreshTimeout":30,\n          "liteUser":false,\n          "showWebNews":true,\n          "research":true,\n          "debugPnl":true,\n          "showTaxOpt":true,\n          "showImpactDashboard":true,\n          "allowDynAccount":false,\n          "allowCrypto":false,\n          "allowedAssetTypes":"STK,CFD,OPT,FOP,WAR,FUT,BAG,PDC,CASH,IND,BOND,BILL,FUND,SLB,News,CMDTY,IOPT,ICU,ICS,PHYSS,CRYPTO"\n       },\n       "chartPeriods":{\n          "STK":[\n             "*"\n          ],\n          "CFD":[\n             "*"\n          ],\n          "OPT":[\n             "2h",\n             "1d",\n             "2d",\n             "1w",\n             "1m"\n          ],\n          "FOP":[\n             "2h",\n             "1d",\n             "2d",\n             "1w",\n             "1m"\n          ],\n          "WAR":[\n             "*"\n          ],\n          "IOPT":[\n             "*"\n          ],\n          "FUT":[\n             "*"\n          ],\n          "CASH":[\n             "*"\n          ],\n          "IND":[\n             "*"\n          ],\n          "BOND":[\n             "*"\n          ],\n          "FUND":[\n             "*"\n          ],\n          "CMDTY":[\n             "*"\n          ],\n          "PHYSS":[\n             "*"\n          ],\n          "CRYPTO":[\n             "*"\n          ]\n       },\n       "groups":[\n          "All"\n       ],\n       "profiles":[\n          \n       ],\n       "selectedAccount":"DU1234567",\n       "serverInfo":{\n          "serverName":"JisfN3002",\n          "serverVersion":"Build 10.23.2e, Jul 24, 2023 6:11:26 PM"\n       },\n       "sessionId":"64c73e82.00000009",\n       "isFT":false,\n       "isPaper":true\n    }\n }\n```\n\n---\n';var ri=ni;const si="";var oi=si;const ai={class:"scrollable-container"},ci=["id","href"];function di(e,t,i,n,r,o){return(0,s.wg)(),(0,s.iD)("div",ai,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.sections,(e=>((0,s.wg)(),(0,s.iD)("section",null,[(0,s._)("h3",null,(0,u.zw)(e.category),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.titles,(e=>((0,s.wg)(),(0,s.iD)("a",{key:e.id,id:e.id===this.activeSection?"active":e.id,href:`#${e.id}`},(0,u.zw)(e.title),9,ci)))),128))])))),256))])}var pi={props:{sections:{type:Array,required:!0},activeSection:{type:String,required:!1}}};const li=(0,a.Z)(pi,[["render",di],["__scopeId","data-v-647a05aa"]]);var ui=li;function yi(e,t,i,n,r,o){const a=(0,s.up)("article-list-item");return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.articles,(e=>((0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("h3",null,(0,u.zw)(e.category),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.items,(e=>((0,s.wg)(),(0,s.j4)(a,(0,u.vs)((0,s.F4)(e)),null,16)))),256))])))),256)}const mi=["id"],hi=(0,s._)("hr",null,null,-1);function gi(e,t,i,n,r,o){const a=(0,s.up)("component");return(0,s.wg)(),(0,s.iD)("article",null,[(0,s._)("h4",{id:`${this.id}`},(0,u.zw)(this.title),9,mi),(0,s.Wm)(a,{innerHTML:this.content},null,8,["innerHTML"]),hi])}var fi={props:{id:{type:String,required:!0},title:{type:String,required:!0},content:{type:String,required:!0}}};const bi=(0,a.Z)(fi,[["render",gi]]);var vi=bi,wi={props:{articles:{type:Array,required:!1}},components:{ArticleListItem:vi},methods:{mapArticlesToIDs(){let e=Array.prototype.slice.call(document.getElementsByTagName("h4"));this.elementToIdMap=e.reduce(((e,t)=>{let i=t.offsetTop;return e[i]=t.id,e}),{})},onScroll(){let e=window.scrollY,t=25,i=this.elementToIdMap,n=null;for(let r in i)if(parseFloat(r)>=e-t)return n=i[r],this.$emit("onArticleScroll",n)},parseJsonStrings(){let e=Array.prototype.slice.call(document.getElementsByTagName("samp"));e.forEach((e=>{let t=e.innerText;t=t.replace(/\s/g,""),t=t.replace(/,(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/g,",\n"),t=t.replace(/{/g,"{\n"),t=t.replace(/}/g,"\n}"),t=t.replace(/\n/g,"\n    "),t=t.replace(/:(?![^"]*"(?:(?:[^"]*"){2})*[^"]*$)/g,": "),t=t.replace(/\[/g,"[\n    "),t=t.replace(/\]/g,"\n]"),e.innerText=t}))}},created(){document.addEventListener("scroll",this.onScroll)},updated(){this.mapArticlesToIDs()},unmounted(){document.removeEventListener("scroll",this.onScroll)},mounted(){this.mapArticlesToIDs(),this.parseJsonStrings()},data(){return{elementToIdMap:null}}};const Ti=(0,a.Z)(wi,[["render",yi]]);var Ii=Ti;const Ai=(0,s._)("h3",null,"Websockets Playground",-1),ki=(0,s.Uk)(" In order to use the playground, you need to authenticate your session. See the "),Si=(0,s.Uk)("Authentication"),Ci=(0,s.Uk)(" page for getting started instructions. "),xi=(0,s._)("p",null," The following playground can be used to test the websockets functionality before implementing it in your application. ",-1);function qi(e,t,i,n,r,o){const a=(0,s.up)("router-link"),c=(0,s.up)("warning"),d=(0,s.up)("websocket-client");return(0,s.wg)(),(0,s.iD)(s.HY,null,[Ai,(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("p",null,[ki,(0,s.Wm)(a,{to:"/authentication"},{default:(0,s.w5)((()=>[Si])),_:1}),Ci])])),_:1}),xi,(0,s.Wm)(d,{id:"websocket-playground"})],64)}const Pi=e=>((0,s.dD)("data-v-cdc75920"),e=e(),(0,s.Cn)(),e),Di={class:"playground-container"},Mi={class:"playground-row"},_i=Pi((()=>(0,s._)("span",null,"URL:",-1))),Ei={class:"buttons"},Oi={class:"playground-row"},Ri=Pi((()=>(0,s._)("span",null,"Message:",-1))),ji={class:"buttons"},Bi=Pi((()=>(0,s._)("span",null,"Output:",-1))),Fi={class:"playground-output-container"};function Li(e,t,i,r,o,a){const c=(0,s.up)("websocket-message");return(0,s.wg)(),(0,s.iD)("div",Di,[(0,s._)("div",Mi,[_i,(0,s.wy)((0,s._)("input",{type:"url","onUpdate:modelValue":t[0]||(t[0]=e=>this.url=e)},null,512),[[n.nr,this.url]]),(0,s._)("div",Ei,[this.connected?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:0,id:"connect",onClick:t[1]||(t[1]=e=>a.connect(this.url))},"Connect")),this.connected?((0,s.wg)(),(0,s.iD)("button",{key:1,id:"disconnect",onClick:t[2]||(t[2]=(...e)=>a.disconnect&&a.disconnect(...e))},"Disconnect")):(0,s.kq)("",!0)])]),(0,s._)("div",Oi,[Ri,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>this.currentMessage=e)},null,512),[[n.nr,this.currentMessage]]),(0,s._)("div",ji,[(0,s._)("button",{id:"send",onClick:t[4]||(t[4]=(...e)=>a.sendMessage&&a.sendMessage(...e))},"Send")])]),Bi,(0,s._)("div",Fi,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.messages,((e,t)=>((0,s.wg)(),(0,s.j4)(c,(0,s.dG)(e,{key:t}),null,16)))),128))])])}const Ni={class:"message"};function Ui(e,t,i,n,r,o){return(0,s.wg)(),(0,s.iD)("div",Ni,[(0,s._)("i",{class:(0,u.C_)(this.messageIcon)},null,2),(0,s._)("span",null,(0,u.zw)(this.message),1)])}var $i={props:{message:{type:String,required:!0},type:{type:String,required:!0}},computed:{messageIcon(){const e="fa-solid fa-arrow-right",t="fa-solid fa-arrow-left";return"outbound"==this.type?e:t}}};const Yi=(0,a.Z)($i,[["render",Ui]]);var Hi=Yi,Wi={components:{WebsocketMessage:Hi},data(){return{connected:!1,url:"wss://localhost:5000/v1/api/ws",socket:null,currentMessage:"",messages:[]}},methods:{connect(e){this.connected||(this.socket=new WebSocket(e),this.socket.timeout=1e4,this.socket.binaryType="blob",this.messages.push({type:"outbound",message:`Attempting to open a websocket connection to: ${e}`}),this.socket.onopen=()=>{this.connected=!0,this.socket.addEventListener("message",(e=>{this.onMessageReceived(e)})),this.messages.push({type:"inbound",message:"Connection with server established succesfully"})})},disconnect(){this.connected&&(this.socket.close(),this.connected=!1,this.messages.push({type:"inbound",message:`Closed websocket connection to: ${this.url}`}))},sendMessage(){this.connected&&this.currentMessage&&(this.socket.send(this.currentMessage),this.messages.push({type:"outbound",message:this.currentMessage}))},onMessageReceived(e){e.data.text().then((e=>{this.messages.push({type:"inbound",message:e})}))}}};const Gi=(0,a.Z)(Wi,[["render",Li],["__scopeId","data-v-cdc75920"]]);var Vi=Gi,zi={components:{WebsocketClient:Vi,Warning:Be}};const Ki=(0,a.Z)(zi,[["render",qi]]);var Qi=Ki,Xi={components:{BaseLayout:se,ScrollableSidenav:ui,AccountToggle:J,ArticleList:Ii,WebsocketPlayground:Qi,Warning:Be},data(){let e=Q();return{store:e,content:null,activeSectionID:null}},methods:{onScroll(){let e=Array.prototype.slice.call(document.getElementsByTagName("h4")),t=e.reduce(((e,t)=>{let i=t.offsetTop;return e[i]=t.id,e}),{}),i=window.scrollY,n=25;for(let r in t)if(parseFloat(r)>=i-n)return void(this.activeSectionID=t[r])}},watch:{content(){hljs.highlightAll()}},created(){document.addEventListener("scroll",this.onScroll)},computed:{activeTab(){this.content="individual"==this.store.accountType?ri:oi;let e=marked.parse(this.content),t=document.createElement("div");t.innerHTML=e;let i=Array.prototype.slice.call(t.getElementsByTagName("h4"));return i.forEach((e=>{let t=e.innerText,i=t.replace(/\s+/g,"-").toLowerCase();e.id=i})),this.content=t.innerHTML,this.content},getSectionsList(){let e=document.createElement("div");e.innerHTML=this.content;let t=[];for(let i=0;i<e.children.length;i++){let n=e.children[i];"H3"==n.tagName&&t.push({category:n.innerText,titles:[]}),"H4"==n.tagName&&t[t.length-1].titles.push({id:n.id,title:n.innerText})}return t.length>0&&t.push({category:"Websocket Playground",titles:[{id:"websocket-playground",title:"Websocket Playground"}]}),t},getActiveSectionId(){return 0==this.getSectionsList.length?null:this.activeSectionID||this.getSectionsList[0].titles[0].id}}};const Zi=(0,a.Z)(Xi,[["render",ii],["__scopeId","data-v-6149f7cc"]]);var Ji=Zi;const en={class:"content-header"},tn=(0,s._)("h2",null,"Use Cases",-1),nn=(0,s._)("p",null," No institutional specifc information for the selected topic. Please see individual tab for more information about this page. ",-1);function rn(e,t,i,n,r,o){const a=(0,s.up)("account-toggle"),c=(0,s.up)("warning"),d=(0,s.up)("component"),p=(0,s.up)("scrollable-sidenav"),l=(0,s.up)("base-layout");return(0,s.wg)(),(0,s.j4)(l,null,{content:(0,s.w5)((()=>[(0,s._)("div",en,[tn,(0,s.Wm)(a,{id:"active"})]),0==o.activeTab.length?((0,s.wg)(),(0,s.j4)(c,{key:0},{default:(0,s.w5)((()=>[nn])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(d,{innerHTML:o.activeTab,id:"parsedContent"},null,8,["innerHTML"])])),aside:(0,s.w5)((()=>[(0,s.Wm)(p,{sections:o.getSectionsList,activeSection:o.getActiveSectionId},null,8,["sections","activeSection"])])),_:1})}const sn='\n### Connectivity\n\n#### Differences between Client Portal API and TWS API\n\nClient Portal API is a web based API, that is, requests to the IBKR backend are sent over the internet. \nIn comparison, TWS API is designed to programatically interact with the Trader Workstation software over a local socket connection.\nIn order to use Client Portal API, a lightweight API gateway, or in the case of institutional clients, OAuth or a dedicated connection, is required, whereas for TWS API, a working installation of TWS is required.\n\n**Note:** For more information about TWS API, please see the official [documentation](https://interactivebrokers.github.io/tws-api).\n\n---\n\n#### Competing sessions\n\nOnly a single active brokerage session can exist for any username accross all IBKR services. \nIf you are logged in to either Client Portal, TWS, or IBKR Mobile, make sure to log out and try reauthenticating your session Client Portal API again. \nThe endpoint **/reauthenticate** can be used to reauthenticate the brokerage session. \n\n**Tip:** The query parameter **force=true** can be passed to the **/reauthenticate** endpoint to disconnect other competing sessions before reauthenticating.\n\n---\n\n#### Session duration\n\nThe maximum amount of time that the Client Portal API session can remain authenticated is 24 hours. \nAfter this time, clients will need to reauthenticate their session by following the instructions on the [Quickstart](./quickstart) page.\nIn addition, the session will time out if no requests are received within a span of 5 minutes. \nIn order to prevent this from happening, you can use the **/sso/validate** endpoint can be called on a regular basis. It is recommended to call this endpoint approximately every minute.\n\n---\n\n#### Multiple usernames\n\nClients wishing to use multiple IBKR products at the same time (TWS, IBKR Mobile or Client Portal) can do so by creating a new username \nthat can then be used to log into other services while using the Client Portal API. \nTo create a second username please see the following [IBKR Knowledege Base](https://ibkr.info/node/1004) article. \n\n**Note:** In accordance with market data vendor requirements, market data services are user-specific and any username subscribed will be assessed a separate market data subscription fee.\n\n---\n\n#### Network Error while accessing endpoints\n\nIn order to use the endpoints and websockets functionality on the documentation page inside a web browser, Cross Origin Resource Blocking (CORB) \nneeds to be disabled from within the browser.\nSeveral extensions for both Chrome and Firefox are available to toggle CORB on and off from within the browser.\n\n**Tip:** CORB is disabled by default when using API testing tools such as Postman or Thunder Client.\n\n---\n\n#### Authenticating without a gateway\n\nIt is currently not possible for individual clients to authenticate a Client Portal API session without a gateway.\n\n---\n\n#### Opting out of 2FA\n\nSince the login process to the Client Portal API is the same as that for Client Portal, which has access to sensitve data such as funds and banking, it is \nnot possible to remove the requirement for the second factor device. This is only possible in some situations for trading applications such as TWS.\n\n---\n\n#### Automated login\n\nFor security reasons, automated login to Client Portal API is not currently supported for individual clients. The API gateway was designed to require\nthe end user to manually enter their credentials into a web browser to authenticate their brokerage session. \n\n**Note:** Interactive Brokers is unable to provide recommendations or support for third-party solutions that provide a workaround around this requirement.\n\n---\n\n#### Invalid SSL certificate\n\nSince the gateway is running on your premises, the certificate needs to be created and self-signed by you, or offically signed by a trusted third-party. \nThe gateway is similar to other webservers, such as Tomcat, which doesn\'t provide a certificate along with the release. To fix this issue, \nplease see the certificate generation steps below:\n\n- Create a self-signed certificate by following the following <a href="https://www.sslshopper.com/article-how-to-create-a-self-signed-certificate-using-java-keytool.html">guide</a>.     \n- Place the generated *.jks certificate file in the \'root\' folder in the gateway directory.\n- Update the sslCert and sslPwd fields in the gateway configuration file with the details used when generating the certificate.\n- Restart the gateway.\n\n---\n\n#### Pacing limitations\n\nInteractive Brokers has implemented pacing limits on endpoints accessible via Client Portal API. Currently a limit of 10 requests per second exists.\nIn addition some endpoint specific limits are also in place. These limits can be found in the table below.\n\nWhere this limit is exceeded, the API will return a "429 Too Many Requests" exception. Violator IP addresses are put in a penalty box for 10 minutes.\nAfter this period, the IP address is removed from the penalty box until another request exceeds the limit again. \nRepeat violator IP addresses can be permamently blocked until the issue is resolved. \n\n<div class=\'scrollable-table-container\'>\n    <table class=\'styled-table\'>\n        <thead>\n            <tr>\n                    <th>Endpoint</th>\n                    <th>Method</th>\n                    <th>Limit</th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr>\n                <td>/iserver/marketdata/snapshot</td>\n                <td>GET</td>\n                <td>10 req/s</td>\n            </tr>\n            <tr>\n                <td>/iserver/marketdata/history</td>\n                <td>GET</td>\n                <td>5 concurrent requests</td>\n                </tr>\n                <tr>\n                <td>/iserver/scanner/params</td>\n                <td>GET</td>\n                <td>1 req/15 mins</td>\n                </tr>\n                <tr>\n                <td>/iserver/scanner/run</td>\n                <td>POST</td>\n                <td>1 req/sec</td>\n            </tr>\n            <tr>\n                <td>/iserver/trades</td>\n                <td>GET</td>\n                <td>1 req/5 secs</td>\n            </tr>\n            <tr>\n                <td>iserver/orders</td>\n                <td>GET</td>\n                <td>1 req/5 secs</td>\n            </tr>\n            <tr>\n                <td>/iserver/account/pnl/partitioned</td>\n                <td>GET</td>\n                <td>1 req/5 secs</td>\n            </tr>\n            <tr>\n                <td>/portfolio/accounts</td>\n                <td>GET</td>\n                <td>1 req/5 secs</td>\n                </tr>\n            <tr>\n                <td>/portfolio/subaccounts</td>\n                <td>GET</td>\n                <td>1 req/5 secs</td>\n            </tr>\n            <tr>\n                <td>/pa/performance</td>\n                <td>POST</td>\n                <td>1 req/15 mins</td>\n                </tr>\n            <tr>\n                <td>/pa/summary</td>\n                <td>POST</td>\n                <td>1 req/15 mins</td>\n            </tr>\n            <tr>\n                <td>/pa/transactions</td>\n                <td>POST</td>\n                <td>1 req/15 mins</td>\n            </tr>\n            <tr>\n            <td>/trsv/secdef</td>\n            <td>POST</td>\n                <td>200 conids/request</td>\n                </tr>\n                <tr>\n                <td>/fyi/unreadnumber</td>\n                <td>GET</td>\n                <td>1 req/sec</td>\n                </tr>\n                <tr>\n                <td>/fyi/settings</td>\n                <td>GET</td>\n                <td>1 req/sec</td>\n                </tr>\n            <tr>\n            <td>/fyi/settings/{typecode}</td>\n            <td>POST</td>\n                <td>1 req/sec</td>\n            </tr>\n            <tr>\n                <td>/fyi/disclaimer/{typecode}</td>\n                <td>GET</td>\n                <td>1 req/sec</td>\n            </tr>\n            <tr>\n                <td>/fyi/disclaimer/{typecode}</td>\n                <td>PUT</td>\n                <td>1 req/sec</td>\n            </tr>\n            <tr>\n                <td>/fyi/deliveryoptions</td>\n                <td>GET</td>\n                <td>1 req/sec</td>\n            </tr>\n            <tr>\n                <td>/fyi/deliveryoptions/email</td>\n                <td>PUT</td>\n                <td>1 req/sec</td>\n                </tr>\n            <tr>\n                <td>/fyi/deliveryoptions/device</td>\n                <td>POST</td>\n                <td>1 req/sec</td>\n                </tr>\n                <tr>\n                <td>/fyi/deliveryoptions/{deviceId}</td>\n                <td>DELETE</td>\n                <td>1 req/sec</td>\n                </tr>\n                <tr>\n                <td>/fyi/notifications</td>\n                <td>GET</td>\n                <td>1 req/sec</td>\n            </tr>\n            <tr>\n                <td>/fyi/notifications/more</td>\n                <td>GET</td>\n                <td>1 req/sec</td>\n                </tr>\n                <tr>\n                <td>/fyi/notifications/{notificationId}</td>\n                <td>PUT</td>\n                <td>1 req/sec</td>\n                </tr>\n                <tr>\n                <td>/tickle</td>\n                <td>GET</td>\n                <td>1 req/sec</td>\n            </tr>\n            <tr>\n                <td>/sso/validate</td>\n                <td>GET</td>\n                <td>1 req/min</td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n    \n---\n    \n#### Bad Request Error\n\nA Bad Request may be returned from some endpoints in the case of an invalid JSON body, for instance if it has carriage returns/newlines. \nPlease try first removing these and call the endpoint again.\n\n---\n\n### Market Data\n\n#### Snapshot Requests\n\nClient Portal API allows API consumers to request market data snapshots for most instruments. \nIn order to retrieve market data snapshots, the API consumer must first create a snapshot request subscription. \nThe response contains details about the subscribed snapshot request, the symbol, and requested fields.\nIn order to retrieve the market data, subsequent calls to the **/marketdata/snapshot** endpoint must be made.\n\n---\n\n#### Option Chains\n\nWhen requesting market data for options, set the strike price to zero to retrieve the entire option chain for that symbol.\n\n---\n\n### Order Operations\n\n#### Combo Orders\n\nClient Portal API supports the placement of combo orders via the **/iserver/account/{accountId}/orders** endpoint. When \nplacing such orders the **conid** field must be replaced with **conidex**. The **conidex** field is a semi-colon delimited string of combo order parameters in the format:\n\n```\n{spread_conid};;;{leg_conid1}/{ration},{leg_conid2}/{ratio}\n```\n\nWhere the **spread_conid** is the contract identifier for the spread, **leg_conid** represent the contract ids of the individual legs, and **ratio** is the \nratio of shares for each leg. For US options the **spread_conid** is set to 28812380. For options trading on non-US based exchanges the format **conid@exchange** should be used instead.\nA positive **ratio** value indicates a long leg, while a negative value indicates a short leg.\n\nAn example of a US based combo order is:\n\n``` json\n{\n    "orders": [\n      {\n        "acctId": "DU*******",  \n        "conidex": "28812380;;;397534457/1,493186808/-1", \n        "cOID": "84401484",\n        "orderType": "LMT",\n        "listingExchange": "",\n        "outsideRTH": false,\n        "price": 1.25,\n        "side": "BUY",\n        "ticker": "",\n        "tif": "DAY",\n        "referrer": "NO_REFERRER_PROVIDED",\n        "quantity": 1,\n        "isClose": false\n      }\n    ]\n  }\n```\n\n---\n\n\n### Account Data & Reports\n\n#### Portfolio discrepancies\n\nDue to filtering differences accross our platform, some discrepancies in portfolio data obtained via Client Portal API may be present.\nFor comparison purposes, statemenents generated via Client Portal or via Flex Queries should be considered as reliable sources of information.\n\n---\n\n#### Flex Queries\n\nGenerating complex reports is not currently supported in Client Portal API. Interactive Brokers does provide an alternative API, Flex Web Service, which allows for the retrieval of pre-made reports, known as Flex Queries, from Client Portal via HTTPS. \nTo learn more about Flex Query and the Flex Web Service API please refer to the official [Flex Web Service API](https://guides.interactivebrokers.com/am/am/reports/using_the_flex_web_service.htm) documentation. \n\n**Note:** A live account must be used when creating Flex Queries.\n\n---\n\n#### Order updates\n\nSimilarly to market data snapshots, order updates retrieved via the **/iserver/account/orders** endpoints will require two calls to the server before meaningful data is returned. The first call creates a subscription to the order updates, with the second call returning the actual data.\nPlease allow up to 5 seconds for the order updates subscription to be created before making the second call.\n\n---\n';var on=sn;const an="";var cn=an,dn={components:{BaseLayout:se,ScrollableSidenav:ui,AccountToggle:J,Warning:Be},data(){return{store:Q(),content:null,activeSectionID:null}},methods:{onScroll(){let e=Array.prototype.slice.call(document.getElementsByTagName("h4")),t=e.reduce(((e,t)=>{let i=t.offsetTop;return e[i]=t.id,e}),{}),i=window.scrollY,n=25;for(let r in t)if(parseFloat(r)>=i-n)return void(this.activeSectionID=t[r])}},watch:{content(){hljs.highlightAll()}},created(){document.addEventListener("scroll",this.onScroll)},computed:{activeTab(){this.content="individual"==this.store.accountType?on:cn;let e=marked.parse(this.content),t=document.createElement("div");t.innerHTML=e;let i=Array.prototype.slice.call(t.getElementsByTagName("h4"));return i.forEach((e=>{let t=e.innerText,i=t.replace(/\s+/g,"-").toLowerCase();e.id=i})),this.content=t.innerHTML,this.content},getSectionsList(){let e=document.createElement("div");e.innerHTML=this.content;let t=[];for(let i=0;i<e.children.length;i++){let n=e.children[i];"H3"==n.tagName&&t.push({category:n.innerText,titles:[]}),"H4"==n.tagName&&t[t.length-1].titles.push({id:n.id,title:n.innerText})}return t},getActiveSectionId(){return 0==this.getSectionsList.length?null:this.activeSectionID||this.getSectionsList[0].titles[0].id}}};const pn=(0,a.Z)(dn,[["render",rn]]);var ln=pn;const un=e=>((0,s.dD)("data-v-d38c5ece"),e=e(),(0,s.Cn)(),e),yn=un((()=>(0,s._)("h2",null,"Changelog",-1))),mn=un((()=>(0,s._)("p",null," This page showcases updates for both Client Portal API and it's Documentation page. ",-1))),hn=un((()=>(0,s._)("p",null,"There are no changes available that meet the selected criteria. Remove some filters to see results.",-1))),gn={class:"filters"};function fn(e,t,i,n,r,o){const a=(0,s.up)("warning"),c=(0,s.up)("changelog-section"),d=(0,s.up)("changelog-filters-list"),p=(0,s.up)("base-layout");return(0,s.wg)(),(0,s.j4)(p,{reverseWrap:!0},{content:(0,s.w5)((()=>[yn,mn,0==e.store.filteredChangelog.length?((0,s.wg)(),(0,s.j4)(a,{key:0},{default:(0,s.w5)((()=>[hn])),_:1})):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.store.filteredChangelog,((e,t)=>((0,s.wg)(),(0,s.j4)(c,(0,s.dG)(e,{key:t}),null,16)))),128))])),aside:(0,s.w5)((()=>[(0,s._)("div",gn,[(0,s.Wm)(d)])])),_:1})}const bn=e=>((0,s.dD)("data-v-65f22f76"),e=e(),(0,s.Cn)(),e),vn={class:"header"},wn={class:"changelog-tags"},Tn=["innerHTML"],In=bn((()=>(0,s._)("hr",null,null,-1)));function An(e,t,i,n,r,o){const a=(0,s.up)("changelog-filter");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",vn,[(0,s._)("h3",null,(0,u.zw)(this.humanReadableDate),1),(0,s._)("div",wn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.tags,(e=>((0,s.wg)(),(0,s.j4)(a,{tag:e},null,8,["tag"])))),256))])]),(0,s._)("p",null,(0,u.zw)(i.description),1),(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.changes,(e=>((0,s.wg)(),(0,s.iD)("li",{innerHTML:e},null,8,Tn)))),256))]),In],64)}const kn=["id"];function Sn(e,t,i,n,r,o){return(0,s.wg)(),(0,s.iD)("div",{class:"filter-container",id:i.isActive?"active":null},[(0,s._)("span",null,(0,u.zw)(i.tag),1)],8,kn)}var Cn={props:{tag:{type:String,required:!0},isActive:{type:Boolean,required:!1,default:!1}}};const xn=(0,a.Z)(Cn,[["render",Sn],["__scopeId","data-v-41ec98b2"]]);var qn=xn,Pn={props:{date:{type:String,required:!0},description:{type:String,required:!0},tags:{type:Array,required:!0},changes:{type:Array,required:!0}},components:{ChangelogFilter:qn},computed:{humanReadableDate(){const e=new Date(this.date),t=e.toLocaleDateString("en-US",{weekday:"long"}),i=e.toLocaleDateString("en-US",{month:"long"}),n=e.getDate(),r=n%10===1&&11!==n?"st":n%10===2&&12!==n?"nd":n%10===3&&13!==n?"rd":"th",s=e.getFullYear();return`${t}, ${i} ${n}${r}, ${s}`}}};const Dn=(0,a.Z)(Pn,[["render",An],["__scopeId","data-v-65f22f76"]]);var Mn=Dn;const _n=e=>((0,s.dD)("data-v-71f967d4"),e=e(),(0,s.Cn)(),e),En={class:"changelog-filters-list"},On={class:"header"},Rn=_n((()=>(0,s._)("h2",null,"Filter changes",-1))),jn={class:"changelog-filters"};function Bn(e,t,i,n,r,o){const a=(0,s.up)("changelog-filter");return(0,s.wg)(),(0,s.iD)("div",En,[(0,s._)("div",On,[Rn,0!=n.store.activeFilters.length?((0,s.wg)(),(0,s.iD)("a",{key:0,onClick:t[0]||(t[0]=(...e)=>n.store.clearFilters&&n.store.clearFilters(...e))},"Clear all")):(0,s.kq)("",!0)]),(0,s._)("div",jn,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.store.changelogTags,((e,t)=>((0,s.wg)(),(0,s.j4)(a,{tag:e,isActive:n.store.activeFilters.includes(e),key:t,onClick:t=>n.store.toggleFilter(e)},null,8,["tag","isActive","onClick"])))),128))])])}var Fn={setup(){const e=be();return{store:e}},components:{ChangelogFilter:qn}};const Ln=(0,a.Z)(Fn,[["render",Bn],["__scopeId","data-v-71f967d4"]]);var Nn=Ln,Un={setup:()=>({store:be()}),components:{BaseLayout:se,ChangelogSection:Mn,ChangelogFiltersList:Nn,Warning:Be}};const $n=(0,a.Z)(Un,[["render",fn],["__scopeId","data-v-d38c5ece"]]);var Yn=$n;const Hn=e=>((0,s.dD)("data-v-3530ea4e"),e=e(),(0,s.Cn)(),e),Wn=Hn((()=>(0,s._)("h2",null,"Support",-1))),Gn=(0,s.Uk)(" For common integration scenarios, make sure you have reviewed the "),Vn=(0,s.Uk)("use cases"),zn=(0,s.Uk)(" section first. "),Kn=Hn((()=>(0,s._)("p",null," This page is intended to provide guidance on how to troubleshoot issues with Client Portal API and get in touch with the support team. ",-1))),Qn=Hn((()=>(0,s._)("p",null," Please note that Interactive Brokers is unable to provide support for third-party solutions. When troubleshooting third-party libraries, try to reproduce the problem using the native Client Portal API first. If the problem still exists after using the native API, contact support; otherwise, contact the third-party developer. ",-1))),Xn={class:"resources"},Zn=Hn((()=>(0,s._)("h2",null,"Resources",-1)));function Jn(e,t,i,n,r,o){const a=(0,s.up)("router-link"),c=(0,s.up)("warning"),d=(0,s.up)("expandable-card"),p=(0,s.up)("resource-link"),l=(0,s.up)("base-layout");return(0,s.wg)(),(0,s.j4)(l,null,{content:(0,s.w5)((()=>[Wn,(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s._)("p",null,[Gn,(0,s.Wm)(a,{to:"/use-cases"},{default:(0,s.w5)((()=>[Vn])),_:1}),zn])])),_:1}),Kn,Qn,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.cards,(e=>((0,s.wg)(),(0,s.j4)(d,(0,u.vs)((0,s.F4)(e)),null,16)))),256))])),aside:(0,s.w5)((()=>[(0,s._)("div",Xn,[Zn,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.resources,(e=>((0,s.wg)(),(0,s.j4)(p,(0,u.vs)((0,s.F4)(e)),null,16)))),256))])])),_:1})}var er={components:{BaseLayout:se,ExpandableCard:me,ResourceLink:Dt,Warning:Be},data(){return{cards:[{title:"Step One: Ensure your session is authenticated",content:"\n          <p>\n            In order to use Client Portal API, an authenticated brokerage session must be established. \n            The easiest way to check if the current session is authenticated is by making a POST request to the endpoint <b>/iserver/auth/status</b>. \n            If the session is fully authenticated the response will contain the field 'authenticated' set to true. \n            If you are not seeing this, first check the <a href='./quickstart'>Quickstart</a> page for instructions on authenticating your session, or <a href=\"./authentication\">Authentication</a> for common authentication questions.\n          </p>\n          <p>\n            <b>Note:</b> It may take a some time for the <b>/iserver/auth/status</b> endpoint to return a true value for the authentication status when logging in. \n            If you're using Client Portal API for the first time, please allow up to 15 minutes for the session to fully authenticate.\n          </p>\n          "},{title:"Step Two: Call other endpoints",content:"\n            <p>\n              Most endpoints are self-contained, however in a few cases a preceeding endpoint must first be called before calling another endpoint. \n              As an example of this, the <b>/portfolio/accounts</b> endpoint must be called prior to other <b>/portfolio</b> endpoints in an individual account structure, \n              and <b>/portfolio/subaccounts</b> must be called first in an advisor or master account structure. \n              This will return a list of accounts that are valid to use with the other <b>/portfolio</b> endpoints.\n            </p>\n            "},{title:"Step Three: Generate request logs",content:"\n            <p>\n              When troubleshooting Client Portal API issues, it may sometimes be necessary for our client services team to obtain additional information about the request in the form of a request log. \n              As such you may be asked to generate a request log (HAR) and send it to us.\n            </p>\n            <p>\n              This file contains additional information about the network requests that are sent and received by your browser. \n              Your browser can generate such files by recording the content, timeline and status of network requests and responses while the issue occurs.\n              Most browsers have an option to preserve logs, which can then be exported. \n              Please see the 'How to generate a HAR file' link in the resources section of this page.\n            </p>\n          "},{title:"Get in touch with us",content:'\n          <p>\n            Interactive Brokers API support can be reached by creating a ticket in the Secure Message Center in Client Portal. See steps below for more information:\n            <ol>\n              <li> Login to <a href="https://interactivebrokers.com/en/home.php" target="_blank">Client Portal</a></li>\n              <li> Click on the head & shoulders icon in the upper right corner and select the Help option</li>\n              <li> Click on the Secure Message Center option and click "Compose" -> "New Ticket"</li>\n              <li> To report a Client Portal Web API issue, or to get support for a specific feature, please select the "API" -> "REST/Web API" from the topics list on the left</li>\n              <li> Enter a meaningful subject line and provide a concise description for the issue, steps taken, request details, add any log files as an attachment. Please note, you can only attach PDF, HAR files with logs as well as JPEG and PNG images if you would like to provide screenshots illustrating the issue.</li>\n          </p>\n          '}],resources:[{title:"How to generate a HAR file",url:"https://ibkr.info/article/3512",description:"Information on generating the HAR file used when troubleshooting web API issues."},{title:"Troubleshooting Client Portal API login failures",url:"https://ibkr.info/node/1132",description:"Review this article if you are experiencing issues logging in to Client Portal API."}]}}};const tr=(0,a.Z)(er,[["render",Jn],["__scopeId","data-v-3530ea4e"]]);var ir=tr;const nr=[{path:"/",name:"home",component:$e},{path:"/quickstart",name:"quickstart",component:yt},{path:"/authentication",name:"authentication",component:Et},{path:"/endpoints",name:"endpoints",component:Kt},{path:"/websockets",name:"websockets",component:Ji},{path:"/use-cases",name:"use-cases",component:ln},{path:"/changelog",name:"changelog",component:Yn},{path:"/support",name:"support",component:ir}],rr=(0,l.p7)({history:(0,l.PO)("/cpwebapi"),routes:nr,scrollBehavior(e,t,i){return{top:0}}});var sr=rr;(0,n.ri)(p).use(sr).use((0,r.WB)()).mount("#app")},24654:function(){},92643:function(e){"use strict";e.exports=JSON.parse('{"basePath":"/v1/api","host":"localhost:5000","produces":["application/json"],"name":"swagger","schemes":["https"],"swagger":"2.0","info":{"title":"Client Portal Web API","description":"Client Portal Web API","version":"1.0.0"},"paths":{"/ws":{"post":{"summary":"Websocket Endpoint","description":"The streaming API is documented under [Streaming WebSocket Data](./websockets) for details.","tags":["Streaming"],"responses":{"200":{"description":"confirms session is open"}}}},"/tickle":{"post":{"summary":"Ping the server to keep the session open","description":"If the gateway has not received any requests for several minutes an open session will automatically timeout. The tickle endpoint pings the server to prevent the session from ending. It is expected to call this endpoint approximately every 60 seconds to maintain the connection to the brokerage session.","tags":["Session"],"responses":{"200":{"description":"Returns details about the current user session"}}}},"/fyi/unreadnumber":{"get":{"summary":"Get unread number of fyis. The HTTP method POST is also supported.","tags":["FYI"],"description":"Returns the total number of unread fyis\\n","responses":{"200":{"description":"An object","schema":{"type":"object","properties":{"BN":{"type":"integer","description":"unread number"}}}}}}},"/fyi/settings":{"get":{"summary":"Get a list of subscriptions","tags":["FYI"],"description":"Return the current choices of subscriptions, we can toggle the option\\n","responses":{"200":{"description":"An array","schema":{"type":"array","items":{"type":"object","properties":{"A":{"type":"integer","description":"optional, if A doesn\'t exist, it means user can\'t toggle this option. 0-off, 1-on."},"FC":{"type":"string","description":"fyi code"},"H":{"type":"integer","description":"disclaimer read, 1 = yes, = 0 no."},"FD":{"type":"string","description":"detailed description"},"FN":{"type":"string","description":"title"}}}}}}}},"/fyi/settings/{typecode}":{"post":{"summary":"Enable/Disable certain subscription","tags":["FYI"],"description":"Configure which typecode you would like to enable/disable.\\n","parameters":[{"name":"typecode","in":"path","required":true,"type":"string","description":"fyi code"},{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"enabled":{"type":"boolean"}}}}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object"}}}}},"/fyi/disclaimer/{typecode}":{"get":{"summary":"Get disclaimer for a certain kind of fyi","tags":["FYI"],"parameters":[{"name":"typecode","in":"path","required":true,"type":"string","description":"fyi code, for example --M8, EA"}],"responses":{"200":{"description":"receives the disclaimer message","schema":{"type":"object","properties":{"DT":{"type":"string","description":"disclaimer message"},"FC":{"type":"string","description":"fyi code"}}}}}},"put":{"summary":"Mark disclaimer read","tags":["FYI"],"parameters":[{"name":"typecode","in":"path","required":true,"type":"string","description":"fyi code, for example --M8, EA"}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object","properties":{"T":{"type":"integer"},"V":{"type":"integer"}}}}}}},"/fyi/deliveryoptions":{"get":{"summary":"Get delivery options","tags":["FYI"],"description":"options for sending fyis to email and other devices\\n","responses":{"200":{"description":"An object","schema":{"type":"object","properties":{"M":{"type":"integer","description":"Email option is enabled or not 0-off, 1-on."},"E":{"type":"array","items":{"type":"object","description":"device","properties":{"NM":{"type":"string","description":"device name"},"I":{"type":"string","description":"device id"},"UI":{"type":"string","description":"unique device id"},"A":{"type":"string","description":"device is enabled or not 0-true, 1-false."}}}}}}}}}},"/fyi/deliveryoptions/email":{"put":{"summary":"Enable/Disable email option","tags":["FYI"],"parameters":[{"name":"enabled","in":"query","required":true,"type":"string","description":"true/false"}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object","properties":{"T":{"type":"integer"},"V":{"type":"integer"}}}}}}},"/fyi/deliveryoptions/device":{"post":{"summary":"Enable/Disable device option","tags":["FYI"],"parameters":[{"in":"body","name":"body","description":"device info","required":true,"schema":{"type":"object","properties":{"devicename":{"type":"string"},"deviceId":{"type":"string"},"uiName":{"type":"string"},"enabled":{"type":"boolean"}}}}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object","properties":{"T":{"type":"integer"},"V":{"type":"integer"}}}}}}},"/fyi/deliveryoptions/{deviceId}":{"delete":{"summary":"Delete a device","tags":["FYI"],"parameters":[{"name":"deviceId","in":"path","type":"string","required":true,"description":"device ID"}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object"}}}}},"/fyi/notifications":{"get":{"summary":"Get a list of notifications","tags":["FYI"],"parameters":[{"name":"exclude","in":"query","type":"string","description":"if set, don\'t set include"},{"name":"include","in":"query","type":"string","description":"if set, don\'t set exclude"},{"name":"max","in":"query","required":true,"type":"string","description":"max number of fyis in response"}],"responses":{"200":{"description":"An array","schema":{"$ref":"#/definitions/notifications"}}}}},"/fyi/notifications/more":{"get":{"summary":"Get more notifications based on a certain one","tags":["FYI"],"parameters":[{"name":"id","in":"query","required":true,"type":"string","description":"id of last notification in the list"}],"responses":{"200":{"description":"An array","schema":{"$ref":"#/definitions/notifications"}}}}},"/fyi/notifications/{notificationId}":{"put":{"summary":"Get a list of notifications","tags":["FYI"],"parameters":[{"name":"notificationId","in":"path","required":true,"type":"string","description":"mark a notification read"}],"responses":{"200":{"description":"when 200 receives, it means successful","schema":{"type":"object"}}}}},"/trsrv/secdef":{"post":{"summary":"Secdef by Conid","description":"Returns a list of security definitions for the given conids","tags":["Contract"],"parameters":[{"in":"body","name":"body","description":"request body","required":true,"schema":{"type":"object","properties":{"conids":{"type":"array","items":{"type":"integer","description":"contract id"}}}}}],"responses":{"200":{"description":"returns an array of secdef info","schema":{"$ref":"#/definitions/secdef"}}}}},"/trsrv/secdef/schedule":{"get":{"summary":"Get trading schedule for symbol","description":"Returns the trading schedule up to a month for the requested contract","tags":["Contract"],"parameters":[{"in":"query","name":"assetClass","description":"specify the asset class of the contract.\\nAvailable values-- Stock: STK, Option: OPT, Future: FUT, Contract For Difference: CFD, Warrant: WAR, Forex: SWP, Mutual Fund: FND, Bond: BND, Inter-Commodity Spreads: ICS\\n","required":true,"type":"string"},{"in":"query","name":"symbol","description":"Underlying Symbol for specified contract, for example \'AAPL\' for US Stock - Apple Inc.","required":true,"type":"string"},{"in":"query","name":"exchange","description":"Native exchange for contract, for example \'NASDAQ\' for US Stock - Apple Inc.","required":false,"type":"string"},{"in":"query","name":"exchangeFilter","description":"Response only returns trading schedule for specified exchange","required":false,"type":"string"}],"responses":{"200":{"description":"Returns an object","schema":{"type":"object","properties":{"id":{"description":"Exchange parameter id","type":"string"},"tradeVenueId":{"description":"Reference on a trade venue of given exchange parameter","type":"string"},"schedules":{"description":"Always contains at least one \'tradingTime\'  and zero or more \'sessionTime\' tags","type":"array","items":{"type":"object","properties":{"clearingCycleEndTime":{"type":"integer"},"tradingScheduleDate":{"type":"integer","description":"20000101 stands for any Sat, 20000102 stands for any Sun, ... 20000107 stands for any Fri. Any other date stands for itself."},"sessions":{"type":"object","description":"If the LIQUID hours differs from the total trading day then a separate \'session\' tag is returned.","properties":{"openingTime":{"type":"integer"},"closingTime":{"type":"integer"},"prop":{"type":"string","description":"If the whole trading day is considered LIQUID then the value \'LIQUID\' is returned."}}},"tradingTimes":{"description":"Returns tradingTime in exchange time zone.","type":"object","properties":{"openingTime":{"type":"integer"},"closingTime":{"type":"integer"},"cancelDayOrders":{"type":"string"}}}}}}}}}}}},"/trsrv/futures":{"get":{"summary":"Security Futures by Symbol","description":"Returns a list of non-expired future contracts for given symbol(s)","tags":["Contract"],"parameters":[{"in":"query","name":"symbols","description":"list of case-sensitive symbols separated by comma","required":true,"type":"string"}],"responses":{"200":{"description":"returns an object with symbol and and array of its future contracts","schema":{"type":"object","properties":{"symbol":{"$ref":"#/definitions/futures"}}}},"500":{"description":"error while processing the request","schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"/trsrv/stocks":{"get":{"summary":"Security Stocks by Symbol","description":"Returns an object contains all stock contracts for given symbol(s)","tags":["Contract"],"parameters":[{"in":"query","name":"symbols","description":"list of upper-sensitive symbols separated by comma","required":true,"type":"string"}],"responses":{"200":{"description":"returns an object with symbols","schema":{"type":"object","properties":{"symbol":{"$ref":"#/definitions/stocks"}}}},"500":{"description":"error while processing the request","schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"/logout":{"post":{"summary":"Ends the current session","description":"Logs the user out of the gateway session. Any further activity requires re-authentication.","tags":["Session"],"responses":{"200":{"description":"returned status indicates if user is logged in","schema":{"type":"object","properties":{"confirmed":{"description":"true means username is still logged in, false means it is not","type":"boolean"}}}}}}},"/hmds/history":{"get":{"summary":"Market Data History (Beta)","description":"Using a direct connection to the market data farm, will provide a list of historical market data for given conid.","tags":["Market Data"],"parameters":[{"in":"query","name":"conid","description":"contract id","required":true,"type":"integer"},{"in":"query","name":"period","enum":["min","h","d","w","m","y"],"description":"Time period for history request. \\n  * min: Minutes\\n  * h: Hours\\n  * d: Days\\n  * w: Weeks\\n  * m: Months\\n  * y: Years\\n","required":true,"type":"string"},{"in":"query","name":"bar","enum":["min","h","d","w","m"],"description":"Duration of time for each candlestick bar.\\n  * min: Minutes\\n  * h: Hours\\n  * d: Days\\n  * w: Weeks\\n  * m: Months\\n","required":false,"type":"string"},{"in":"query","name":"outsideRth","description":"For contracts that support it, will determine if history data includes outside of regular trading hours.","required":false,"type":"boolean"}],"responses":{"200":{"description":"Valid result","schema":{"$ref":"#/definitions/history-result"}},"400":{"description":"Bad request"}}}},"/sso/validate":{"get":{"summary":"Validate SSO","description":"Validates the current session for the SSO user","tags":["Session"],"responses":{"200":{"description":"An Object","schema":{"type":"object","properties":{"LOGIN_TYPE":{"description":"1 for Live, 2 for Paper","type":"number"},"USER_NAME":{"description":"Username","type":"string"},"USER_ID":{"description":"User ID","type":"number"},"expire":{"description":"Time in milliseconds until session expires. Caller needs to call the again to re-validate session","type":"number"},"RESULT":{"description":"true if session was validated; false if not.","type":"boolean"},"AUTH_TIME":{"description":"Time of session validation","type":"number"}}}},"401":{"description":"Authentication failed"},"500":{"description":"System failed"}}}},"/hmds/scanner":{"post":{"summary":"Run Scanner (Beta)","description":"Using a direct connection to the market data farm, will provide results to the requested scanner.","tags":["Scanner"],"parameters":[{"in":"body","name":"body","description":"request body","required":true,"schema":{"type":"object","properties":{"instrument":{"type":"string","example":"BOND.GOVT"},"locations":{"type":"string","example":"BOND.GOVT.US"},"scanCode":{"type":"string","example":"FAR_MATURITY_DATE"},"secType":{"type":"string","example":"BOND"},"filters":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string","example":"bondValidNetBidOrAskOnly"},"value":{"description":"Value can be either an integer, double, boolean or a string depending upon the type of filter specified in the code section","example":true}}}}}}}],"responses":{"200":{"description":"Valid result","schema":{"$ref":"#/definitions/scanner-result"}},"400":{"description":"Bad request"}}}},"/md/snapshot":{"get":{"summary":"Market Data Snapshot (Beta)","description":"Get a snapshot of Market Data for the given conid(s).See response for a list of available fields that can be requested from the fields argument.\\nMust be connected to a brokerage session before can query snapshot data.\\nFirst /snapshot endpoint call for given conid(s) will initiate the market data request, make an additional request to receive field values back.\\nTo receive all available fields the /snapshot endpoint will need to be called several times.\\nTo receive streaming market data the endpoint /ws can be used. Refer to [Streaming WebSocket Data](./websockets) for details.\\n","tags":["Market Data"],"parameters":[{"name":"conids","in":"query","required":true,"enum":["conid@exchange:instrType"],"description":"List of conids comma separated. Optional exchange and instrument type can be specified.\\n  * conid: IBKR Contract Identifier\\n  * exchange: Exchange or venue\\n  * instrType: Instrument Type supported values: CS (Stocks), OPT (Options), FUT (Futures), FOP (Future Options), WAR (Warrants), BOND (Bonds), FUND (Mutual Funds), CASH (Forex), CFD (Contract for difference), IND (Index)\\n","type":"string"},{"name":"fields","in":"query","type":"string","description":"list of fields separated by comma","example":[31,84,85,86,88]}],"responses":{"200":{"description":"An Object","schema":{"$ref":"#/definitions/market-data"}},"401":{"description":"Authentication failed"},"500":{"description":"System failed"}}}},"/pa/performance":{"post":{"summary":"Account Performance","description":"Returns the performance (MTM) for the given accounts, if more than one account is passed, the result is consolidated.","tags":["PortfolioAnalyst"],"parameters":[{"in":"body","name":"body","description":"an array of account ids","required":true,"schema":{"type":"object","properties":{"acctIds":{"type":"array","items":{"type":"string","description":"account id"}},"freq":{"type":"string","enum":["D","M","Q"],"description":"Frequency of cumulative performance data points: \'D\'aily, \'M\'onthly,\'Q\'uarterly.\\n"}}}}],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/performance"}}}}},"/pa/transactions":{"post":{"summary":"Position\'s Transaction History","description":"transaction history for a given number of conids and accounts.\\nTypes of transactions include dividend payments, buy and sell transactions, transfers.\\n","tags":["PortfolioAnalyst"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"acctIds":{"type":"array","items":{"type":"string","description":"account id"}},"conids":{"type":"array","items":{"type":"number","description":"array only supports one conid at a time."}},"currency":{"type":"string","example":"USD","description":"optional defaults to USD."},"days":{"type":"number","example":7,"description":"optional, default value is 90"}}}}],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/transactions"}}}}},"/portfolio/accounts":{"get":{"summary":"Portfolio Accounts","description":"In non-tiered account structures, returns a list of accounts for which the user can view position and account information. This endpoint must be called prior to calling other /portfolio endpoints for those accounts. For querying a list of accounts which the user can trade, see /iserver/accounts. For a list of subaccounts in tiered account structures (e.g. financial advisor or ibroker accounts) see /portfolio/subaccounts.","tags":["Account","Portfolio"],"responses":{"200":{"description":"An array","schema":{"$ref":"#/definitions/accounts"}}}}},"/portfolio/subaccounts":{"get":{"summary":"List of Sub-Accounts","description":"Used in tiered account structures (such as Financial Advisor and IBroker Accounts) to return a list of up to 100 sub-accounts for which the user can view position and account-related information. This endpoint must be called prior to calling other /portfolio endpoints for those sub-accounts. If you have more than 100 sub-accounts use /portfolio/subaccounts2. To query a list of accounts the user can trade, see /iserver/accounts.","tags":["Account","Portfolio"],"responses":{"200":{"description":"An array","schema":{"$ref":"#/definitions/account"}}}}},"/portfolio/subaccounts2":{"get":{"summary":"List of Sub-Accounts (Large Accounts)","description":"Used in tiered account structures (such as Financial Advisor and IBroker Accounts) to return a list of sub-accounts, paginated up to 20 accounts per page, for which the user can view position and account-related information. This endpoint must be called prior to calling other /portfolio endpoints for those sub-accounts. If you have less than 100 sub-accounts use /portfolio/subaccounts. To query a list of accounts the user can trade, see /iserver/accounts.","tags":["Account","Portfolio"],"parameters":[{"name":"page","in":"path","required":true,"type":"string","default":"0"}],"responses":{"200":{"description":"An object containing an array","schema":{"type":"object","properties":{"metadata":{"type":"object","properties":{"total":{"type":"number","description":"Number of sub-accounts"},"pageSize":{"type":"number","description":"How many sub-accounts are returned for the page requested. A max of 20 per page."},"pageNume":{"type":"number","description":"Current page number."}}},"subaccounts":{"type":"array","items":{"type":"object","description":"Account information","properties":{"id":{"type":"string","description":"The account identification value"},"accountId":{"type":"string","description":"The account number","example":"U12345678 for Individual Live Accounts, DU12345678 for Individual Paper Accounts"},"accountVan":{"type":"string","description":"The accountAlias"},"accountTitle":{"type":"string","description":"Title of the account"},"displayName":{"type":"string","description":"Whichever value is not null in this priority","enum":["accountTitle","accountVan","accountId"]},"accountAlias":{"type":"string","description":"User customizable account alias. Refer to [Configure Account Alias](https://guides.interactivebrokers.com/cp/cp.htm#am/settings/accountalias.htm) for details."},"accountStatus":{"type":"number","description":"When the account was opened in unix time."},"currency":{"type":"string","description":"Base currency of the account.","enum":["AUD","GBP","CAD","CNH","CZK","DKK","EUR","HKD","HUF","INR","ILS","JPY","MXN","NOK","NZD","PLN","RUB","SGD","SEK","CHF","USD"]},"type":{"type":"string","description":"Account Type","enum":["INDIVIDUAL","JOINT","ORG","TRUST","DEMO"]},"tradingType":{"type":"string","description":"UNI - Deprecated property"},"faclient":{"type":"boolean","description":"If an account is a sub-account to a Financial Advisor."},"clearingStatus":{"type":"string","enum":["O","P","N","A","R","C"],"description":"Status of the Account\\n  * O = Open\\n  * P or N = Pending\\n  * A = Abandoned\\n  * R = Rejected\\n  * C = Closed\\n  covestor:\\n    type: boolean\\n    description: Is a Covestor Account\\n  parent:\\n    type: object\\n    properties:\\n      mmc:\\n        type: array\\n        items:\\n          type: string\\n          description: Money Manager Client (MMC) Account\\n      accountId:\\n        type: string\\n        description: Account Number for Money Manager Client\\n      isMParent:\\n        type: boolean\\n        description: Is MM a Parent Account\\n      isMChild:\\n        type: boolean\\n        description: Is MM a Child Account\\n      isMultiplex:\\n        type: boolean\\n        description: Is a Multiplex Account. These are account models with individual account being parent and managed account being child.\\n  desc:\\n    type: string\\n    description: Formatted \\"accountId - accountAlias\\"\\n"}}}}}}}}}},"/portfolio/{accountId}/meta":{"get":{"summary":"Account Information","description":"Account information related to account Id /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Account","Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"An object","schema":{"$ref":"#/definitions/accounts"}}}}},"/portfolio/{accountId}/allocation":{"get":{"summary":"Account Allocation","description":"Information about the account\'s portfolio allocation by Asset Class, Industry and Category.  /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"returns an object of three different allocations","schema":{"$ref":"#/definitions/allocation"}}}}},"/portfolio/allocation":{"post":{"summary":"Account Alloction (All Accounts)","description":"Similar to /portfolio/{accountId}/allocation but returns a consolidated view of of all the accounts returned by /portfolio/accounts. /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Portfolio"],"parameters":[{"in":"body","name":"body","description":"accounts info","required":true,"schema":{"type":"object","properties":{"acctIds":{"type":"array","items":{"type":"string","description":"account id"}}}}}],"responses":{"200":{"description":"returns an object of three different allocations","schema":{"$ref":"#/definitions/allocation"}}}}},"/portfolio/{accountId}/positions/{pageId}":{"get":{"summary":"Portfolio Positions","description":"Returns a list of positions for the given account. The endpoint supports paging, page\'s default size is 30 positions. /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"name":"pageId","in":"path","required":true,"type":"string","default":"0","description":"page id"},{"name":"model","in":"query","type":"string","description":"optional"},{"name":"sort","in":"query","type":"string","description":"declare the table to be sorted by which column"},{"name":"direction","in":"query","type":"string","description":"in which order, a means ascending - d means descending"},{"name":"period","in":"query","type":"string","description":"period for pnl column, can be 1D, 7D, 1M..."}],"responses":{"200":{"description":"returns a list of positions in the portfolio","schema":{"$ref":"#/definitions/position"}}}}},"/portfolio/{accountId}/position/{conid}":{"get":{"summary":"Position by Conid","description":"Returns a list of all positions matching the conid. For portfolio models the conid could be in more than one model, returning an array with the name of the model it belongs to.  /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"name":"conid","in":"path","required":true,"type":"integer","description":"contract id"}],"responses":{"200":{"description":"returns a list containing only one position for the conid","schema":{"$ref":"#/definitions/position"}}}}},"/portfolio/{accountId}/positions/invalidate":{"post":{"summary":"Invalidates the backend cache of the Portfolio","tags":["Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"Means successful","schema":{"type":"object"}}}}},"/portfolio/{accountId}/summary":{"get":{"summary":"Account Summary","description":"Returns information about margin, cash balances and other information related to specified account. See also /portfolio/{accountId}/ledger. /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Account","Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"returns an object containing account summary. The object contains multiple properties. A property is sufficed with -c if its provides commodity value, -s if it provides security value and -c if its UKL segment value","schema":{"type":"object","properties":{"accountready":{"$ref":"#/definitions/summary"},"accounttype":{"$ref":"#/definitions/summary"},"accruedcash":{"$ref":"#/definitions/summary"},"accruedcash-c":{"$ref":"#/definitions/summary"},"accruedcash-f":{"$ref":"#/definitions/summary"},"accruedcash-s":{"$ref":"#/definitions/summary"},"accrueddividend":{"$ref":"#/definitions/summary"},"accrueddividend-c":{"$ref":"#/definitions/summary"},"accrueddividend-f":{"$ref":"#/definitions/summary"},"accrueddividend-s":{"$ref":"#/definitions/summary"},"availablefunds":{"$ref":"#/definitions/summary"},"availablefunds-c":{"$ref":"#/definitions/summary"},"availablefunds-f":{"$ref":"#/definitions/summary"},"availablefunds-s":{"$ref":"#/definitions/summary"},"billable":{"$ref":"#/definitions/summary"},"billable-c":{"$ref":"#/definitions/summary"},"billable-f":{"$ref":"#/definitions/summary"},"billable-s":{"$ref":"#/definitions/summary"},"buyingpower":{"$ref":"#/definitions/summary"},"cushion":{"$ref":"#/definitions/summary"},"daytradesremaining":{"$ref":"#/definitions/summary"},"daytradesremainingt+1":{"$ref":"#/definitions/summary"},"daytradesremainingt+2":{"$ref":"#/definitions/summary"},"daytradesremainingt+3":{"$ref":"#/definitions/summary"},"daytradesremainingt+4":{"$ref":"#/definitions/summary"},"equitywithloanvalue":{"$ref":"#/definitions/summary"},"equitywithloanvalue-c":{"$ref":"#/definitions/summary"},"equitywithloanvalue-f":{"$ref":"#/definitions/summary"},"equitywithloanvalue-s":{"$ref":"#/definitions/summary"},"excessliquidity":{"$ref":"#/definitions/summary"},"excessliquidity-c":{"$ref":"#/definitions/summary"},"excessliquidity-f":{"$ref":"#/definitions/summary"},"excessliquidity-s":{"$ref":"#/definitions/summary"},"fullavailablefunds":{"$ref":"#/definitions/summary"},"fullavailablefunds-c":{"$ref":"#/definitions/summary"},"fullavailablefunds-f":{"$ref":"#/definitions/summary"},"fullavailablefunds-s":{"$ref":"#/definitions/summary"},"fullexcessliquidity":{"$ref":"#/definitions/summary"},"fullexcessliquidity-c":{"$ref":"#/definitions/summary"},"fullexcessliquidity-f":{"$ref":"#/definitions/summary"},"fullexcessliquidity-s":{"$ref":"#/definitions/summary"},"fullinitmarginreq":{"$ref":"#/definitions/summary"},"fullinitmarginreq-c":{"$ref":"#/definitions/summary"},"fullinitmarginreq-f":{"$ref":"#/definitions/summary"},"fullinitmarginreq-s":{"$ref":"#/definitions/summary"},"fullmaintmarginreq":{"$ref":"#/definitions/summary"},"fullmaintmarginreq-c":{"$ref":"#/definitions/summary"},"fullmaintmarginreq-f":{"$ref":"#/definitions/summary"},"fullmaintmarginreq-s":{"$ref":"#/definitions/summary"},"grosspositionvalue":{"$ref":"#/definitions/summary"},"grosspositionvalue-c":{"$ref":"#/definitions/summary"},"grosspositionvalue-f":{"$ref":"#/definitions/summary"},"grosspositionvalue-s":{"$ref":"#/definitions/summary"},"guarantee":{"$ref":"#/definitions/summary"},"guarantee-c":{"$ref":"#/definitions/summary"},"guarantee-f":{"$ref":"#/definitions/summary"},"guarantee-s":{"$ref":"#/definitions/summary"},"highestseverity":{"$ref":"#/definitions/summary"},"highestseverity-c":{"$ref":"#/definitions/summary"},"highestseverity-f":{"$ref":"#/definitions/summary"},"highestseverity-s":{"$ref":"#/definitions/summary"},"indianstockhaircut":{"$ref":"#/definitions/summary"},"indianstockhaircut-c":{"$ref":"#/definitions/summary"},"indianstockhaircut-f":{"$ref":"#/definitions/summary"},"indianstockhaircut-s":{"$ref":"#/definitions/summary"},"initmarginreq":{"$ref":"#/definitions/summary"},"initmarginreq-c":{"$ref":"#/definitions/summary"},"initmarginreq-f":{"$ref":"#/definitions/summary"},"initmarginreq-s":{"$ref":"#/definitions/summary"},"leverage":{"$ref":"#/definitions/summary"},"leverage-c":{"$ref":"#/definitions/summary"},"leverage-f":{"$ref":"#/definitions/summary"},"leverage-s":{"$ref":"#/definitions/summary"},"lookaheadavailablefunds":{"$ref":"#/definitions/summary"},"lookaheadavailablefunds-c":{"$ref":"#/definitions/summary"},"lookaheadavailablefunds-f":{"$ref":"#/definitions/summary"},"lookaheadavailablefunds-s":{"$ref":"#/definitions/summary"},"lookaheadexcessliquidity":{"$ref":"#/definitions/summary"},"lookaheadexcessliquidity-c":{"$ref":"#/definitions/summary"},"lookaheadexcessliquidity-f":{"$ref":"#/definitions/summary"},"lookaheadexcessliquidity-s":{"$ref":"#/definitions/summary"},"lookaheadinitmarginreq":{"$ref":"#/definitions/summary"},"lookaheadinitmarginreq-c":{"$ref":"#/definitions/summary"},"lookaheadinitmarginreq-f":{"$ref":"#/definitions/summary"},"lookaheadinitmarginreq-s":{"$ref":"#/definitions/summary"},"lookaheadmaintmarginreq":{"$ref":"#/definitions/summary"},"lookaheadmaintmarginreq-c":{"$ref":"#/definitions/summary"},"lookaheadmaintmarginreq-f":{"$ref":"#/definitions/summary"},"lookaheadmaintmarginreq-s":{"$ref":"#/definitions/summary"},"lookaheadnextchange":{"$ref":"#/definitions/summary"},"maintmarginreq":{"$ref":"#/definitions/summary"},"maintmarginreq-c":{"$ref":"#/definitions/summary"},"maintmarginreq-f":{"$ref":"#/definitions/summary"},"maintmarginreq-s":{"$ref":"#/definitions/summary"},"netliquidation":{"$ref":"#/definitions/summary"},"netliquidation-c":{"$ref":"#/definitions/summary"},"netliquidation-f":{"$ref":"#/definitions/summary"},"netliquidation-s":{"$ref":"#/definitions/summary"},"netliquidationuncertainty":{"$ref":"#/definitions/summary"},"nlvandmargininreview":{"$ref":"#/definitions/summary"},"pasharesvalue":{"$ref":"#/definitions/summary"},"pasharesvalue-c":{"$ref":"#/definitions/summary"},"pasharesvalue-f":{"$ref":"#/definitions/summary"},"pasharesvalue-s":{"$ref":"#/definitions/summary"},"postexpirationexcess":{"$ref":"#/definitions/summary"},"postexpirationexcess-c":{"$ref":"#/definitions/summary"},"postexpirationexcess-f":{"$ref":"#/definitions/summary"},"postexpirationexcess-s":{"$ref":"#/definitions/summary"},"postexpirationmargin":{"$ref":"#/definitions/summary"},"postexpirationmargin-c":{"$ref":"#/definitions/summary"},"postexpirationmargin-f":{"$ref":"#/definitions/summary"},"postexpirationmargin-s":{"$ref":"#/definitions/summary"},"previousdayequitywithloanvalue":{"$ref":"#/definitions/summary"},"previousdayequitywithloanvalue-c":{"$ref":"#/definitions/summary"},"previousdayequitywithloanvalue-f":{"$ref":"#/definitions/summary"},"previousdayequitywithloanvalue-s":{"$ref":"#/definitions/summary"},"segmenttitle-c":{"$ref":"#/definitions/summary"},"segmenttitle-f":{"$ref":"#/definitions/summary"},"segmenttitle-s":{"$ref":"#/definitions/summary"},"totalcashvalue":{"$ref":"#/definitions/summary"},"totalcashvalue-c":{"$ref":"#/definitions/summary"},"totalcashvalue-f":{"$ref":"#/definitions/summary"},"totalcashvalue-s":{"$ref":"#/definitions/summary"},"totaldebitcardpendingcharges":{"$ref":"#/definitions/summary"},"totaldebitcardpendingcharges-c":{"$ref":"#/definitions/summary"},"totaldebitcardpendingcharges-f":{"$ref":"#/definitions/summary"},"totaldebitcardpendingcharges-s":{"$ref":"#/definitions/summary"},"tradingtype-f":{"$ref":"#/definitions/summary"},"tradingtype-s":{"$ref":"#/definitions/summary"}}}}}}},"/portfolio/{accountId}/ledger":{"get":{"summary":"Account Ledger","description":"Information regarding settled cash, cash balances, etc. in the account\'s base currency and any other cash balances hold in other currencies.  /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint. The list of supported currencies is available at https://www.interactivebrokers.com/en/index.php?f=3185.","tags":["Account","Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object","properties":{"BASE":{"$ref":"#/definitions/ledger"}}}}}}},"/portfolio/positions/{conid}":{"get":{"summary":"Positions by Conid","description":"Returns an object of all positions matching the conid for all the selected accounts. For portfolio models the conid could be in more than one model, returning an array with the name of the model it belongs to. /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Portfolio"],"parameters":[{"name":"conid","in":"path","required":true,"type":"integer","description":"contract id"}],"responses":{"200":{"description":"returns an object containing account and its position information","schema":{"type":"object","properties":{"ACCTID":{"$ref":"#/definitions/position"}}}}}}},"/iserver/auth/status":{"post":{"summary":"Authentication Status","description":"Current Authentication status to the Brokerage system. Market Data and Trading is not possible if not authenticated, e.g. authenticated shows false","tags":["Session"],"responses":{"200":{"description":"Authentication Status","schema":{"$ref":"#/definitions/authStatus"}}}}},"/iserver/reauthenticate":{"post":{"summary":"Tries to re-authenticate to Brokerage","description":"When using the CP Gateway, this endpoint provides a way to reauthenticate to the Brokerage system as long as there is a valid SSO session, see /sso/validate.\\n","tags":["Session"],"responses":{"200":{"description":"Authentication Status","schema":{"$ref":"#/definitions/authStatus"}}}}},"/iserver/account/trades":{"get":{"summary":"List of Trades for the selected account","description":"Returns a list of trades for the currently selected account for current day and six previous days. It is advised to call this endpoint once per session.\\n","tags":["Trades"],"responses":{"200":{"description":"An array of trades","schema":{"type":"array","items":{"$ref":"#/definitions/trade"}}}}}},"/iserver/accounts":{"get":{"summary":"Brokerage Accounts","description":"Returns a list of accounts the user has trading access to, their respective aliases and the currently selected account. Note this endpoint must be called before modifying an order or querying open orders.","tags":["Account"],"responses":{"200":{"description":"An array of accounts","schema":{"type":"object","properties":{"accounts":{"type":"array","items":{"type":"string"},"description":"Unique account id"},"aliases":{"type":"object","description":"Account Id and its alias"},"selectedAccount":{"type":"string"}}}}}}},"/iserver/account":{"post":{"summary":"Switch Account","description":"If an user has multiple accounts, and user wants to get orders, trades, etc. of an account other than currently selected account, then user can update the currently selected account using this API and then can fetch required information for the newly updated account.","tags":["Account"],"parameters":[{"in":"body","name":"body","required":true,"description":"account id","schema":{"$ref":"#/definitions/set-account"}}],"responses":{"200":{"description":"an object containing updated account ID","schema":{"type":"object","properties":{"set":{"type":"boolean"},"acctId":{"type":"string"}}}}}}},"/iserver/account/{accountId}/alert":{"post":{"summary":"Create or modify alert","description":"Please note here, DO NOT pass orderId when creating a new alert, toolId is only required for MTA alert\\n","tags":["Alert"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"in":"body","name":"body","description":"alert info","required":true,"schema":{"$ref":"#/definitions/alert-request"}}],"responses":{"200":{"description":"returns an object","schema":{"type":"object","properties":{"request_id":{"type":"integer"},"order_id":{"type":"integer"},"success":{"type":"boolean"},"text":{"type":"string"},"order_status":{"type":"string"},"warning_message":{"type":"string"}}}}}}},"/iserver/account/{accountId}/alerts":{"get":{"summary":"Get a list of available alerts","description":"The response will contain both active and inactive alerts, but it won\'t have MTA alert","tags":["Alert"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"returns an array of objects","schema":{"type":"array","items":{"type":"object","properties":{"order_id":{"type":"integer"},"account":{"type":"string","description":"account id"},"alert_name":{"type":"string"},"alert_active":{"type":"integer","description":"Value can only be 0 or 1, 1 means active"},"order_time":{"type":"string","description":"format, YYYYMMDD-HH:mm:ss, the time when you created the alert\\n"},"alert_triggered":{"type":"boolean","description":"whether the alert has been triggered or not"},"alert_repeatable":{"type":"integer","description":"whether the alert can be repeatable or not, value can be 1 or 0. 1 means true"}}}}}}}},"/iserver/account/{accountId}/alert/activate":{"post":{"summary":"Activate or deactivate an alert","description":"Please note, if alertId is 0, it will activate/deactivate all alerts","tags":["Alert"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"in":"body","name":"body","description":"order request info","required":true,"schema":{"type":"object","properties":{"alertId":{"description":"alert id(order id)","type":"integer"},"alertActive":{"description":"1 to activate, 0 to deactivate","type":"integer"}}}}],"responses":{"200":{"description":"returns an object","schema":{"type":"object","properties":{"request_id":{"type":"integer"},"order_id":{"type":"integer"},"success":{"type":"boolean"},"text":{"type":"string"},"order_status":{"type":"string"},"failure_list":{"type":"string"}}}}}}},"/iserver/account/{accountId}/alert/{alertId}":{"delete":{"summary":"Delete an alert","description":"Please be careful, if alertId is 0, it will delete all alerts","tags":["Alert"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"name":"alertId","in":"path","required":true,"type":"string","description":"alert id"}],"responses":{"200":{"description":"returns an object","schema":{"type":"object","properties":{"request_id":{"type":"integer"},"order_id":{"type":"integer"},"success":{"type":"boolean"},"text":{"type":"string"},"order_status":{"type":"string"},"failure_list":{"type":"string"}}}}}}},"/iserver/account/alert/{id}":{"get":{"summary":"Get details of an alert","description":"Use the endpoint /iserver/account/{accountId}/alerts to receive the alert id.\\nThe order_id in the response is the alert id.\\n","tags":["Alert"],"parameters":[{"name":"id","in":"path","required":true,"type":"string","description":"alert id"}],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/alert-response"}}}}},"/iserver/account/mta":{"get":{"summary":"Get MTA alert","description":"Each login user only has one mobile trading assistant (MTA) alert with it\'s own unique tool id.\\nThe tool id cannot be changed. When modified a new order Id is generated. MTA alerts can not\\nbe created or deleted. If you call delete /iserver/account/{accountId}/alert/{alertId},\\nit will reset MTA to default. See [here](https://www.interactivebrokers.com/en/software/mobileiphonemobile/mobileiphone.htm#monitor/trading-assistant.htm) for more information on MTA alerts.\\n","tags":["Alert"],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/alert-response"}}}}},"/iserver/account/orders":{"get":{"summary":"Live Orders","description":"The endpoint is meant to be used in polling mode, e.g. requesting every x seconds.\\nThe response will contain two objects, one is notification, the other is orders.\\nOrders is the list of live orders (cancelled, filled, submitted).\\nNotifications contains information about execute orders as they happen, see status field.\\nTo receive streaming live orders the endpoint /ws can be used. Refer to [Streaming WebSocket Data](./websockets) for details.\\n","tags":["Order"],"parameters":[{"in":"query","name":"Filters","description":"list of filters separated by comma","required":false,"type":"string"}],"responses":{"200":{"description":"An object contains two arrays","schema":{"type":"object","properties":{"filters":{"type":"array","items":{"type":"string","enum":["inactive","pending_submit","pre_submitted","submitted","filled","pending_cancel","cancelled","warn_state","sort_by_time"],"description":"Only return list of orders for filter value. More than one filter can be specified comma separated.\\n  * inactive: Order was received by the system but is no longer active because it was rejected or cancelled.\\n  * pending_submit: Order has been transmitted but have not received confirmation yet that order accepted by destination exchange or venue.\\n  * pre_submitted: Simulated order transmitted but the order has yet to be elected. Order is held by IB system until election criteria are met.\\n  * submitted: Order has been accepted by the system.\\n  * filled: Order has been completely filled.\\n  * pending_cancel: Sent an order cancellation request but have not yet received confirmation order cancelled by destination exchange or venue.\\n  * cancelled: The balance of your order has been confirmed canceled by the system.\\n  * warn_state: Order has a specific warning message such as for basket orders.\\n  * sort_by_time: There is an initial sort by order state performed so active orders are always above inactive and filled then orders are sorted chronologically.\\n"}},"orders":{"type":"array","items":{"type":"object","properties":{"acct":{"type":"string","description":"Account number"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange"},"conid":{"type":"number","description":"Contract identifier"},"orderId":{"type":"string","description":"Order identifier"},"cashCcy":{"type":"string","description":"Cash currency"},"sizeAndFills":{"type":"string","description":"Quantity outstanding and total quantity concatenated with forward slash separator"},"orderDesc":{"type":"string","description":"Order description"},"description1":{"type":"string","description":"Formatted ticker description"},"ticker":{"type":"string","description":"Underlying symbol"},"secType":{"type":"string","description":"Asset class"},"listingExchange":{"type":"string","description":"Listing Exchange"},"remainingQuantity":{"type":"number","description":"Quantity remaining"},"filledQuantity":{"type":"number","description":"Quantity filled"},"companyName":{"type":"string","description":"Company Name"},"status":{"type":"string","description":"Status of the order"},"origOrderType":{"type":"string","description":"Original order type"},"supportsTaxOpt":{"type":"number","description":"Supports Tax Optimization with 0 for no and 1 for yes"},"lastExecutionTime":{"type":"number","description":"Last status update in format YYMMDDhhmms based in GMT"},"lastExecutionTime_r":{"type":"number","description":"Last status update unix time in ms"},"orderType":{"type":"string","description":"Order type"},"order_ref":{"type":"string","description":"Order reference"},"side":{"type":"string","enum":["BUY","SELL","ASSN","EXER"],"description":"The side of the market of the order.\\n * BUY: Buy contract near posted ask price\\n * SELL: Sell contract near posted bid price\\n * ASSN: Option Assignment, if BUYSELL=BUY and OptionType=PUT or BUYSELL=SELL and OptionType=CALL\\n * EXER: Option Exercise, if BUYSELL=SELL and OptionType=PUT or BUYSELL=BUY and OptionType=CALL\\n"},"timeInForce":{"type":"string","description":"Time in force"},"price":{"type":"number","description":"Price of order"},"bgColor":{"type":"string","description":"Background color in hex format"},"fgColor":{"type":"string","description":"Foreground color in hex format"}}}},"snapshot":{"type":"boolean","description":"If live order update is a snapshot"}}}}}}},"/iserver/account/{accountId}/orders":{"post":{"summary":"Place Orders","description":"When connected to an IServer Brokerage Session, this endpoint will allow you to submit orders. \\nCP WEB API supports various advanced orderTypes, for additional details and examples refer to [IBKR Quant Blog](https://www.tradersinsight.news/category/ibkr-quant-news/programming_languages/rest-development/).\\n  * Bracket - Attach additional opposite-side order(s) by using a single **cOID** sent with the parent and set the same value for **parentId** in each child order(s).\\n  * Cash Quantity -  Send orders using monetary value by specifying **cashQty** instead of quantity, e.g. cashQty: 200. The endpoint /iserver/contract/rules returns list of valid orderTypes in cqtTypes.\\n  * Currency Conversion - Convert cash from one currency to another by including **isCcyConv** = **true**. To specify the cash quantity use **fxQTY** instead of quantity, e.g. fxQTY: 100.\\n  * IB Algos - Attached user-defined settings to your trades by using any of IBKR\'s Algo Orders. Use the endpoint /iserver/contract/{conid}/algos to identify the available strategies for a contract.\\n  * One-Cancels-All (OCA) - Group multiple unrelated orders by passing order request info in an array and including **isSingleGroup = true** for each order. All orders will be assigned the same oca_group_id.\\n","tags":["Order"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"in":"body","name":"body","description":"order request info","required":true,"schema":{"type":"object","properties":{"orders":{"type":"array","description":"Notes for bracket orders: 1. Children orders will not have its own \\"cOID\\", so please donot pass \\"cOID\\"\\nparameter in child order.Instead, they will have a \\"parentId\\" which must be equal to \\"cOID\\" of parent.\\n2. When you cancel a parent order, it will cancel all bracket orders, when you cancel one child order,\\nit will also cancel its sibling order.\\n","items":{"$ref":"#/definitions/order-request"}}}}}],"responses":{"200":{"description":"returns an array","schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"message":{"type":"array","description":"Please note here, if the message is a question, you have to reply to question in order to submit\\nthe order successfully. See more in the \\"/iserver/reply/{replyid}\\" endpoint.\\n","items":{"type":"string"}}}}}}}}},"/iserver/account/orders/{faGroup}":{"post":{"summary":"Place Orders for FA","description":"Financial Advisors can use this endpoint to place an order for a specified group. To place an order for a specified account use the endpoint /iserver/account/{accountId}/order.\\nMore information about groups can be found in the [TWS Users\' Guide:](https://guides.interactivebrokers.com/twsguide/twsguide.htm#usersguidebook/financialadvisors/create_an_account_group_for_share_allocation.htm).\\n","tags":["Order"],"parameters":[{"name":"faGroup","in":"path","required":true,"type":"string","description":"financial advisor group"},{"in":"body","name":"body","description":"order request info","required":true,"schema":{"$ref":"#/definitions/order-request"}}],"responses":{"200":{"description":"returns an array","schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"message":{"type":"array","description":"Please note here, if the message is a question, you have to reply to question in order to submit\\nthe order successfully. See more in the \\"/iserver/reply/{replyid}\\" endpoint.\\n","items":{"type":"string"}}}}}}}}},"/iserver/reply/{replyid}":{"post":{"summary":"Place Order Reply","description":"Reply to questions when placing orders and submit orders","tags":["Order"],"parameters":[{"name":"replyid","in":"path","required":true,"type":"string","description":"Please use the \\"id\\" from the response of \\"Place Order\\" endpoint"},{"in":"body","name":"body","description":"Answer to question","required":true,"schema":{"type":"object","properties":{"confirmed":{"description":"answer to question, true means yes, false means no","type":"boolean"}}}}],"responses":{"200":{"description":"Order is submitted successfully, returns an array contains one object","schema":{"type":"array","items":{"type":"object","properties":{"order_id":{"type":"string"},"order_status":{"type":"string"},"local_order_id":{"type":"string"}}}}},"400":{"description":"When you send \\"confirmed-false\\" in the request, you will receive this","schema":{"type":"object","properties":{"error":{"description":"for example-order not confirmed","type":"string"},"statusCode":{"type":"integer"}}}}}}},"/iserver/account/{accountId}/orders/whatif":{"post":{"summary":"Preview Orders","description":"This endpoint allows you to preview order without actually submitting the order and you can get\\ncommission information in the response. Also supports bracket orders.\\n","tags":["Order"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"in":"body","name":"body","description":"order info","required":true,"schema":{"type":"object","properties":{"orders":{"type":"array","description":"Notes for bracket orders: 1. Children orders will not have its own \\"cOID\\", so please donot pass \\"cOID\\"\\nparameter in child order.Instead, they will have a \\"parentId\\" which must be equal to \\"cOID\\" of parent.\\n2. When you cancel a parent order, it will cancel all bracket orders, when you cancel one child order,\\nit will also cancel its sibling order.\\n","items":{"$ref":"#/definitions/order-request"}}}}}],"responses":{"200":{"description":"returns an object","schema":{"type":"object","properties":{"amount":{"type":"object","properties":{"amount":{"type":"string","description":"for example 23,000 USD"},"commission":{"type":"string","description":"for example 1.1 ... 1.2 USD"},"total":{"type":"string"}}},"equity":{"type":"object","properties":{"current":{"type":"string"},"change":{"type":"string"},"after":{"type":"string"}}},"initial":{"type":"object","properties":{"current":{"type":"string"},"change":{"type":"string"},"after":{"type":"string"}}},"maintenance":{"type":"object","properties":{"current":{"type":"string"},"change":{"type":"string"},"after":{"type":"string"}}},"warn":{"type":"string"},"error":{"type":"string"}}}}}}},"/iserver/account/order/status/{orderId}":{"get":{"summary":"Order Status","tags":["Order"],"parameters":[{"name":"orderId","in":"path","description":"Customer order id, use /iservers/account/orders endpoint to query orderId.","required":true,"type":"string"}],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/order-status"}}}}},"/iserver/account/{accountId}/order/{orderId}":{"post":{"summary":"Modify Order","description":"Modifies an open order. Must call /iserver/accounts endpoint prior to modifying an order. Use /iservers/account/orders endpoint to review open-order(s).","tags":["Order"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id, or fa group if modifying a group order"},{"in":"path","name":"orderId","description":"Customer order id, use /iservers/account/orders endpoint to query orderId.","required":true,"type":"string"},{"in":"body","name":"body","description":"modify-order request","required":true,"schema":{"$ref":"#/definitions/modify-order"}}],"responses":{"200":{"description":"returns an array","schema":{"type":"array","items":{"type":"object","properties":{"order_id":{"type":"string"},"local_order_id":{"type":"string"},"order_status":{"type":"string"}}}}}}},"delete":{"summary":"Cancel Order","description":"Cancels an open order. Must call /iserver/accounts endpoint prior to cancelling an order. Use /iservers/account/orders endpoint to review open-order(s) and get latest order status.","tags":["Order"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id, or fa group if deleting a group order"},{"in":"path","name":"orderId","description":"Customer order id, use /iservers/account/orders endpoint to query orderId.","required":true,"type":"string"}],"responses":{"200":{"description":"returns an object with order id, message, conid and account id","schema":{"type":"object","properties":{"order_id":{"type":"string"},"msg":{"type":"string"},"conid":{"type":"integer"},"account":{"type":"string"}}}}}}},"/iserver/marketdata/snapshot":{"get":{"summary":"Market Data","description":"Get Market Data for the given conid(s). The endpoint will return by default bid, ask, last, change, change pct, close, listing exchange.\\nSee response fields for a list of available fields that can be request via fields argument.\\nThe endpoint /iserver/accounts must be called prior to /iserver/marketdata/snapshot.\\nFor derivative contracts the endpoint /iserver/secdef/search must be called first.\\nFirst /snapshot endpoint call for given conid will initiate the market data request. \\nTo receive all available fields the /snapshot endpoint will need to be called several times.\\nTo receive streaming market data the endpoint /ws can be used. Refer to [Streaming WebSocket Data](./websockets) for details.\\n","tags":["Market Data"],"parameters":[{"in":"query","name":"conids","description":"list of conids separated by comma","required":true,"type":"string"},{"in":"query","name":"since","description":"time period since which updates are required. uses epoch time with milliseconds.","required":true,"type":"integer"},{"in":"query","name":"fields","description":"list of fields separated by comma","required":true,"type":"string"}],"responses":{"200":{"description":"Returns an array of objects","schema":{"type":"array","items":{"type":"object","properties":{"31":{"type":"string","description":"Last Price - The last price at which the contract traded. May contain one of the following prefixes:\\n  * C - Previous day\'s closing price.\\n  * H - Trading has halted.\\n"},"55":{"type":"string","description":"Symbol"},"58":{"type":"string","description":"Text"},"70":{"type":"string","description":"High - Current day high price"},"71":{"type":"string","description":"Low - Current day low price"},"73":{"type":"string","description":"Market Value - The current market value of  your position in the security. Market Value is calculated with real time market data (even when not subscribed to market data)."},"74":{"type":"string","description":"Avg Price - The average price of the position."},"75":{"description":"Unrealized PnL - Unrealized profit or loss. Unrealized PnL is calculated with real time market data (even when not subscribed to market data).","type":"string"},"76":{"description":"Formatted position","type":"string"},"77":{"description":"Formatted Unrealized PnL","type":"string"},"78":{"description":"Daily PnL - Your profit or loss of the day since prior close. Daily PnL is calculated with real time market data (even when not subscribed to market data).","type":"string"},"79":{"description":"Realized PnL - Realized profit or loss. Realized PnL is calculated with real time market data (even when not subscribed to market data).","type":"string"},"80":{"description":"Unrealized PnL % - Unrealized profit or loss expressed in percentage.","type":"string"},"82":{"type":"string","description":"Change - The difference between the last price and the close on the previous trading day"},"83":{"type":"string","description":"Change % - The difference between the last price and the close on the previous trading day in percentage."},"84":{"type":"string","description":"Bid Price - The highest-priced bid on the contract."},"85":{"type":"string","description":"Ask Size - The number of contracts or shares offered at the ask price. For US stocks, the number displayed is divided by 100."},"86":{"type":"string","description":"Ask Price - The lowest-priced offer on the contract."},"87":{"type":"string","description":"Volume - Volume for the day, formatted with \'K\' for thousands or \'M\' for millions. For higher precision volume refer to field 7762."},"88":{"type":"string","description":"Bid Size - The number of contracts or shares bid for at the bid price. For US stocks, the number displayed is divided by 100."},"6004":{"type":"string","description":"Exchange"},"6008":{"type":"integer","description":"Conid - Contract identifier from IBKR\'s database."},"6070":{"type":"string","description":"SecType - The asset class of the instrument."},"6072":{"type":"string","description":"Months"},"6073":{"type":"string","description":"Regular Expiry"},"6119":{"type":"string","description":"Marker for market data delivery method (similar to request id)"},"6457":{"type":"integer","description":"Underlying Conid. Use /trsrv/secdef to get more information about the security"},"6508":{"type":"string","description":"Service Params."},"6509":{"type":"string","description":"Market Data Availability. The field may contain three chars. First char defines: R = RealTime, D = Delayed,\\nZ = Frozen, Y = Frozen Delayed, N = Not Subscribed. Second char defines: P = Snapshot, p = Consolidated.\\nThird char defines: B = Book\\n  * RealTime - Data is relayed back in real time without delay, market data subscription(s) are required.\\n  * Delayed - Data is relayed back 15-20 min delayed. \\n  * Frozen - Last recorded data at market close, relayed back in real time.\\n  * Frozen Delayed - Last recorded data at market close, relayed back delayed.\\n  * Not Subscribed - User does not have the required market data subscription(s) to relay back either real time or delayed data.\\n  * Snapshot - Snapshot request is available for contract.\\n  * Consolidated - Market data is aggregated across multiple exchanges or venues.\\n  * Book - Top of the book data is available for contract.\\n"},"7051":{"type":"string","description":"Company name"},"7057":{"type":"string","description":"Ask Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY\\n"},"7058":{"type":"string","description":"Last Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY\\n"},"7059":{"type":"string","description":"Last Size - The number of unites traded at the last price"},"7068":{"type":"string","description":"Bid Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY\\n"},"7084":{"type":"string","description":"Implied Vol./Hist. Vol % - The ratio of the implied volatility over the historical volatility, expressed as a percentage."},"7085":{"type":"string","description":"Put/Call Interest - Put option open interest/call option open interest for the trading day."},"7086":{"type":"string","description":"Put/Call Volume - Put option volume/call option volume for the trading day."},"7087":{"type":"string","description":"Hist. Vol. % - 30-day real-time historical volatility."},"7088":{"type":"string","description":"Hist. Vol. Close % - Shows the historical volatility based on previous close price."},"7089":{"type":"string","description":"Opt. Volume - Option Volume"},"7094":{"type":"string","description":"Conid + Exchange"},"7184":{"type":"string","description":"canBeTraded - If contract is a trade-able instrument. Returns 1(true) or 0(false)."},"7219":{"type":"string","description":"Contract Description"},"7220":{"type":"string","description":"Contract Description"},"7221":{"type":"string","description":"Listing Exchange"},"7280":{"type":"string","description":"Industry - Displays the type of industry under which the underlying company can be categorized."},"7281":{"type":"string","description":"Category - Displays a more detailed level of description within the industry under which the underlying company can be categorized."},"7282":{"type":"string","description":"Average Volume - The average daily trading volume over 90 days."},"7283":{"type":"string","description":"Option Implied Vol. % - A prediction of how volatile an underlying will be in the future.\\nAt the market volatility estimated for a maturity thirty calendar days forward of the current trading day, and based on option prices from two consecutive expiration months.\\nTo query the Implied Vol. % of a specific strike refer to field 7633.\\n"},"7284":{"type":"string","description":"Historic Volume (30d)"},"7285":{"type":"string","description":"Put/Call Ratio"},"7286":{"type":"string","description":"Dividend Amount - Displays the amount of the next dividend."},"7287":{"type":"string","description":"Dividend Yield % - This value is the toal of the expected dividend payments over the next twelve months per share divided by the Current Price and is expressed as a percentage.\\nFor derivatives, this displays the total of the expected dividend payments over the expiry date.\\n"},"7288":{"type":"string","description":"Ex-date of the dividend"},"7289":{"type":"string","description":"Market Cap"},"7290":{"type":"string","description":"P/E"},"7291":{"type":"string","description":"EPS"},"7292":{"type":"string","description":"Cost Basis - Your current position in this security multiplied by the average price and multiplier."},"7293":{"type":"string","description":"52 Week High - The highest price for the past 52 weeks."},"7294":{"type":"string","description":"52 Week Low - The lowest price for the past 52 weeks."},"7295":{"type":"string","description":"Open - Today\'s opening price."},"7296":{"type":"string","description":"Close - Today\'s closing price."},"7308":{"type":"string","description":"Delta - The ratio of the change in the price of the option to the corresponding change in the price of the underlying."},"7309":{"type":"string","description":"Gamma - The rate of change for the delta with respect to the underlying asset\'s price."},"7310":{"type":"string","description":"Theta - A measure of the rate of decline the value of an option due to the passage of time."},"7311":{"type":"string","description":"Vega - The amount that the price of an option changes compared to a 1% change in the volatility."},"7607":{"type":"string","description":"Opt. Volume Change % - Today\'s option volume as a percentage of the average option volume."},"7633":{"type":"string","description":"Implied Vol. % - The implied volatility for the specific strike of the option in percentage. To query the Option Implied Vol. % from the underlying refer to field 7283. \\n"},"7635":{"type":"string","description":"Mark - The mark price is, the ask price if ask is less than last price, the bid price if bid is more than the last price, otherwise it\'s equal to last price."},"7636":{"type":"string","description":"Shortable Shares - Number of shares available for shorting."},"7637":{"type":"string","description":"Fee Rate - Interest rate charged on borrowed shares."},"7638":{"type":"string","description":"Option Open Interest"},"7639":{"type":"string","description":"% of Mark Value - Displays the market value of the contract as a percentage of the total market value of the account.\\nMark Value is calculated with real time market data (even when not subscribed to market data).\\n"},"7644":{"type":"string","description":"Shortable - Describes the level of difficulty with which the security can be sold short."},"7655":{"type":"string","description":"Morningstar Rating - Displays Morningstar Rating provided value. Requires [Morningstar](https://www.interactivebrokers.com/en/index.php?f=14262) subscription."},"7671":{"type":"string","description":"Dividends - This value is the total of the expected dividend payments over the next twelve months per share."},"7672":{"type":"string","description":"Dividends TTM - This value is the total of the expected dividend payments over the last twelve months per share."},"7674":{"type":"string","description":"EMA(200) - Exponential moving average (N=200)."},"7675":{"type":"string","description":"EMA(100) - Exponential moving average (N=100)."},"7676":{"type":"string","description":"EMA(50) - Exponential moving average (N=50)."},"7677":{"type":"string","description":"EMA(20) - Exponential moving average (N=20)."},"7678":{"type":"string","description":"Price/EMA(200) - Price to Exponential moving average (N=200) ratio -1, displayed in percents."},"7679":{"type":"string","description":"Price/EMA(100) - Price to Exponential moving average (N=100) ratio -1, displayed in percents."},"7680":{"type":"string","description":"Price/EMA(50) - Price to Exponential moving average (N=50) ratio -1, displayed in percents."},"7681":{"type":"string","description":"Price/EMA(20) - Price to Exponential moving average (N=20) ratio -1, displayed in percents."},"7682":{"type":"string","description":"Change Since Open - The difference between the last price and the open price."},"7683":{"type":"string","description":"Upcoming Event - Shows the next major company event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7684":{"type":"string","description":"Upcoming Event Date - The date of the next major company event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7685":{"type":"string","description":"Upcoming Analyst Meeting - The date and time of the next scheduled analyst meeting. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7686":{"type":"string","description":"Upcoming Earnings - The date and time of the next scheduled earnings/earnings call event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7687":{"type":"string","description":"Upcoming Misc Event - The date and time of the next shareholder meeting, presentation or other event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7688":{"type":"string","description":"Recent Analyst Meeting - The date and time of the most recent analyst meeting. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7689":{"type":"string","description":"Recent Earnings - The date and time of the most recent earnings/earning call event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7690":{"type":"string","description":"Recent Misc Event - The date and time of the most recent shareholder meeting, presentation or other event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7694":{"type":"string","description":"Probability of Max Return - Customer implied probability of maximum potential gain."},"7695":{"type":"string","description":"Break Even - Break even points"},"7696":{"type":"string","description":"SPX Delta - Beta Weighted Delta is calculated using the formula; Delta x dollar adjusted beta, where adjusted beta is adjusted by the ratio of the close price."},"7697":{"type":"string","description":"Futures Open Interest - Total number of outstanding futures contracts"},"7698":{"type":"string","description":"Last Yield - Implied yield of the bond if it is purchased at the current last price. Last yield is calculated using the Last price on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7699":{"type":"string","description":"Bid Yield - Implied yield of the bond if it is purchased at the current bid price. Bid yield is calculated using the Ask on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7700":{"type":"string","description":"Probability of Max Return - Customer implied probability of maximum potential gain."},"7702":{"type":"string","description":"Probability of Max Loss - Customer implied probability of maximum potential loss."},"7703":{"type":"string","description":"Profit Probability - Customer implied probability of any gain."},"7704":{"type":"string","description":"Organization Type"},"7705":{"type":"string","description":"Debt Class"},"7706":{"type":"string","description":"Ratings - Ratings issued for bond contract."},"7707":{"type":"string","description":"Bond State Code"},"7708":{"type":"string","description":"Bond Type"},"7714":{"type":"string","description":"Last Trading Date"},"7715":{"type":"string","description":"Issue Date"},"7718":{"type":"string","description":"Beta - Beta is against standard index."},"7720":{"type":"string","description":"Ask Yield - Implied yield of the bond if it is purchased at the current offer. Ask yield is calculated using the Bid on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7741":{"type":"string","description":"Prior Close - Yesterday\'s closing price"},"7762":{"type":"string","description":"Volume Long - High precision volume for the day. For formatted volume refer to field 87."},"7768":{"type":"string","description":"hasTradingPermissions - if user has trading permissions for specified contract. Returns 1(true) or 0(false)."},"7920":{"type":"string","description":"Daily PnL Raw - Your profit or loss of the day since prior close. Daily PnL is calculated with real-time market data (even when not subscribed to market data)."},"7921":{"type":"string","description":"Cost Basis Raw - Your current position in this security multiplied by the average price and and multiplier."},"server_id":{"type":"string"},"conid":{"type":"integer"},"_updated":{"type":"integer"},"87_raw (deprecated)":{"type":"string","description":"Raw Volume - Volume for the day, provided in long form without formatted with K/M. This field value is deprecated, for high precision volume refer to field 7762."}}}}},"400":{"description":"sent when accounts are not queried before sending this request","schema":{"type":"object","properties":{"error":{"type":"string"},"statusCode":{"type":"integer"}}}}}}},"/iserver/marketdata/{conid}/unsubscribe":{"get":{"summary":"Market Data Cancel (Single)","description":"Cancel market data for given conid. To cancel all market data request(s), see /iserver/marketdata/unsubscribeall.\\n","tags":["Market Data"],"parameters":[{"name":"conid","in":"path","required":true,"type":"string","description":"contract id"}],"responses":{"200":{"description":"confirms market data for conid is cancelled","schema":{"type":"object","properties":{"confirmed":{"description":"success means market data was cancelled.","type":"string"}}}},"500":{"description":"cancel failed"}}}},"/iserver/marketdata/unsubscribeall":{"get":{"summary":"Market Data Cancel (All)","description":"Cancel all market data request(s). To cancel market data for given conid, see /iserver/marketdata/{conid}/unsubscribe.\\n","tags":["Market Data"],"responses":{"200":{"description":"confirms market data is cancelled","schema":{"type":"object","properties":{"confirmed":{"description":"true means market data is cancelled, false means it is not.","type":"boolean"}}}}}}},"/iserver/marketdata/history":{"get":{"summary":"Market Data History","description":"Get historical market Data for given conid, length of data is controlled by \'period\' and \'bar\'.\\nFormatted as: min=minute, h=hour, d=day, w=week, m=month, y=year\\ne.g. period =1y with bar =1w returns 52 data points (Max of 1000 data points supported).\\n**Note**: There\'s a limit of 5 concurrent requests. Excessive requests will return a \'Too many requests\' status 429 response.\\n","tags":["Market Data"],"parameters":[{"in":"query","name":"conid","description":"contract id","required":true,"type":"string"},{"in":"query","name":"exchange","description":"Exchange of the conid (e.g. ISLAND, NYSE, etc.). Default value is empty which corresponds to primary exchange of the conid.","required":false,"type":"string"},{"in":"query","name":"period","description":"available time period-- {1-30}min, {1-8}h, {1-1000}d, {1-792}w, {1-182}m, {1-15}y","required":true,"type":"string"},{"in":"query","name":"bar","description":"possible value-- 1min, 2min, 3min, 5min, 10min, 15min, 30min, 1h, 2h, 3h, 4h, 8h, 1d, 1w, 1m","required":false,"type":"string"},{"in":"query","name":"outsideRth","description":"For contracts that support it, will determine if historical data includes outside of regular trading hours.","required":false,"type":"boolean"}],"responses":{"200":{"description":"Returns an object","schema":{"$ref":"#/definitions/history-data"}},"429":{"description":"Too many requests","schema":{"type":"object","properties":{"error":{"type":"string"}}}},"500":{"description":"System Error","schema":{"$ref":"#/definitions/system-error"}}}}},"/iserver/contract/{conid}/info":{"get":{"summary":"Contract Details","description":"Using the Contract Identifier get contract info. You can use this to prefill your order before you submit an order","tags":["Contract"],"parameters":[{"name":"conid","in":"path","required":true,"type":"string","description":"contract id"}],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/contract"}}}}},"/iserver/secdef/search":{"post":{"summary":"Search by Symbol or Name","description":"Search by underlying symbol or company name. Relays back what derivative contract(s) it has. This endpoint must be called before using /secdef/info.\\nIf company name is specified will only receive limited response: conid, companyName, companyHeader and symbol.\\n","tags":["Contract"],"parameters":[{"in":"body","name":"symbol","required":true,"description":"Symbol or Company Name to be searched","schema":{"type":"object","required":["symbol"],"properties":{"symbol":{"type":"string","description":"symbol or name to be searched"},"name":{"type":"boolean","description":"should be true if the search is to be performed by name. false by default."},"secType":{"type":"string","description":"If search is done by name, only the assets provided in this field will be returned. Currently, only STK is supported."}}}}],"responses":{"200":{"description":"returns an array of results","schema":{"type":"array","items":{"type":"object","properties":{"conid":{"type":"integer","description":"Contract Identifier"},"companyHeader":{"type":"string","description":"Company Name - Exchange"},"companyName":{"type":"string"},"symbol":{"type":"string","description":"Underlying symbol"},"description":{"type":"string","description":"Exchange"},"restricted":{"type":"string"},"fop":{"type":"string","description":"List of Future Option expirations in YYYMMDD format separated by semicolon"},"opt":{"type":"string","description":"List of Option expirations in YYYYMMDD format separated by semicolon"},"war":{"type":"string","description":"List of Warrant expirations in YYYYMMDD format separated by semicolon"},"sections":{"type":"array","items":{"type":"object","properties":{"secType":{"type":"string","description":"Asset Class"},"months":{"type":"string","description":"List of expiration month(s) and year(s) in MMMYY format separated by semicolon"},"symbol":{"type":"string","description":"Underlying symbol"},"exchange":{"type":"string","description":"Listing Exchange"},"legSecType":{"type":"string","description":"For combo\'s defines the asset class for each leg"}}}}}}}},"500":{"description":"error while processing the request","schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"/iserver/secdef/strikes":{"get":{"summary":"Search Strikes","description":"Query strikes for Options/Warrants. For the conid of the underlying contract, available contract months and exchanges use \\"/iserver/secdef/search\\"","tags":["Contract"],"parameters":[{"in":"query","name":"conid","description":"contract id of the underlying contract","required":true,"type":"string"},{"in":"query","name":"sectype","description":"OPT/WAR","required":true,"type":"string"},{"in":"query","name":"month","description":"contract month","required":true,"type":"string"},{"in":"query","name":"exchange","description":"optional, default is SMART","required":false,"type":"string"}],"responses":{"200":{"description":"returns an object contains call/put strike prices","schema":{"type":"object","properties":{"call":{"type":"array","items":{"type":"string","example":["5","10","20"]}},"put":{"type":"array","items":{"type":"string","example":["5","10","20"]}}}}},"500":{"description":"error while processing the request","schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"/iserver/secdef/info":{"get":{"summary":"Secdef Info","description":"Provides Contract Details of Futures, Options, Warrants, Cash and CFDs based on conid. To get the strike price for Options/Warrants use \\"/iserver/secdef/strikes\\" endpoint. Must call /secdef/search for the underlying contract first.","tags":["Contract"],"parameters":[{"in":"query","name":"conid","description":"underlying contract id","required":true,"type":"string"},{"in":"query","name":"sectype","description":"FUT/OPT/WAR/CASH/CFD","required":true,"type":"string"},{"in":"query","name":"month","description":"contract month, only required for FUT/OPT/WAR in the format MMMYY, example JAN00","required":false,"type":"string"},{"in":"query","name":"exchange","description":"optional, default is SMART","required":false,"type":"string"},{"in":"query","name":"strike","description":"optional, only required for OPT/WAR","required":false,"type":"number"},{"in":"query","name":"right","description":"C for call, P for put","required":false,"type":"string"}],"responses":{"200":{"description":"returns an array of objects","schema":{"items":{"$ref":"#/definitions/secdef-info"}}},"500":{"description":"error while processing the request","schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"/iserver/contract/{conid}/algos":{"get":{"summary":"IB Algo Params","description":"Returns supported IB Algos for contract. Must be called a second time to query the list of available parameters.","tags":["Contract"],"parameters":[{"in":"path","name":"conid","description":"IBKR contract identifier","required":true,"type":"string"},{"in":"query","name":"algos","description":"List of algo ids delimited by \\";\\" to filter by. Max of 8 algos ids can be specified.","required":false,"type":"string"},{"in":"query","name":"addDescription","description":"Whether or not to add algo descriptions to response. Set to 1 for yes, 0 for no.","required":false,"type":"string"},{"in":"query","name":"addParams","description":"Whether or not to show algo parameters.  Set to 1 for yes, 0 for no.","required":false,"type":"string"}],"responses":{"200":{"description":"returns an array of algos","schema":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"id":{"type":"string"},"parameters":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The algo parameter"},"required":{"type":"boolean","description":"If true a value must be entered."},"name":{"type":"string","description":"Descriptive name of the parameter."},"valueClassName":{"type":"string","description":"Format of the parameter.","enum":["double","string","time","boolean"]},"minValue":{"type":"number","description":"Smallest value, only applies to parameters with valueClassName=Double."},"maxValue":{"type":"number","description":"Largest value, only applies to parameters with valueClassName=Double."},"defaultValue":{"type":"boolean","description":"User configured preset for this parameter."},"legalStrings":{"type":"string","description":"The list of choices","example":["ALL:Get Done","ALL:Aggressive","ALL:Neutral","ALL:Passive"]},"description":{"type":"string","description":"Detailed description of the parameter."},"guiRank":{"type":"number","description":"The order in UI, used when building dynamic UI so that more important parameters are presented first."},"priceMarketRule":{"type":"boolean","description":"If true, must specify parameter using market rule format. Only applies to parameters with valueClassName=Double."},"enabledConditions":{"type":"string","enum":["MKT:speedUp:=:no","LMT:strategyType:<>:empty","MKT:strategyType:=:Marketable"],"description":"The rules that UI should apply to algo parameters depending on chosen order type:\\n * MKT:speedUp:=:no - hide SpeedUp param when MKT is chosen for order type.\\n * LMT:strategyType:<>:empty - strategyType param cannot be empty when LMT is chosen for order type.\\n * MKT:strategyType:=:Marketable - set strategyType param to Marketable and disable (no other choice) when MKT is chosen for order type.\\n"}},"required":["id","valueClassName"]}}}}}}}}},"/iserver/contract/rules":{"post":{"summary":"Contract Rules","description":"Returns trading related rules for a specific contract and side. For both contract info and rules use the endpoint /iserver/contract/{conid}/info-and-rules.","tags":["Contract"],"parameters":[{"in":"body","name":"conid","required":true,"schema":{"type":"object","required":["conid","isBuy"],"properties":{"conid":{"type":"string","description":"IBKR contract identifier"},"isBuy":{"type":"boolean","description":"Side of the market rules apply too. Set to **true** for Buy Orders, set to **false** for Sell Orders"}}}}],"responses":{"200":{"description":"returns an array","schema":{"type":"object","properties":{"rules":{"type":"array","items":{"type":"object","properties":{"algoEligible":{"type":"boolean"},"canTradeAcctIds":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"List of Accounts that can be traded"}}}},"error":{"type":"string","description":"Returns a description on any errors with order presets"},"orderTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"list of available order types"}}}},"ibalgoTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support IB Algos"}}}},"fraqTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support fractional trades - NOTE: Fractional share orders cannot be placed using the IBKR API solutions"}}}},"cqtTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support cash quantity trades"}}}},"orderDefaults":{"type":"array","description":"If object returned will provide the defaults based on user settings","items":{"type":"object","properties":{"string":{"type":"array","description":"orderType","items":{"type":"string","properties":{"ORTH":{"type":"boolean","description":"Outside of Regular Trading Hours"},"SP":{"type":"string","description":"Stop Price value"},"LP":{"type":"string","description":"Limit Price value"},"PC":{"type":"string","description":"Price Cap value"},"TA":{"type":"string","description":"Trailing amount value"},"TU":{"type":"string","description":"Trailing unit"},"ROA":{"type":"string","description":"Releative offset amount"},"ROP":{"type":"string","description":"Relative offset percent"},"TT":{"type":"string","description":"Touch trigger price"},"UNP":{"type":"boolean","description":"Use Net Price for Bonds"}}}}}}},"orderTypesOutside":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support outside of regular trading hours"}}}},"defaultSize":{"type":"integer","description":"Default quantity"},"cashSize":{"type":"integer","description":"cash value"},"sizeIncrement":{"type":"integer","description":"increment quantity value"},"tifTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"Time in Force values, formatted with o for supporting Outside regular trading hours and a for Algo trading"}}}},"defaultTIF":{"type":"string","description":"Default time in force value"},"limitPrice":{"type":"number","description":"Limit price"},"stopprice":{"type":"number","description":"Stop price"},"orderOrigination":{"type":"number","description":"Order origin designation for US securities options and Options Clearing Corporation"},"preview":{"type":"boolean","description":"order preview required"},"displaySize":{"type":"number"},"fraqInt":{"type":"number","description":"decimal places for fractional order size - NOTE: Fractional share orders cannot be placed using the IBKR API solutions"},"cashCcy":{"type":"string","description":"Cash currency for the contract"},"cashQtyIncr":{"type":"number","description":"Increment value for cash quantity"},"priceMagnifier":{"type":"number","description":"Price Magnifier"},"negativeCapable":{"type":"boolean","description":"trading negative price support"},"increment":{"type":"number","description":"Price increment value"},"incrementDigits":{"type":"integer","description":"Number of digits for price increment"}}}}}}}}}},"/iserver/contract/{conid}/info-and-rules":{"get":{"summary":"Info and Rules","description":"Returns both contract info and rules from a single endpoint.\\nFor only contract rules, use the endpoint /iserver/contract/rules.\\nFor only contract info, use the endpoint /iserver/contract/{conid}/info. \\n","tags":["Contract"],"parameters":[{"in":"path","name":"conid","description":"IBKR contract identifier","required":true,"type":"string"},{"in":"query","name":"isBuy","description":"Side of the market rules apply too. Set to **true** for Buy Orders, set to **false** for Sell Orders","required":true,"type":"boolean"}],"responses":{"200":{"description":"returns an array","schema":{"type":"object","properties":{"cfi_code":{"type":"string","description":"Classification of Financial Instrument codes"},"symbol":{"type":"string","description":"Underlying symbol"},"cusip":{"type":"string"},"expiry_full":{"type":"number","description":"Expiration Date in the format YYYYMMDD"},"con_id":{"type":"number","description":"IBKRs contract identifier"},"maturity_date":{"type":"number","description":"Date on which the underlying transaction settles if the option is exercised"},"industry":{"type":"string","description":"Specific group of companies or businesses."},"instrument_type":{"type":"string","description":"Asset Class of the contract"},"trading_class":{"type":"string","description":"Designation of the contract"},"valid_exchanges":{"type":"string","description":"Comma separated list of exchanges or trading venues"},"allow_sell_long":{"type":"boolean","description":"Allowed to sell shares that you own"},"is_zero_commission_security":{"type":"boolean","description":"Supports zero commission trades"},"local_symbol":{"type":"string","description":"Contracts symbol from primary exchange. For options it is the OCC symbol."},"classifier":{"type":"string"},"currency":{"type":"string","description":"Currency contract trades in"},"text":{"type":"string","description":"Formatted contract parameters"},"underlying_con_id":{"type":"number","description":"IBKRs contract identifier for the underlying instrument"},"r_t_h":{"type":"boolean","description":"Provides trading outside of Regular Trading Hours"},"multiplier":{"type":"string","description":"numerical value of each point of price movement"},"strike":{"type":"string","description":"fixed price at which the owner of the option buys or sells the underlying"},"right":{"type":"string","description":"Put or Call of the option"},"underlying_issuer":{"type":"string","description":"Legal entity for underlying contract"},"contract_month":{"type":"string","description":"Month the contract must be satisfied by making or accepting delivery"},"company_name":{"type":"string","description":"Contracts company name"},"smart_available":{"type":"boolean","description":"Support IBKRs SMART routing"},"exchange":{"type":"string","description":"Primary Exchange, Routing or Trading Venue"},"rules":{"type":"array","items":{"type":"object","properties":{"algoEligible":{"type":"boolean","description":"Contract supports algo orders"},"canTradeAcctIds":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"List of Accounts that can be traded"}}}},"error":{"type":"string","description":"Returns a description on any errors with order presets"},"orderTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"list of available order types"}}}},"ibalgoTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support IB Algos"}}}},"fraqTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support fractional trades - NOTE: Fractional share orders cannot be placed using the IBKR API solutions"}}}},"cqtTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support cash quantity trades"}}}},"orderDefaults":{"type":"array","description":"If object returned will provide the defaults based on user settings","items":{"type":"object","properties":{"string":{"type":"array","description":"orderType","items":{"type":"string","properties":{"ORTH":{"type":"boolean","description":"Outside of Regular Trading Hours"},"SP":{"type":"string","description":"Stop Price value"},"LP":{"type":"string","description":"Limit Price value"},"PC":{"type":"string","description":"Price Cap value"},"TA":{"type":"string","description":"Trailing amount value"},"TU":{"type":"string","description":"Trailing unit"},"ROA":{"type":"string","description":"Releative offset amount"},"ROP":{"type":"string","description":"Relative offset percent"},"TT":{"type":"string","description":"Touch trigger price"},"UNP":{"type":"boolean","description":"Use Net Price for Bonds"}}}}}}},"orderTypesOutside":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support outside of regular trading hours"}}}},"defaultSize":{"type":"integer","description":"Default quantity"},"cashSize":{"type":"integer","description":"cash value"},"sizeIncrement":{"type":"integer","description":"increment quantity value"},"tifTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"Time in Force values, formatted with o for supporting Outside regular trading hours and a for Algo trading"}}}},"defaultTIF":{"type":"string","description":"Default time in force value"},"limitPrice":{"type":"number","description":"Limit price"},"stopprice":{"type":"number","description":"Stop price"},"orderOrigination":{"type":"number","description":"Order origin designation for US securities options and Options Clearing Corporation"},"preview":{"type":"boolean","description":"order preview required"},"displaySize":{"type":"number"},"fraqInt":{"type":"number","description":"decimal places for fractional order size - NOTE: Fractional share orders cannot be placed using the IBKR API solutions"},"cashCcy":{"type":"string","description":"Cash currency for the contract"},"cashQtyIncr":{"type":"number","description":"Increment value for cash quantity"},"priceMagnifier":{"type":"number","description":"Price Magnifier"},"negativeCapable":{"type":"boolean","description":"trading negative price support"},"increment":{"type":"number","description":"Price increment value"},"incrementDigits":{"type":"integer","description":"Number of digits for price increment"}}}}}}}}}},"/iserver/scanner/params":{"get":{"summary":"Scanner Parameters","description":"Returns an object contains four lists contain all parameters for scanners","tags":["Scanner"],"responses":{"200":{"description":"An object contains lists","schema":{"type":"object","properties":{"scan_type_list":{"type":"array","items":{"type":"object","properties":{"display_name":{"type":"string"},"code":{"type":"string"},"instruments":{"type":"array","items":{"type":"string","description":"type of instrument"}}}}},"instrument_list":{"type":"array","items":{"type":"object","properties":{"display_name":{"type":"string"},"type":{"type":"string"},"filters":{"type":"array","items":{"type":"string","description":"code of filter"}}}}},"filter_list":{"type":"array","items":{"type":"object","properties":{"group":{"type":"string"},"display_name":{"type":"string"},"code":{"type":"string"},"type":{"type":"string"}}}},"location_tree":{"type":"array","items":{"type":"object","properties":{"display_name":{"type":"string"},"type":{"type":"string"},"locations":{"type":"array","items":{"type":"object","properties":{"display_name":{"type":"string"},"type":{"type":"string"}}}}}}}}}}}}},"/iserver/scanner/run":{"post":{"summary":"Scanner Run","description":"Searches for contracts according to the filters specified in scanner/params endpoint","tags":["Scanner"],"parameters":[{"in":"body","name":"body","description":"scanner-params request","required":true,"schema":{"$ref":"#/definitions/scanner-params"}}],"responses":{"200":{"description":"returns an array","schema":{"type":"array","items":{"type":"object","properties":{"server_id":{"type":"string"},"column_name":{"type":"string"},"symbol":{"type":"string","description":"Underlying symbol"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange"},"con_id":{"type":"number"},"available_chart_periods":{"type":"string","description":"List of available chart periods"},"company_name":{"type":"string","description":"Contracts company name"},"contract_description_1":{"type":"string","description":"Format contract name","example":"FB Stock (NASDAQ.NMS)"},"listing_exchange":{"type":"string"},"sec_type":{"type":"string"}}}}}}}},"/iserver/account/pnl/partitioned":{"get":{"summary":"PnL for the selected account","description":"Returns an object containing PnL for the selected account and its models (if any).\\nTo receive streaming PnL the endpoint /ws can be used. Refer to [Streaming WebSocket Data](./websockets) for details.\\n","tags":["PnL","Account"],"responses":{"200":{"description":"An object containing account and model(s) pnl","schema":{"type":"object","properties":{"acctId":{"type":"object"}}}}}}}},"definitions":{"notifications":{"type":"array","items":{"type":"object","description":"notification","properties":{"D":{"type":"string","description":"notification date"},"ID":{"type":"string","description":"unique way to reference this notification"},"FC":{"type":"string","description":"FYI code, we can use it to find whether the disclaimer is accepted or not in settings"},"MD":{"type":"string","description":"content of notification"},"MS":{"type":"string","description":"title of notification"},"R":{"type":"string","description":"0-unread, 1-read"}}}},"calendar_request":{"type":"object","properties":{"date":{"type":"object","properties":{"start":{"type":"string","description":"start date of a period. for example 20180808-0400"},"end":{"type":"string","description":"end date of a period. for example 20180808-0400"}}},"filters":{"type":"object","properties":{"recently_held":{"type":"string","description":"value can be \'true\' or \'false\'."},"corporate_earnings":{"type":"string","description":"value can be \'true\' or \'false\'."},"DivExDates":{"type":"string","description":"value can be \'true\' or \'false\'."},"ipo":{"type":"string","description":"value can be \'true\' or \'false\'."},"splits":{"type":"string","description":"value can be \'true\' or \'false\'."},"corporate_events":{"type":"string","description":"value can be \'true\' or \'false\'."},"economic_events":{"type":"string","description":"value can be \'true\' or \'false\'."},"option_show_monthly":{"type":"string","description":"value can be \'true\' or \'false\'."},"option_show_weekly":{"type":"string","description":"value can be \'true\' or \'false\'."},"country":{"type":"string","description":"default is \'All\'."},"limit":{"type":"string","description":"default is \'250\'."},"limit_region":{"type":"string","description":"default is \'50\'."}}}}},"events":{"type":"array","description":"events","items":{"type":"object","properties":{"index_date_type":{"type":"string"},"event_type":{"type":"string"},"data":{"type":"object","description":"will be different for different event types"},"conids":{"type":"array","items":{"type":"string","description":"conid in string"}},"index_date":{"type":"string","description":"for exmple 20180817T040000+0000"},"source":{"type":"string","description":"for example RSE"},"event_key":{"type":"string","description":"for example 11662135"},"tooltips":{"type":"object"},"status":{"type":"string"}}}},"wagers":{"type":"array","items":{"type":"object","description":"List of wagers","properties":{"conid":{"type":"number"},"curr":{"type":"string"},"desc":{"type":"string"},"part":{"type":"string"}}}},"inds":{"type":"array","items":{"type":"object","properties":{"conid":{"type":"number"}}}},"secdef":{"type":"array","items":{"type":"object","description":"security definition information.","properties":{"conid":{"type":"integer","description":"IBKR contract identifier."},"currency":{"type":"string","description":"Currency contract trades in."},"crossCurrency":{"type":"boolean","description":"Defines if a derivative contract has a different currency."},"time":{"type":"integer"},"chineseName":{"type":"string","description":"HTML encoded company description in Chinese."},"allExchanges":{"type":"string","description":"List of exchanges and venues contract trades."},"listingExchange":{"type":"string","description":"Main trading venue."},"name":{"type":"string","description":"Company Name."},"assetClass":{"type":"string","description":"Group of financial instruments which have similar financial characteristics and behave similar in the marketplace."},"expiry":{"type":"string","description":"Specific data contract expires."},"lastTradingDay":{"type":"string","description":"Final day derivative contract can be traded before delivery of the underlying asset or cash settlement."},"group":{"type":"string","description":"Potential characteristic of each product."},"putOrCall":{"type":"string","description":"Defines the right to buy or sell of the underlying security."},"sector":{"type":"string","description":"The category of the economy."},"sectorGroup":{"type":"string","description":"Stock Group contract belongs too."},"strike":{"type":"number","description":"Set price at which a derivative contract can be bought or sold."},"ticker":{"type":"string","description":"Contract symbol."},"undConid":{"type":"integer","description":"Underlying contract identifier."},"multiplier":{"type":"integer","description":"Multiplier for total premium paid or received for derivative contract."},"type":{"type":"string","description":"Stock type."},"undComp":{"type":"string","description":"Company name for underlying contract."},"undSym":{"type":"string","description":"IBKR Symbol for underlying contract."},"hasOptions":{"type":"boolean","description":"If contract has an option."},"fullName":{"type":"string","description":"Formatted company name with underlying symbol, expiration, strike, right."},"isUS":{"type":"boolean","description":"If contract is a US contract. Currently supported for stocks, options and warrants."},"incrementRules":{"type":"object","description":"Price increment value contract trades.","properties":{"lowerEdge":{"type":"number","description":"The minimum contract price on the market that supports the specified increment."},"increment":{"type":"number","description":"The minimum increment value for contract price."}}}}}},"futures":{"type":"array","items":{"type":"object","description":"future contract information","properties":{"symbol":{"type":"string"},"conid":{"type":"integer","description":"conid of the future contract"},"underlyingConid":{"type":"integer"},"expirationDate":{"type":"string"},"ltd":{"type":"string","description":"last trading day"}}}},"stocks":{"type":"array","description":"This is an array of object(s), there could be multiple results under same symbol\\n","items":{"type":"object","description":"future contract information","properties":{"name":{"type":"string","description":"company name"},"chineseName":{"type":"string","description":"company name in Chinese"},"assetClass":{"type":"string","example":"STK"},"contracts":{"type":"array","description":"array of contracts from different exchanges","items":{"type":"object","properties":{"conid":{"type":"integer","description":"conid of the stock contract"},"exchange":{"type":"string","example":"NYSE"}}}}}}},"history-result":{"type":"object","properties":{"bars":{"type":"object","properties":{"open":{"type":"number","description":"First price returned for bar value."},"startTime":{"type":"string","description":"Start Time in the format YYYYMMDD."},"startTimeVal":{"type":"integer","description":"Start Time Value - Formatted in unix time in ms."},"endTime":{"type":"string","description":"End Time in the format YYYYMMDD."},"endTimeVal":{"type":"integer","description":"End Time Value - Formatted in unix time in ms."},"points":{"type":"integer","description":"total number of data points."},"data":{"type":"array","items":{"type":"object","properties":{"t":{"type":"number","description":"Time - Formatted in unix time in ms."},"o":{"type":"number","description":"Open - First price returned for bar value."},"c":{"type":"number","description":"Close - Last price returned for bar value."},"h":{"type":"number","description":"High - High price returned for bar value."},"l":{"type":"number","description":"Low - Last price returned for bar value."},"v":{"type":"number","description":"Volume - Traded volume for bar value."}}}},"mktDataDelay":{"type":"integer","description":"If 0 then data is returned in real time. Otherwise will return the number of seconds history data is delayed."}}}}},"position-data":{"type":"object","properties":{"conid":{"type":"number","description":"Contract identifier from IBKR\'s database."},"position":{"type":"number","description":"Number of shares or quantity of the position."},"avgCost":{"type":"number","description":"Average cost of the position."}}},"order-data":{"type":"object","properties":{"clientOrderId":{"type":"string"},"execId":{"type":"string"},"execType":{"type":"string","enum":["-1 \\"Invalid\\"","0 \\"New\\"","1 \\"Partially Filled\\"","2 \\"Filled\\"","3 \\"Done for the Day\\"","4 \\"Canceled\\"","5 \\"Replaced\\"","6 \\"Pending Cancel\\"","7 \\"Stopped\\"","8 \\"Rejected\\"","9 \\"Suspended\\"","A \\"Pending New\\"","B \\"Calculated\\"","C \\"Expired\\"","D \\"Restated\\"","E \\"Pending Replace\\"","F \\"Trade\\"","G \\"Trade Correct\\"","H \\"Trade Cancel\\"","I \\"Order Status\\""]},"orderType":{"type":"string","enum":["1 \\"Market\\"","2 \\"Limit\\"","3 \\"Stop\\"","4 \\"Stop Limit\\"","5 \\"Market on Close\\"","6 \\"With or Without\\"","7 \\"Limit or Better\\"","8 \\"Limit With or Without\\"","9 \\"On Basis\\"","A \\"On Close\\"","B \\"Limit On Close\\"","C \\"Forex Market\\"","D \\"Previously Quoted\\"","E \\"Previously Indicated\\"","F \\"Forex Limit\\"","G \\"Forex Swap\\"","H \\"Forex Previously Quoted\\"","I \\"Funari\\"","K \\"Market To Limit\\"","P \\"Pegged\\""]},"orderStatus":{"type":"string","enum":["-1 \\"Invalid Order Status\\"","0 \\"New\\"","1 \\"Partially Filled\\"","2 \\"Filled\\"","3 \\"Done for the Day\\"","4 \\"Canceled\\"","5 \\"Replaced\\"","6 \\"Pending Cancel\\"","7 \\"Stopped\\"","8 \\"Rejected\\"","9 \\"Suspended\\"","A \\"Pending New\\"","B \\"Calculated\\"","C \\"Expired\\"","D \\"Restated\\"","E \\"Pending Replace\\""]},"symbol":{"type":"string","description":"Underlying symbol for contract"},"orderQty":{"type":"string","description":"Quantity of active order"},"price":{"type":"string","description":"Price of active order"},"lastShares":{"type":"string","description":"Quantity of the last partial fill"},"lastPrice":{"type":"string","description":"Price of the last partial fill"},"cumQty":{"type":"string","description":"Cumulative fill quantity"},"leavesQty":{"type":"string","description":"Remaining quantity to be filled"},"avgPrice":{"type":"string","description":"Average fill price"},"side":{"type":"string","enum":["1 \\"Buy\\"","2 \\"Sell\\"","3 \\"Buy Minus\\"","4 \\"Sell Plus\\"","5 \\"Sell Short\\"","6 \\"Sell Short Exempt\\""]},"orderId":{"type":"string","description":"Order identifier"},"account":{"type":"string","description":"Account number"},"secType":{"type":"string","enum":["CS \\"Stock\\"","CASH \\"Forex\\"","CFD \\"Contract for Difference\\"","FUT \\"Future\\"","OPT \\"Option\\""],"description":"Contracts asset class"},"txTime":{"type":"string","description":"Time of transaction in GMT, format YYYYMMDD-hh:m:ss"},"rcptTime":{"type":"string","description":"Time of receipt in GMT, format YYYYMMDD-hh:mm:ss"},"tif":{"type":"string","enum":["0 \\"Day\\"","1 \\"GTC\\"","2 \\"At the Opening\\""],"description":"Time in Force"},"conid":{"type":"string","description":"Contract identifier from IBKR\'s database."},"currency":{"type":"string","description":"Trading currency"},"exchange":{"type":"string","description":"Exchange or venue"},"listingExchange":{"type":"string","description":"Listing Exchange"},"text":{"type":"number","description":"error message"},"warnings":{"type":"object","properties":{"PRICECAP":{"type":"string"},"TIME":{"type":"string"}}},"commCurr":{"type":"string","description":"Commission currency"},"comms":{"type":"string","description":"Commissions"},"realizedPnl":{"type":"string","description":"Realized PnL"}}},"stats-data":{"type":"object","properties":{"Conid":{"type":"number"},"Exchange":{"type":"string"},"V":{"type":"number"},"T":{"type":"number"},"TT":{"type":"number"},"P":{"type":"string","description":"Object, payload depends on event type. See confluence page for IGEvntUpd."}}},"market-data":{"type":"object","properties":{"31":{"type":"string","description":"Last Price - The last price at which the contract traded. May contain one of the following prefixes:\\n  * C - Previous day\'s closing price.\\n  * H - Trading has halted.\\n"},"70":{"type":"number","description":"High - Current day high price"},"71":{"type":"number","description":"Low - Current day low price"},"82":{"type":"string","description":"Change - The difference between the last price and the close on the previous trading day"},"83":{"type":"number","description":"Change % - The difference between the last price and the close on the previous trading day in percentage."},"84":{"type":"string","description":"Bid Price - The highest-priced bid on the contract."},"85":{"type":"string","description":"Ask Size - The number of contracts or shares offered at the ask price. For US stocks, the number displayed is divided by 100."},"86":{"type":"string","description":"Ask Price - The lowest-priced offer on the contract."},"87":{"type":"string","description":"Volume - Volume for the day, formatted with \'K\' for thousands or \'M\' for millions. For higher precision volume refer to field 7762."},"88":{"type":"string","description":"Bid Size - The number of contracts or shares bid for at the bid price. For US stocks, the number displayed is divided by 100."},"6509":{"type":"string","description":"Market Data Availability. The field may contain three chars. First char defines: R = RealTime, D = Delayed,\\nZ = Frozen, Y = Frozen Delayed, N = Not Subscribed. Second char defines: P = Snapshot, p = Consolidated.\\nThird char defines: B = Book\\n  * RealTime - Data is relayed back in real time without delay, market data subscription(s) are required.\\n  * Delayed - Data is relayed back 15-20 min delayed.\\n  * Frozen - Last recorded data at market close, relayed back in real time.\\n  * Frozen Delayed - Last recorded data at market close, relayed back delayed.\\n  * Not Subscribed - User does not have the required market data subscription(s) to relay back either real time or delayed data.\\n  * Snapshot - Snapshot request is available for contract.\\n  * Consolidated - Market data is aggregated across multiple exchanges or venues.\\n  * Book - Top of the book data is available for contract.\\n"},"7057":{"type":"string","description":"Ask Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY"},"7058":{"type":"string","description":"Last Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY"},"7059":{"type":"number","description":"Last Size - The number of unites traded at the last price"},"7068":{"type":"string","description":"Bid Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY"},"7195":{"type":"string","description":"IV Rank"},"7196":{"type":"string","description":"IV Rank"},"7197":{"type":"string","description":"IV Rank"},"7198":{"type":"string","description":"IV Percentile"},"7199":{"type":"string","description":"IV Percentile"},"7200":{"type":"string","description":"IV Percentile"},"7201":{"type":"string","description":"IV High Low"},"7202":{"type":"string","description":"IV High Low"},"7203":{"type":"string","description":"IV High Low"},"7204":{"type":"string","description":"IV High Low"},"7205":{"type":"string","description":"IV High Low"},"7206":{"type":"string","description":"IV High Low"},"7207":{"type":"string","description":"HV Rank"},"7208":{"type":"string","description":"HV Rank"},"7209":{"type":"string","description":"HV Rank"},"7210":{"type":"string","description":"HV Percentile"},"7211":{"type":"string","description":"HV Percentile"},"7212":{"type":"string","description":"HV Percentile"},"7245":{"type":"string","description":"HV High Low"},"7246":{"type":"string","description":"HV High Low"},"7247":{"type":"string","description":"HV High Low"},"7248":{"type":"string","description":"HV High Low"},"7249":{"type":"string","description":"HV High Low"},"7263":{"type":"string","description":"HV High Low"},"7264":{"type":"string","description":"ESG"},"7265":{"type":"string","description":"ESG"},"7266":{"type":"string","description":"ESG"},"7267":{"type":"string","description":"ESG"},"7268":{"type":"string","description":"ESG"},"7269":{"type":"string","description":"ESG"},"7271":{"type":"string","description":"ESG"},"7272":{"type":"string","description":"ESG"},"7273":{"type":"string","description":"ESG"},"7274":{"type":"string","description":"ESG"},"7275":{"type":"string","description":"ESG"},"7276":{"type":"string","description":"ESG"},"7277":{"type":"string","description":"ESG"},"7282":{"type":"string","description":"Average Volume - The average daily trading volume over 90 days."},"7283":{"type":"string","description":"Option Implied Vol. % - A prediction of how volatile an underlying will be in the future.\\nAt the market volatility estimated for a maturity thirty calendar days forward of the current trading day, and based on option prices from two consecutive expiration months.     \\n"},"7284":{"type":"string","description":"Historic Volume (30d)"},"7286":{"type":"number","description":"Dividend Amount - Displays the amount of the next dividend."},"7287":{"type":"string","description":"Dividend Yield % - This value is the toal of the expected dividend payments over the next twelve months per share divided by the Current Price and is expressed as a percentage.\\nFor derivatives, this displays the total of the expected dividend payments over the expiry date.\\n"},"7288":{"type":"string","description":"Ex-date of the dividend"},"7289":{"type":"string","description":"Market Cap"},"7290":{"type":"string","description":"P/E"},"7293":{"type":"string","description":"52 Week High - The highest price for the past 52 weeks."},"7294":{"type":"string","description":"52 Week Low - The lowest price for the past 52 weeks."},"7295":{"type":"number","description":"Open - Today\'s opening price."},"7296":{"type":"number","description":"Close - Today\'s closing price."},"7331":{"type":"string","description":"Reuters Fundamentals"},"7370":{"type":"string","description":"ESG"},"7371":{"type":"string","description":"ESG"},"7372":{"type":"string","description":"ESG"},"7635":{"type":"string","description":"Mark - The mark price is, the ask price if ask is less than last price, the bid price if bid is more than the last price, otherwise it\'s equal to last price"},"7636":{"type":"number","description":"shortable invetory"},"7637":{"type":"string","description":"Fee rebate rate"},"7644":{"type":"string","description":"Shortable - Describes the level of difficulty with which the security can be sold short."},"7674":{"type":"string","description":"EMA(200) - Exponential moving average (N=200)."},"7675":{"type":"string","description":"EMA(100) - Exponential moving average (N=100)."},"7676":{"type":"string","description":"EMA(50) - Exponential moving average (N=50)."},"7677":{"type":"string","description":"EMA(20) - Exponential moving average (N=20)."},"7681":{"type":"string","description":"Price/EMA(20) - Price to Exponential moving average (N=20) ratio -1, displayed in percents."},"7698":{"type":"string","description":"Last Yield - Implied yield of the bond if it is purchased at the current last price. Last yield is calculated using the Last price on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7699":{"type":"string","description":"Bid Yield - Implied yield of the bond if it is purchased at the current bid price. Bid yield is calculated using the Ask on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7718":{"type":"string","description":"Beta - Beta is against standard index."},"7720":{"type":"string","description":"Ask Yield - Implied yield of the bond if it is purchased at the current offer. Ask yield is calculated using the Bid on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7743":{"type":"string","description":"Reuters Fundamentals"},"7761":{"type":"string","description":"ESG"},"7992":{"type":"string","description":"26 Week High - The highest price for the past 26 weeks."},"7993":{"type":"string","description":"26 Week Low - The lowest price for the past 26 weeks."},"7994":{"type":"string","description":"13 Week High - The highest price for the past 13 weeks."},"7995":{"type":"string","description":"13 Week Low - The lowest price for the past 13 weeks."},"conid":{"type":"integer","description":"IBKR Contract identifier"},"minTick":{"type":"number","description":"minimum price increment"},"BboExchange":{"type":"string","description":"Color for Best Bid/Offer Exchange in hex code"},"HasDelayed":{"type":"boolean","description":"If market data field values return delayed"},"sizeMinTick":{"type":"integer","description":"minimum size increment"},"BestEligible":{"type":"integer"},"BestBidExch":{"type":"integer"},"BestAskExch":{"type":"integer"},"PreOpenBid":{"type":"integer"},"LastAttribs":{"type":"integer"},"TimestampBase":{"type":"integer","description":"Base time stamp for last update in format YYYYMMDD"},"TimestampDelta":{"type":"integer"},"LastExch":{"type":"integer"},"CloseAttribs":{"type":"integer"}}},"scanner-params":{"type":"object","properties":{"instrument":{"type":"string","description":"Contains an instrument, which to scan for. For example - \\"STK\\""},"type":{"type":"string","description":"Specify the scan type to use. For example - \\"MOST_ACTIVE_USD\\""},"location":{"type":"string","description":"Contains location code, where to look for specified instrument. For example - \\"STK.US.MAJOR\\""},"filter":{"type":"array","description":"Contains list of filters supported for the scanner","items":{"type":"object","description":"Contains list of supported filters. The code of the filter along with user-specified value has to be sued to apply a filter to scanner query. For example - [{\\"code\\":\\"usdVolume\\",\\"value\\":500}]. You can also specify multiple filters - \\"filter\\":[{\\"code\\":\\"value\\"},{\\"code\\":\\"value\\"},{\\"code\\":\\"value\\"}]","properties":{"code":{"type":"string"},"value":{"type":"number"}}}}}},"scanner-result":{"type":"object","properties":{"total":{"type":"integer"},"size":{"type":"integer"},"offset":{"type":"integer"},"scanTime":{"type":"string"},"id":{"type":"number"},"position":{"type":"string"},"Contracts":{"type":"object","description":"Contains list of contracts matching the scanner query","properties":{"Contract":{"type":"array","items":{"type":"object","properties":{"inScanTime":{"type":"string"},"distance":{"type":"integer"},"contractID":{"type":"integer"}}}}}}}},"performance":{"type":"object","properties":{"id":{"type":"string"},"cps":{"type":"object","description":"Cumulative performance data","properties":{"dates":{"type":"array","description":"array of dates, the length should be same as the length of returns inside data.","items":{"type":"string","description":"format-- yyyyMMdd"}},"freq":{"type":"string","description":"D means Day"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"idType":{"type":"string","description":"for example-- acctid"},"start":{"type":"string","description":"start date-- yyyyMMdd"},"baseCurrency":{"type":"string"},"returns":{"type":"array","description":"each value stands for price change percent of corresponding date in dates array","items":{"type":"number"}},"end":{"type":"string","description":"end date-- yyyyMMdd"}}}}}},"tpps":{"type":"object","description":"Time period performance data","properties":{"dates":{"type":"array","description":"array of dates, the length should be same as the length of returns inside data.","items":{"type":"string","description":"format-- yyyyMMdd"}},"freq":{"type":"string","description":"M means Month"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"idType":{"type":"string","description":"for example-- acctid"},"start":{"type":"string","description":"start date-- yyyyMMdd"},"baseCurrency":{"type":"string"},"returns":{"type":"array","description":"each value stands for price change percent of corresponding date in dates array","items":{"type":"number"}},"end":{"type":"string","description":"end date-- yyyyMMdd"}}}}}},"nav":{"type":"object","description":"Net asset value data for the account or consolidated accounts. NAV data is not applicable to benchmarks.","properties":{"dates":{"type":"array","description":"array of dates, the length should be same as the length of returns inside data.","items":{"type":"string","description":"format--yyyyMMdd"}},"freq":{"type":"string","description":"D means Day"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"idType":{"type":"string","description":"for example-- acctid"},"start":{"type":"string","description":"start date-- yyyyMMdd"},"baseCurrency":{"type":"string"},"returns":{"type":"array","description":"each value stands for price change percent of corresponding date in dates array","items":{"type":"number"}},"end":{"type":"string","description":"end date-- yyyyMMdd"}}}}}},"pm":{"type":"string"},"included":{"type":"array","items":{"type":"string","description":"account id"}},"currencyType":{"type":"string"},"rc":{"type":"integer"}}},"summary":{"type":"object","properties":{"amount":{"type":"number"},"currency":{"type":"string"},"isNull":{"type":"boolean"},"timestamp":{"type":"integer"},"value":{"type":"string"}}},"transactions":{"type":"object","description":"account transactions","properties":{"id":{"type":"string","description":"will always be getTransactions"},"currency":{"type":"string","description":"same as request"},"includesRealTime":{"type":"boolean","description":"Indicates whether current day and realtime data is included in the result"},"from":{"type":"number","description":"Period start date. Epoch time, GMT"},"to":{"type":"number","description":"Period end date. Epoch time, GMT"},"transactions":{"description":"Sorted by date descending","type":"array","items":{"type":"object","properties":{"acctid":{"type":"string"},"conid":{"type":"number"},"cur":{"type":"string","description":"currency code"},"fxRate":{"type":"number","description":"Conversion rate from asset currency to response currency"},"desc":{"type":"string","description":"Transaction description"},"date":{"type":"string","description":"Date of transaction.  Epoch time, GMT"},"type":{"type":"string","description":"Transaction Type Name: Examples: \\"Sell\\", \\"Buy\\", \\"Corporate Action\\",\\n\\"Dividend Payment\\", \\"Transfer\\", \\"Payment in Lieu\\"\\nDividends and Transfers do not have price and quantity in response\\n"},"qty":{"type":"number","description":"Not applicable for all transaction types"},"pr":{"type":"number","description":"In asset currency. Not be applicable for all transaction types."},"amt":{"type":"number","description":"Raw value, no formatting. Net transaction amount (may include commission, tax).\\nIn asset currency"}}}}}},"position":{"type":"array","items":{"type":"object","description":"Account Information","properties":{"acctId":{"type":"string"},"conid":{"type":"integer"},"contractDesc":{"type":"string"},"assetClass":{"type":"string"},"position":{"type":"number"},"mktPrice":{"type":"number"},"mktValue":{"type":"number"},"currency":{"type":"string"},"avgCost":{"type":"number"},"avgPrice":{"type":"number"},"realizedPnl":{"type":"number"},"unrealizedPnl":{"type":"number"},"exchs":{"type":"string"},"expiry":{"type":"string"},"putOrCall":{"type":"string"},"multiplier":{"type":"number"},"strike":{"type":"number"},"exerciseStyle":{"type":"string"},"undConid":{"type":"integer"},"conExchMap":{"type":"array","items":{"type":"string"}},"baseMktValue":{"type":"number"},"baseMktPrice":{"type":"number"},"baseAvgCost":{"type":"number"},"baseAvgPrice":{"type":"number"},"baseRealizedPnl":{"type":"number"},"baseUnrealizedPnl":{"type":"number"},"name":{"type":"string"},"lastTradingDay":{"type":"string"},"group":{"type":"string"},"sector":{"type":"string"},"sectorGroup":{"type":"string"},"ticker":{"type":"string"},"undComp":{"type":"string"},"undSym":{"type":"string"},"fullName":{"type":"string"},"pageSize":{"type":"integer"},"model":{"type":"string"}}}},"allocation":{"type":"array","items":{"type":"object","description":"allocation","properties":{"assetClass":{"type":"object","description":"portfolio allocation by asset class","properties":{"long":{"type":"object","description":"long positions allocation","properties":{"STK":{"type":"number"},"OPT":{"type":"number"},"FUT":{"type":"number"},"WAR":{"type":"number"},"BOND":{"type":"number"},"CASH":{"type":"number"}}},"short":{"type":"object","description":"short positions allocation","properties":{"STK":{"type":"number"},"OPT":{"type":"number"},"FUT":{"type":"number"},"WAR":{"type":"number"},"BOND":{"type":"number"},"CASH":{"type":"number"}}}}},"sector":{"type":"object","description":"portfolio allocation by sector","properties":{"long":{"type":"object","description":"long positions allocation","properties":{"Others":{"type":"number"},"Utilities":{"type":"number"},"Energy":{"type":"number"},"Technology":{"type":"number"},"Financial":{"type":"number"},"Communications":{"type":"number"}}},"short":{"type":"object","description":"short positions allocation","properties":{"Industrial":{"type":"number"},"Consumer":{"type":"number"},"Diversified":{"type":"number"}}}}},"group":{"type":"object","description":"portfolio allocation by group","properties":{"long":{"type":"object","description":"long positions allocation","properties":{"Computers":{"type":"number"},"Semiconductors":{"type":"number"},"Others":{"type":"number"},"Chemicals":{"type":"number"},"Apparel":{"type":"number"},"Communications":{"type":"number"}}},"short":{"type":"object","description":"short positions allocation","properties":{"Banks":{"type":"number"},"Airlines":{"type":"number"},"Internet":{"type":"number"}}}}}}}},"accounts":{"type":"array","items":{"$ref":"#/definitions/account"}},"account":{"type":"object","description":"account information","properties":{"id":{"type":"string","description":"The account identification value"},"accountId":{"type":"string","description":"The account number","example":"U12345678 for Individual Live Accounts, DU12345678 for Individual Paper Accounts"},"accountVan":{"type":"string","description":"The accountAlias"},"accountTitle":{"type":"string","description":"Title of the account"},"displayName":{"type":"string","description":"Whichever value is not null in this priority","enum":["accountTitle","accountVan","accountId"]},"accountAlias":{"type":"string","description":"User customizable account alias. Refer to [Configure Account Alias](https://guides.interactivebrokers.com/cp/cp.htm#am/settings/accountalias.htm) for details."},"accountStatus":{"type":"number","description":"When the account was opened in unix time."},"currency":{"type":"string","description":"Base currency of the account.","enum":["AUD","GBP","CAD","CNH","CZK","DKK","EUR","HKD","HUF","INR","ILS","JPY","MXN","NOK","NZD","PLN","RUB","SGD","SEK","CHF","USD"]},"type":{"type":"string","description":"Account Type","enum":["INDIVIDUAL","JOINT","ORG","TRUST","DEMO"]},"tradingType":{"type":"string","description":"UNI - Deprecated property"},"faclient":{"type":"boolean","description":"If an account is a sub-account to a Financial Advisor."},"clearingStatus":{"type":"string","enum":["O","P","N","A","R","C"],"description":"Status of the Account\\n  * O = Open\\n  * P or N = Pending\\n  * A = Abandoned\\n  * R = Rejected\\n  * C = Closed\\n"},"covestor":{"type":"boolean","description":"Is a Covestor Account"},"parent":{"type":"object","properties":{"mmc":{"type":"array","items":{"type":"string","description":"Money Manager Client (MMC) Account"}},"accountId":{"type":"string","description":"Account Number for Money Manager Client"},"isMParent":{"type":"boolean","description":"Is MM a Parent Account"},"isMChild":{"type":"boolean","description":"Is MM a Child Account"},"isMultiplex":{"type":"boolean","description":"Is a Multiplex Account. These are account models with individual account being parent and managed account being child."}}},"desc":{"type":"string","description":"Formatted \\"accountId - accountAlias\\""}}},"ledger":{"type":"object","properties":{"commoditymarketvalue":{"type":"number"},"futuremarketvalue":{"type":"number"},"settledcash":{"type":"number"},"exchangerate":{"type":"number"},"sessionid":{"type":"integer"},"cashbalance":{"type":"number"},"corporatebondsmarketvalue":{"type":"number"},"warrantsmarketvalue":{"type":"number"},"netliquidationvalue":{"type":"number"},"interest":{"type":"number"},"unrealizedpnl":{"type":"number"},"stockmarketvalue":{"type":"number"},"moneyfunds":{"type":"number"},"currency":{"type":"string"},"realizedpnl":{"type":"number"},"funds":{"type":"number"},"acctcode":{"type":"string"},"issueroptionsmarketvalue":{"type":"number"},"key":{"type":"string"},"timestamp":{"type":"integer"},"severity":{"type":"integer"}}},"alert-request":{"type":"object","properties":{"orderId":{"description":"orderId is required when modifying alert. You can get it from /iserver/account/{accountId}/alerts\\n","type":"integer"},"alertName":{"description":"name of alert","type":"string"},"alertMessage":{"type":"string","description":"The message you want to receive via email or text message"},"alertRepeatable":{"description":"whether alert is repeatable or not, so value can only be 0 or 1, this has to be 1 for MTA alert","type":"integer"},"email":{"description":"email address to receive alert","type":"string"},"sendMessage":{"description":"whether allowing to send email or not, so value can only be 0 or 1,\\n","type":"integer"},"tif":{"description":"time in force, can only be GTC or GTD","type":"string"},"expireTime":{"description":"format, YYYYMMDD-HH:mm:ss, please NOTE this will only work when tif is GTD\\n","type":"string","example":"20201105-19:51:14"},"outsideRth":{"description":"value can only be 0 or 1, set to 1 if the alert can be triggered outside regular trading hours.\\n","type":"integer"},"iTWSOrdersOnly":{"description":"value can only be 0 or 1, set to 1 to enable the alert only in IBKR mobile\\n","type":"integer"},"showPopup":{"type":"integer","description":"value can only be 0 or 1, set to 1 to allow to show alert in pop-ups"},"toolId":{"description":"for MTA alert only, each user has a unique toolId and it will stay the same, do not send for normal alert\\n","type":"integer"},"playAudio":{"description":"audio message to play when alert is triggered","type":"string"},"conditions":{"type":"array","items":{"type":"object","properties":{"type":{"type":"integer","description":"Types: 1-Price, 3-Time, 4-Margin, 5-Trade, 6-Volume, 7: MTA market 8: MTA Position, 9: MTA Acc. Daily PN&\\n"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange","example":"8314@SMART"},"operator":{"type":"string","description":"optional, operator for the current condition, can be >= or <=","example":">="},"triggerMethod":{"type":"string","description":"optional, only some type of conditions have triggerMethod","example":"0"},"value":{"type":"string","description":"can not be empty, can pass default value \\"*\\"","example":"220"},"logicBind":{"type":"string","description":"\\"a\\" means \\"AND\\", \\"o\\" means \\"OR\\", \\"n\\" means \\"END\\",\\nthe last one condition in the condition array should \\"n\\"\\n"},"timeZone":{"type":"string","description":"only needed for some MTA alert condition"}}}}}},"alert-response":{"type":"object","properties":{"account":{"description":"account id","type":"string"},"order_id":{"type":"integer"},"alert_name":{"description":"name of alert","type":"string"},"alert_message":{"type":"string","description":"The message you want to receive via email or text message"},"alert_active":{"description":"whether alert is active or not, so value can only be 0 or 1","type":"integer"},"alert_repeatable":{"description":"whether alert is repeatable or not, so value can only be 0 or 1","type":"integer"},"alert_email":{"description":"email address to receive alert","type":"string"},"alert_send_message":{"description":"whether allowing to send email or not, so value can only be 0 or 1,\\n","type":"integer"},"tif":{"description":"time in force, can only be GTC or GTD","type":"string"},"expire_time":{"description":"format, YYYYMMDD-HH:mm:ss\\n","type":"string","example":"20201105-19:51:14"},"order_status":{"description":"status of alert","type":"string","example":"Submitted"},"outsideRth":{"description":"value can only be 0 or 1, set to 1 if the alert can be triggered outside regular trading hours.\\n","type":"integer"},"itws_orders_only":{"description":"value can only be 0 or 1, set to 1 to enable the alert only in IBKR mobile\\n","type":"integer"},"alert_show_popup":{"type":"integer","description":"value can only be 0 or 1, set to 1 to allow to show alert in pop-ups"},"alert_triggered":{"type":"boolean","description":"whether the alert has been triggered"},"order_not_editable":{"type":"boolean","description":"whether the alert can be edited"},"tool_id":{"description":"for MTA alert only, each user has a unique toolId and it will stay the same, do not send for normal alert\\n","type":"integer"},"alert_play_audio":{"description":"audio message to play when alert is triggered","type":"string"},"alert_mta_currency":{"description":"MTA alert only","type":"string"},"alert_mta_defaults":{"description":"MTA alert only","type":"string"},"time_zone":{"description":"MTA alert only","type":"string"},"alert_default_type":{"description":"MTA alert only","type":"string"},"condition_size":{"type":"integer","description":"size of conditions array"},"condition_outside_rth":{"type":"integer","description":"whether allowing the condition can be triggered outside of regular trading hours, 1 means allow"},"conditions":{"type":"array","items":{"type":"object","properties":{"condition_type":{"type":"integer","description":"Types: 1-Price, 3-Time, 4-Margin, 5-Trade, 6-Volume, 7: MTA market 8: MTA Position, 9: MTA Acc. Daily PN&\\n"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange","example":"8314@SMART"},"contract_description_1":{"type":"string","description":"Format contract name","example":"FB Stock (NASDAQ.NMS)"},"condition_operator":{"type":"string","example":"- >= - <=\\n","description":"optional, operator for the current condition\\n  * >= Greater than or equal to\\n  * <= Less than or equal to\\n"},"condition_trigger_method":{"type":"string","description":"optional, only some type of conditions have triggerMethod","example":"0"},"condition_value":{"type":"string","description":"can not be empty, can pass default value \\"*\\"","example":"220"},"condition_logic_bind":{"type":"string","description":"Condition array should end with \\"n\\"\\n  * a - AND\\n  * o - OR\\n  * n - END\\n"},"condition_time_zone":{"type":"string","description":"only needed for some MTA alert condition"}}}}}},"authStatus":{"type":"object","properties":{"authenticated":{"description":"Brokerage session is authenticated","type":"boolean"},"connected":{"description":"Connected to backend","type":"boolean"},"competing":{"description":"Brokerage session is competing, e.g. user is logged in to IBKR Mobile, WebTrader, TWS or other trading platforms.","type":"boolean"},"fail":{"description":"Authentication failed, why.","type":"string"},"message":{"description":"System messages that may affect trading","type":"string"},"prompts":{"type":"array","description":"Prompt messages that may affect trading or the account","items":{"type":"string"}}}},"contract":{"description":"Contains all details of the contract, including rules you can use when placing orders","type":"object","properties":{"r_t_h":{"type":"boolean","description":"true means you can trade outside RTH(regular trading hours)"},"con_id":{"type":"string","description":"same as that in request"},"company_name":{"type":"string","description":"Contracts company name"},"exchange":{"type":"string"},"local_symbol":{"type":"string","description":"for exmple FB"},"instrument_type":{"type":"string","description":"for example STK"},"currency":{"type":"string"},"companyName":{"type":"string"},"category":{"type":"string"},"industry":{"type":"string"},"rules":{"type":"object","properties":{"orderTypes":{"type":"array","items":{"type":"string","description":"store available order types for this contract"}},"orderTypesOutside":{"type":"array","items":{"type":"string","description":"store available order types for this contract outside regular hours"}},"defaultSize":{"type":"number","description":"default quantity you can use to place an order"},"sizeIncrement":{"type":"number"},"tifTypes":{"type":"array","items":{"type":"string","description":"store available time-in-force types"}},"limitPrice":{"type":"number","description":"default limit price you can use to prefill your order"},"stopprice":{"type":"number","description":"default stop price you can use to prefill your order"},"preview":{"type":"boolean","description":"if you can preview the order or not with the whatif endpoint"},"displaySize":{"type":"string"},"increment":{"type":"string"}}}}},"secdef-info":{"description":"Contains some basic info of contract","type":"object","properties":{"conid":{"type":"number","description":"IBKR contract identifier"},"symbol":{"type":"string","description":"Underlying symbol"},"secType":{"type":"string","description":"Security type"},"exchange":{"type":"string","description":"Primary Exchange, Routing or Trading Venue"},"listingExchange":{"type":"string","description":"Main Trading Venue"},"right":{"type":"string","description":"Put or Call of the option. C = Call Option, P = Put Option"},"strike":{"type":"number","description":"Set price at which a derivative contract can be bought or sold. The strike price also known as exercise price."},"currency":{"type":"string","description":"Currency the contract trades in"},"cusip":{"type":"string","description":"Committee on Uniform Securities Identification Procedures number"},"coupon":{"type":"string","description":"Annual interest rate paid on a bond"},"desc1":{"type":"string","description":"Currency pairs for Forex e.g. EUR.AUD, EUR.CAD, EUR.CHF etc."},"desc2":{"type":"string","description":"Formatted expiration, strike and right"},"maturityDate":{"type":"number","description":"Format YYYYMMDD, the date on which the underlying transaction settles if the option is exercised"},"multiplier":{"type":"string","description":"Multiplier for total premium paid or received for derivative contract."},"tradingClass":{"type":"string","description":"Designation of the contract."},"validExchanges":{"type":"string","description":"Comma separated list of exchanges or trading venues."}}},"history-data":{"type":"object","properties":{"symbol":{"type":"string","description":"Underlying symbol"},"text":{"type":"string","description":"companyName"},"priceFactor":{"type":"integer","description":"priceFactor is price increment obtained from display rule","example":100},"startTime":{"type":"string","description":"start date time in the format YYYYMMDD-HH:mm:ss"},"high":{"type":"string","description":"High value during this time series with format %h/%v/%t. %h is the high price (scaled by priceFactor), %v is volume\\n(volume factor will always be 100 (reported volume = actual volume/100)) and %t is minutes from start time of the chart\\n"},"low":{"type":"string","description":"Low value during this time series with format %l/%v/%t. %l is the low price (scaled by priceFactor), %v is volume\\n(volume factor will always be 100 (reported volume = actual volume/100)) and %t is minutes from start time of the chart\\n"},"timePeriod":{"type":"string","description":"The duration for the historical data request"},"barLength":{"type":"integer","description":"The number of seconds in a bar"},"mdAvailability":{"type":"string","description":"Market Data Availability. The field may contain two chars. The first char is the primary code: S = Streaming, R = Realtime, D = Delayed,\\nZ = Frozen, Y = Frozen Delayed. The second char is the secondary code: P = Snapshot Available, p = Consolidated.\\n"},"mktDataDelay":{"type":"integer","description":"The time it takes, in milliseconds, to process the historical data request"},"outsideRth":{"type":"boolean","description":"The historical data returned includes outside of regular trading hours\\n"},"tradingDayDuration":{"type":"integer","description":"The number of seconds in the trading day"},"volumeFactor":{"type":"integer"},"priceDisplayRule":{"type":"integer"},"priceDisplayValue":{"type":"string"},"negativeCapable":{"type":"boolean"},"messageVersion":{"type":"integer"},"data":{"type":"array","items":{"type":"object","properties":{"o":{"type":"number","description":"open price"},"c":{"type":"number","description":"close price"},"h":{"type":"number","description":"high price"},"l":{"type":"number","description":"low price"},"v":{"type":"number","description":"volume"},"t":{"type":"number","description":"unix time stamp"}}}},"points":{"type":"integer","description":"total number of points"},"travelTime":{"type":"integer"}}},"trade":{"type":"object","properties":{"execution_id":{"type":"string","description":"execution identifier for the order"},"symbol":{"type":"string","description":"Underlying Symbol"},"side":{"type":"string","enum":["B","S","X"],"description":"The side of the market of the order.\\n  * B - Buy contract near posted ask price\\n  * S - Sell contract near posted bid price\\n  * X - Option expired\\n"},"order_description":{"type":"string","description":"Formatted description of the order \\"%side% %size% @ %price% on %exchange%\\"."},"trade_time":{"type":"string","description":"Time of Status update in format \\"YYYYMMDD-hh:mm:ss\\"."},"trade_time_r":{"type":"number","description":"Time of status update in format unix time."},"size":{"type":"string","description":"Quantity of the order"},"price":{"type":"string","description":"Average Price"},"order_ref":{"type":"string","description":"User defined string used to identify the order. Value is set using \\"cOID\\" field while placing an order."},"submitter":{"type":"string","description":"User that submitted order"},"exchange":{"type":"string","description":"Exchange or venue of order"},"commission":{"type":"number","description":"Commission of the order"},"net_amount":{"type":"number","description":"Net cost of the order, including contract multiplier and quantity."},"account":{"type":"string","description":"accountCode"},"acountCode":{"type":"string","description":"Account Number"},"company_name":{"type":"string","description":"Contracts company name"},"contract_description_1":{"type":"string","description":"Format contract name","example":"FB Stock (NASDAQ.NMS)"},"sec_type":{"type":"string","description":"Asset class","example":"STK, FUT, OPT"},"conid":{"type":"string","description":"IBKR\'s contract identifier"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange"},"position":{"type":"string","description":"Total quantity owned for this contract"},"clearing_id":{"type":"string","description":"Firm which will settle the trade. For IBExecution customers only."},"clearing_name":{"type":"string","description":"Specifies the true beneficiary of the order. For IBExecution customers only."},"liquidation_trade":{"type":"number","description":"If order adds liquidity to the market."}}},"modify-order":{"type":"object","properties":{"acctId":{"type":"string"},"conid":{"type":"integer"},"orderType":{"type":"string","description":"for example LMT"},"outsideRTH":{"type":"boolean"},"price":{"type":"number"},"auxPrice":{"type":"number"},"side":{"type":"string","description":"SELL or BUY"},"listingExchange":{"type":"string","description":"optional, not required"},"ticker":{"type":"string","description":"The ticker symbol of the original place order"},"tif":{"type":"string","description":"Specify a time in force to change how long your order will continue to work in the market","example":"tif = DAY to tif = GTC"},"quantity":{"type":"number","description":"usually integer, for some special cases can be float numbers"},"deactivated":{"description":"Set to true if you want to pause a working order.\\nFor details refer to the [TWS Users\' Guide:](https://guides.interactivebrokers.com/tws/twsguide.html#usersguidebook/getstarted/pause_execution.htm)\\n","type":"boolean"}}},"order-request":{"type":"object","properties":{"acctId":{"description":"acctId is optional. It should be one of the accounts returned by\\n/iserver/accounts. If not passed, the first one in the list is selected.\\n","type":"string"},"conid":{"description":"conid is the identifier of the security you want to trade, you can find the\\nconid with /iserver/secdef/search.\\n","type":"integer"},"conidex":{"description":"Conid and Exchange - Can be used instead of conid when specifying the contract identifier of a security.\\n","type":"string","example":"conidex = 265598"},"secType":{"type":"string","description":"The contract-identifier (conid) and security type (type) specified as a concatenated value, conid:type","example":"secType = 265598:STK"},"cOID":{"description":"Customer Order ID. An arbitrary string that can be used to identify the order, e.g \\"my-fb-order\\". The\\nvalue must be unique for a 24h span. Please do not set this value for child orders when placing a bracket order.\\n","type":"string"},"parentId":{"description":"Only specify for child orders when placing bracket orders. The parentId for the child order(s) must be equal to the cOId (customer order id) of the parent.\\n","type":"string"},"orderType":{"description":"The order-type determines what type of order you want to send.\\n  * LMT - A limit order is an order to buy or sell at the specified price or better.\\n  * MKT - A market order is an order to buy or sell at the markets current NBBO.\\n  * STP - A stop order becomes a market order once the specified stop price is attained or penetrated.\\n  * STOP_LIMIT - A stop limit order becomes a limit order once the specified stop price is attained or penetrated.\\n  * MIDPRICE - A MidPrice order attempts to fill at the current midpoint of the NBBO or better.\\n  * TRAIL - A sell trailing stop order sets the stop price at a fixed amount below the market price with an attached \\"trailing\\" amount. See more details here: https://ndcdyn.interactivebrokers.com/en/index.php?f=605\\n  * TRAILLMT - A trailing stop limit order is designed to allow an investor to specify a limit on the maximum possible loss, without setting a limit on the maximum possible gain.\\n    See more details here: https://ndcdyn.interactivebrokers.com/en/index.php?f=606\\n","type":"string"},"listingExchange":{"description":"listingExchange is optional. By default we use \\"SMART\\" routing. Possible values are available via the endpoint: /iserver/contract/{conid}/info,\\nsee **valid_exchange** e.g: SMART,AMEX,NYSE,CBOE,ISE,CHX,ARCA,ISLAND,DRCTEDGE,BEX,BATS,EDGEA,CSFBALGO,JE FFALGO,BYX,IEX,FOXRIVER,TPLUS1,NYSENAT,PSX\\n","type":"string"},"isSingleGroup":{"type":"boolean","description":"set to true if you want to place a single group orders(OCA)\\n"},"outsideRTH":{"description":"set to true if the order can be executed outside regular trading hours.\\n","type":"boolean"},"price":{"description":"optional if order is LMT, or STOP_LIMIT, this is the limit price. For STP|TRAIL this is the stop price. For MIDPRICE this is the option price cap.\\n","type":"number"},"auxPrice":{"description":"optional if order is STOP_LIMIT|TRAILLMT, this is the stop price. You must specify both price and auxPrice for STOP_LIMIT|TRAILLMT orders.\\n"},"side":{"type":"string","description":"SELL or BUY"},"ticker":{"description":"This is the  underlying symbol for the contract.\\n","type":"string"},"tif":{"description":"The Time-In-Force determines how long the order remains active on the market.\\n  * GTC - use Good-Till-Cancel for orders to remain active until it executes or cancelled.\\n  * OPG - use Open-Price-Guarantee for Limit-On-Open (LOO) or Market-On-Open (MOO) orders.\\n  * DAY - if not executed a Day order will automatically cancel at the end of the markets regular trading hours.\\n  * IOC - any portion of an Immediate-or-Cancel order that is not filled as soon as it becomes available in the market is cancelled.\\n","type":"string"},"trailingAmt":{"description":"optional if order is TRAIL, or TRAILLMT. When trailingType is amt, this is the trailing amount, when trailingType is %, it means percentage.\\nYou must specify both trailingType and trailingAmt for TRAIL and TRAILLMT order\\n","type":"number"},"trailingType":{"description":"This is the trailing type for trailing amount. We only support two types here: amt or %.\\nYou must specify both trailingType and trailingAmt for TRAIL and TRAILLMT order\\n","example":"amt","type":"string"},"referrer":{"description":"Custom order reference\\n","example":"QuickTrade","type":"string"},"quantity":{"description":"Integer.\\nIn some special cases quantity is not specified, such as when using \'cashQty\' or \'fxQty\'.\\n","type":"number"},"cashQty":{"description":"Cash Quantity - used to specify the monetary value of an order instead of the number of shares. When using \'cashQty\' don\'t specify \'quantity\'\\nOrders that express size using a monetary value, e.g. cash quantity orders are provided on a non-guaranteed basis.\\nThe system simulates the order by canceling it once the specified amount is spent (for buy orders) or collected (for sell orders).\\nIn addition to the monetary value, the order uses a maximum size that is calculated using the Cash Quantity Estimated Factor, which can be modified in Order Presets.  \\n","type":"number"},"fxQty":{"description":"double number, this is the cash quantity field which can only be used for Currency Conversion Orders. When using \'fxQty\' don\'t specify \'quantity\'.\\n","type":"number"},"useAdaptive":{"description":"If true, the system will use the Price Management Algo to submit the order.\\nhttps://www.interactivebrokers.com/en/index.php?f=43423\\n","type":"boolean"},"isCcyConv":{"description":"set to true if the order is a FX conversion order\\n","type":"boolean"},"allocationMethod":{"description":"Set the allocation method when placing an order using an FA account for a group\\nPossible allocation methods are \\"NetLiquidity\\", \\"AvailableEquity\\", \\"EqualQuantity\\" and \\"PctChange\\".\\n","type":"string"},"strategy":{"description":"Specify which IB Algo algorithm to use for this order.\\n","type":"string"},"strategyParameters":{"description":"The IB Algo parameters for the specified algorithm.\\n","type":"object"}}},"order":{"description":"contains all the order related info","type":"object","properties":{"acct":{"type":"string","description":"account id"},"conid":{"type":"integer"},"orderDesc":{"type":"string"},"description1":{"type":"string"},"ticker":{"type":"string","description":"for example FB"},"secType":{"type":"string","description":"for example STK"},"listingExchange":{"type":"string","description":"for example NASDAQ.NMS"},"remainingQuantity":{"type":"string"},"filledQuantity":{"type":"string"},"companyName":{"type":"string"},"status":{"type":"string","description":"* PendingSubmit - Indicates the order was sent, but confirmation has not been received that it has been received by the destination.\\n                  Occurs most commonly if an exchange is closed.\\n* PendingCancel - Indicates that a request has been sent to cancel an order but confirmation has not been received of its cancellation. * PreSubmitted - Indicates that a simulated order type has been accepted by the IBKR system and that this order has yet to be elected.\\n                 The order is held in the IBKR system until the election criteria are met. At that time the order is transmitted to the order destination as specified.\\n* Submitted - Indicates that the order has been accepted at the order destination and is working. * Cancelled - Indicates that the balance of the order has been confirmed cancelled by the IB system.\\n              This could occur unexpectedly when IB or the destination has rejected the order.\\n* Filled - Indicates that the order has been completely filled. * Inactive - Indicates the order is not working, for instance if the order was invalid and triggered an error message,\\n             or if the order was to short a security and shares have not yet been located.\\n"},"origOrderType":{"type":"string","description":"for example Limit"},"side":{"type":"string","description":"BUY or SELL"},"price":{"type":"number"},"bgColor":{"type":"string","description":"back-ground color"},"fgColor":{"type":"string"},"orderId":{"type":"integer"},"parentId":{"description":"Only exists in child order of bracket","type":"integer"},"order_ref":{"description":"User defined string used to identify the order. Value is set using \\"cOID\\" field while placing an order.","type":"string"}}},"order-status":{"description":"contains all the details of an order","type":"object","properties":{"sub_type":{"type":"string","description":"order sub-type"},"request_id":{"type":"string","description":"order request id"},"order_id":{"type":"integer","description":"system generated order id, unique per account"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange"},"symbol":{"type":"string","description":"Underlying symbol"},"side":{"type":"string","enum":["B","S","X"],"description":"The side of the market of the order.\\n  * B - Buy contract near posted ask price\\n  * S - Sell contract near posted bid price\\n  * X - Option expired\\n"},"contract_description_1":{"type":"string","description":"Format contract name","example":"FB Stock (NASDAQ.NMS)"},"listing_exchange":{"type":"string","description":"Trading Exchange or Venue","example":"NASDAQ.NMS"},"option_acct":{"type":"string"},"company_name":{"type":"string","description":"Contracts company name","example":"APPLE INC"},"size":{"type":"string","description":"Quantity updated"},"total_size":{"type":"string","description":"Total quantity"},"currency":{"type":"string","description":"Contract traded currency"},"account":{"type":"string","description":"account id"},"order_type":{"type":"string","description":"Types of orders","example":"LIMIT"},"limit_price":{"type":"string","description":"Limit price"},"stop_price":{"type":"string","description":"Stop price"},"cum_fill":{"type":"string","description":"Cumulative fill"},"order_status":{"type":"string","description":"*  PendingSubmit - Indicates the order was sent, but confirmation has not been received that it has been received by the destination.\\n                   Occurs most commonly if an exchange is closed.\\n*  PendingCancel - Indicates that a request has been sent to cancel an order but confirmation has not been received of its cancellation. *  PreSubmitted - Indicates that a simulated order type has been accepted by the IBKR system and that this order has yet to be elected.\\n                  The order is held in the IBKR system until the election criteria are met. At that time the order is transmitted to the order destination as specified.\\n*  Submitted - Indicates that the order has been accepted at the order destination and is working. *  Cancelled - Indicates that the balance of the order has been confirmed cancelled by the IB system.\\n               This could occur unexpectedly when IB or the destination has rejected the order.\\n*  Filled - Indicates that the order has been completely filled. *  Inactive - Indicates the order is not working, for instance if the order was invalid and triggered an error message,\\n              or if the order was to short a security and shares have not yet been located.\\n"},"order_status_description":{"type":"string","description":"Description of the order status"},"tif":{"type":"string","description":"Time-in-Force - length of time order will continue working before it is canceled."},"fg_color":{"type":"string","description":"Foreground color in hex format"},"bg_color":{"type":"string","description":"Background color in hex format"},"order_not_editable":{"type":"boolean","description":"If true not allowed to modify order"},"editable_fields":{"type":"string","description":"Fields that can be edited in escaped unicode characters","example":"\\\\u001E"},"cannot_cancel_order":{"type":"boolean","description":"If true not allowed to cancel order"},"outside_rth":{"type":"boolean","description":"If true order trades outside regular trading hours"},"deactivate_order":{"type":"boolean","description":"If true order is de-activated"},"use_price_mgmt_algo":{"type":"boolean","description":"If true price management algo is enabled, refer to https://www.interactivebrokers.com/en/index.php?f=43423"},"sec_type":{"type":"string","description":"Asset class","example":"STK"},"available_chart_periods":{"type":"string","description":"List of available chart periods"},"order_description":{"type":"string","description":"Format description of order","example":"BUY 100 LIMIT 125.0 DAY"},"order_description_with_contract":{"type":"string","description":"order_description with the symbol","example":"BUY 100 AAPL LIMIT 125.0 DAY"},"alert_active":{"type":"integer"},"child_order_type":{"type":"string","description":"type of the child order","example":"A=attached, B=beta-hedge, etc"},"size_and_fills":{"type":"string","description":"Format fillQuantity\\\\totalQuantity","example":"0/9"},"exit_strategy_display_price":{"type":"string","description":"Position display price"},"exit_strategy_chart_description":{"type":"string","description":"Position description to display on chart"},"exit_strategy_tool_availability":{"type":"string","enum":[1,0],"description":"* 1: If your account has position or order for contract * 0: If your account has no position or order for contract\\n"},"allowed_duplicate_opposite":{"type":"boolean","description":"Returns true if contract supports duplicate/opposite side order."},"order_time":{"type":"string","description":"Time of status update in unix time"},"oca_group_id":{"type":"string","description":"only exists for oca orders, oca orders in same group will have same id"}}},"set-account":{"type":"object","properties":{"acctId":{"type":"string","description":"Account ID"}}},"system-error":{"type":"object","properties":{"error":{"type":"string"}}}}}')},68041:function(e){"use strict";e.exports=JSON.parse('{"basePath":"/v1/api","host":"localhost:5000","produces":["application/json"],"name":"swagger","schemes":["https"],"swagger":"2.0","info":{"title":"Client Portal Web API","description":"Client Portal Web API","version":"1.0.0"},"paths":{"/ws":{"post":{"summary":"Websocket Endpoint","description":"The streaming API is documented under [Streaming WebSocket Data](./websockets) for details.","tags":["Streaming"],"responses":{"200":{"description":"confirms session is open"}}}},"/tickle":{"post":{"summary":"Ping the server to keep the session open","description":"If the gateway has not received any requests for several minutes an open session will automatically timeout. The tickle endpoint pings the server to prevent the session from ending. It is expected to call this endpoint approximately every 60 seconds to maintain the connection to the brokerage session.","tags":["Session"],"responses":{"200":{"description":"Returns details about the current user session"}}}},"/fyi/unreadnumber":{"get":{"summary":"Get unread number of fyis. The HTTP method POST is also supported.","tags":["FYI"],"description":"Returns the total number of unread fyis\\n","responses":{"200":{"description":"An object","schema":{"type":"object","properties":{"BN":{"type":"integer","description":"unread number"}}}}}}},"/fyi/settings":{"get":{"summary":"Get a list of subscriptions","tags":["FYI"],"description":"Return the current choices of subscriptions, we can toggle the option\\n","responses":{"200":{"description":"An array","schema":{"type":"array","items":{"type":"object","properties":{"A":{"type":"integer","description":"optional, if A doesn\'t exist, it means user can\'t toggle this option. 0-off, 1-on."},"FC":{"type":"string","description":"fyi code"},"H":{"type":"integer","description":"disclaimer read, 1 = yes, = 0 no."},"FD":{"type":"string","description":"detailed description"},"FN":{"type":"string","description":"title"}}}}}}}},"/fyi/settings/{typecode}":{"post":{"summary":"Enable/Disable certain subscription","tags":["FYI"],"description":"Configure which typecode you would like to enable/disable.\\n","parameters":[{"name":"typecode","in":"path","required":true,"type":"string","description":"fyi code"},{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"enabled":{"type":"boolean"}}}}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object"}}}}},"/fyi/disclaimer/{typecode}":{"get":{"summary":"Get disclaimer for a certain kind of fyi","tags":["FYI"],"parameters":[{"name":"typecode","in":"path","required":true,"type":"string","description":"fyi code, for example --M8, EA"}],"responses":{"200":{"description":"receives the disclaimer message","schema":{"type":"object","properties":{"DT":{"type":"string","description":"disclaimer message"},"FC":{"type":"string","description":"fyi code"}}}}}},"put":{"summary":"Mark disclaimer read","tags":["FYI"],"parameters":[{"name":"typecode","in":"path","required":true,"type":"string","description":"fyi code, for example --M8, EA"}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object","properties":{"T":{"type":"integer"},"V":{"type":"integer"}}}}}}},"/fyi/deliveryoptions":{"get":{"summary":"Get delivery options","tags":["FYI"],"description":"options for sending fyis to email and other devices\\n","responses":{"200":{"description":"An object","schema":{"type":"object","properties":{"M":{"type":"integer","description":"Email option is enabled or not 0-off, 1-on."},"E":{"type":"array","items":{"type":"object","description":"device","properties":{"NM":{"type":"string","description":"device name"},"I":{"type":"string","description":"device id"},"UI":{"type":"string","description":"unique device id"},"A":{"type":"string","description":"device is enabled or not 0-true, 1-false."}}}}}}}}}},"/fyi/deliveryoptions/email":{"put":{"summary":"Enable/Disable email option","tags":["FYI"],"parameters":[{"name":"enabled","in":"query","required":true,"type":"string","description":"true/false"}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object","properties":{"T":{"type":"integer"},"V":{"type":"integer"}}}}}}},"/fyi/deliveryoptions/device":{"post":{"summary":"Enable/Disable device option","tags":["FYI"],"parameters":[{"in":"body","name":"body","description":"device info","required":true,"schema":{"type":"object","properties":{"devicename":{"type":"string"},"deviceId":{"type":"string"},"uiName":{"type":"string"},"enabled":{"type":"boolean"}}}}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object","properties":{"T":{"type":"integer"},"V":{"type":"integer"}}}}}}},"/fyi/deliveryoptions/{deviceId}":{"delete":{"summary":"Delete a device","tags":["FYI"],"parameters":[{"name":"deviceId","in":"path","type":"string","required":true,"description":"device ID"}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object"}}}}},"/fyi/notifications":{"get":{"summary":"Get a list of notifications","tags":["FYI"],"parameters":[{"name":"exclude","in":"query","type":"string","description":"if set, don\'t set include"},{"name":"include","in":"query","type":"string","description":"if set, don\'t set exclude"},{"name":"max","in":"query","required":true,"type":"string","description":"max number of fyis in response"}],"responses":{"200":{"description":"An array","schema":{"$ref":"#/definitions/notifications"}}}}},"/fyi/notifications/more":{"get":{"summary":"Get more notifications based on a certain one","tags":["FYI"],"parameters":[{"name":"id","in":"query","required":true,"type":"string","description":"id of last notification in the list"}],"responses":{"200":{"description":"An array","schema":{"$ref":"#/definitions/notifications"}}}}},"/fyi/notifications/{notificationId}":{"put":{"summary":"Get a list of notifications","tags":["FYI"],"parameters":[{"name":"notificationId","in":"path","required":true,"type":"string","description":"mark a notification read"}],"responses":{"200":{"description":"when 200 receives, it means successful","schema":{"type":"object"}}}}},"/trsrv/secdef":{"post":{"summary":"Secdef by Conid","description":"Returns a list of security definitions for the given conids","tags":["Contract"],"parameters":[{"in":"body","name":"body","description":"request body","required":true,"schema":{"type":"object","properties":{"conids":{"type":"array","items":{"type":"integer","description":"contract id"}}}}}],"responses":{"200":{"description":"returns an array of secdef info","schema":{"$ref":"#/definitions/secdef"}}}}},"/trsrv/secdef/schedule":{"get":{"summary":"Get trading schedule for symbol","description":"Returns the trading schedule up to a month for the requested contract","tags":["Contract"],"parameters":[{"in":"query","name":"assetClass","description":"specify the asset class of the contract.\\nAvailable values-- Stock: STK, Option: OPT, Future: FUT, Contract For Difference: CFD, Warrant: WAR, Forex: SWP, Mutual Fund: FND, Bond: BND, Inter-Commodity Spreads: ICS\\n","required":true,"type":"string"},{"in":"query","name":"symbol","description":"Underlying Symbol for specified contract, for example \'AAPL\' for US Stock - Apple Inc.","required":true,"type":"string"},{"in":"query","name":"exchange","description":"Native exchange for contract, for example \'NASDAQ\' for US Stock - Apple Inc.","required":false,"type":"string"},{"in":"query","name":"exchangeFilter","description":"Response only returns trading schedule for specified exchange","required":false,"type":"string"}],"responses":{"200":{"description":"Returns an object","schema":{"type":"object","properties":{"id":{"description":"Exchange parameter id","type":"string"},"tradeVenueId":{"description":"Reference on a trade venue of given exchange parameter","type":"string"},"schedules":{"description":"Always contains at least one \'tradingTime\'  and zero or more \'sessionTime\' tags","type":"array","items":{"type":"object","properties":{"clearingCycleEndTime":{"type":"integer"},"tradingScheduleDate":{"type":"integer","description":"20000101 stands for any Sat, 20000102 stands for any Sun, ... 20000107 stands for any Fri. Any other date stands for itself."},"sessions":{"type":"object","description":"If the LIQUID hours differs from the total trading day then a separate \'session\' tag is returned.","properties":{"openingTime":{"type":"integer"},"closingTime":{"type":"integer"},"prop":{"type":"string","description":"If the whole trading day is considered LIQUID then the value \'LIQUID\' is returned."}}},"tradingTimes":{"description":"Returns tradingTime in exchange time zone.","type":"object","properties":{"openingTime":{"type":"integer"},"closingTime":{"type":"integer"},"cancelDayOrders":{"type":"string"}}}}}}}}}}}},"/trsrv/futures":{"get":{"summary":"Security Futures by Symbol","description":"Returns a list of non-expired future contracts for given symbol(s)","tags":["Contract"],"parameters":[{"in":"query","name":"symbols","description":"list of case-sensitive symbols separated by comma","required":true,"type":"string"}],"responses":{"200":{"description":"returns an object with symbol and and array of its future contracts","schema":{"type":"object","properties":{"symbol":{"$ref":"#/definitions/futures"}}}},"500":{"description":"error while processing the request","schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"/trsrv/stocks":{"get":{"summary":"Security Stocks by Symbol","description":"Returns an object contains all stock contracts for given symbol(s)","tags":["Contract"],"parameters":[{"in":"query","name":"symbols","description":"list of upper-sensitive symbols separated by comma","required":true,"type":"string"}],"responses":{"200":{"description":"returns an object with symbols","schema":{"type":"object","properties":{"symbol":{"$ref":"#/definitions/stocks"}}}},"500":{"description":"error while processing the request","schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"/logout":{"post":{"summary":"Ends the current session","description":"Logs the user out of the gateway session. Any further activity requires re-authentication.","tags":["Session"],"responses":{"200":{"description":"returned status indicates if user is logged in","schema":{"type":"object","properties":{"confirmed":{"description":"true means username is still logged in, false means it is not","type":"boolean"}}}}}}},"/hmds/history":{"get":{"summary":"Market Data History (Beta)","description":"Using a direct connection to the market data farm, will provide a list of historical market data for given conid.","tags":["Market Data"],"parameters":[{"in":"query","name":"conid","description":"contract id","required":true,"type":"integer"},{"in":"query","name":"period","enum":["min","h","d","w","m","y"],"description":"Time period for history request. \\n  * min: Minutes\\n  * h: Hours\\n  * d: Days\\n  * w: Weeks\\n  * m: Months\\n  * y: Years\\n","required":true,"type":"string"},{"in":"query","name":"bar","enum":["min","h","d","w","m"],"description":"Duration of time for each candlestick bar.\\n  * min: Minutes\\n  * h: Hours\\n  * d: Days\\n  * w: Weeks\\n  * m: Months\\n","required":false,"type":"string"},{"in":"query","name":"outsideRth","description":"For contracts that support it, will determine if history data includes outside of regular trading hours.","required":false,"type":"boolean"}],"responses":{"200":{"description":"Valid result","schema":{"$ref":"#/definitions/history-result"}},"400":{"description":"Bad request"}}}},"/sso/validate":{"get":{"summary":"Validate SSO","description":"Validates the current session for the SSO user","tags":["Session"],"responses":{"200":{"description":"An Object","schema":{"type":"object","properties":{"LOGIN_TYPE":{"description":"1 for Live, 2 for Paper","type":"number"},"USER_NAME":{"description":"Username","type":"string"},"USER_ID":{"description":"User ID","type":"number"},"expire":{"description":"Time in milliseconds until session expires. Caller needs to call the again to re-validate session","type":"number"},"RESULT":{"description":"true if session was validated; false if not.","type":"boolean"},"AUTH_TIME":{"description":"Time of session validation","type":"number"}}}},"401":{"description":"Authentication failed"},"500":{"description":"System failed"}}}},"/hmds/scanner":{"post":{"summary":"Run Scanner (Beta)","description":"Using a direct connection to the market data farm, will provide results to the requested scanner.","tags":["Scanner"],"parameters":[{"in":"body","name":"body","description":"request body","required":true,"schema":{"type":"object","properties":{"instrument":{"type":"string","example":"BOND.GOVT"},"locations":{"type":"string","example":"BOND.GOVT.US"},"scanCode":{"type":"string","example":"FAR_MATURITY_DATE"},"secType":{"type":"string","example":"BOND"},"filters":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string","example":"bondValidNetBidOrAskOnly"},"value":{"description":"Value can be either an integer, double, boolean or a string depending upon the type of filter specified in the code section","example":true}}}}}}}],"responses":{"200":{"description":"Valid result","schema":{"$ref":"#/definitions/scanner-result"}},"400":{"description":"Bad request"}}}},"/md/snapshot":{"get":{"summary":"Market Data Snapshot (Beta)","description":"Get a snapshot of Market Data for the given conid(s).See response for a list of available fields that can be requested from the fields argument.\\nMust be connected to a brokerage session before can query snapshot data.\\nFirst /snapshot endpoint call for given conid(s) will initiate the market data request, make an additional request to receive field values back.\\nTo receive all available fields the /snapshot endpoint will need to be called several times.\\nTo receive streaming market data the endpoint /ws can be used. Refer to [Streaming WebSocket Data](./websockets) for details.\\n","tags":["Market Data"],"parameters":[{"name":"conids","in":"query","required":true,"enum":["conid@exchange:instrType"],"description":"List of conids comma separated. Optional exchange and instrument type can be specified.\\n  * conid: IBKR Contract Identifier\\n  * exchange: Exchange or venue\\n  * instrType: Instrument Type supported values: CS (Stocks), OPT (Options), FUT (Futures), FOP (Future Options), WAR (Warrants), BOND (Bonds), FUND (Mutual Funds), CASH (Forex), CFD (Contract for difference), IND (Index)\\n","type":"string"},{"name":"fields","in":"query","type":"string","description":"list of fields separated by comma","example":[31,84,85,86,88]}],"responses":{"200":{"description":"An Object","schema":{"$ref":"#/definitions/market-data"}},"401":{"description":"Authentication failed"},"500":{"description":"System failed"}}}},"/pa/performance":{"post":{"summary":"Account Performance","description":"Returns the performance (MTM) for the given accounts, if more than one account is passed, the result is consolidated.","tags":["PortfolioAnalyst"],"parameters":[{"in":"body","name":"body","description":"an array of account ids","required":true,"schema":{"type":"object","properties":{"acctIds":{"type":"array","items":{"type":"string","description":"account id"}},"freq":{"type":"string","enum":["D","M","Q"],"description":"Frequency of cumulative performance data points: \'D\'aily, \'M\'onthly,\'Q\'uarterly.\\n"}}}}],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/performance"}}}}},"/pa/transactions":{"post":{"summary":"Position\'s Transaction History","description":"transaction history for a given number of conids and accounts.\\nTypes of transactions include dividend payments, buy and sell transactions, transfers.\\n","tags":["PortfolioAnalyst"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"acctIds":{"type":"array","items":{"type":"string","description":"account id"}},"conids":{"type":"array","items":{"type":"number","description":"array only supports one conid at a time."}},"currency":{"type":"string","example":"USD","description":"optional defaults to USD."},"days":{"type":"number","example":7,"description":"optional, default value is 90"}}}}],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/transactions"}}}}},"/portfolio/accounts":{"get":{"summary":"Portfolio Accounts","description":"In non-tiered account structures, returns a list of accounts for which the user can view position and account information. This endpoint must be called prior to calling other /portfolio endpoints for those accounts. For querying a list of accounts which the user can trade, see /iserver/accounts. For a list of subaccounts in tiered account structures (e.g. financial advisor or ibroker accounts) see /portfolio/subaccounts.","tags":["Account","Portfolio"],"responses":{"200":{"description":"An array","schema":{"$ref":"#/definitions/accounts"}}}}},"/portfolio/subaccounts":{"get":{"summary":"List of Sub-Accounts","description":"Used in tiered account structures (such as Financial Advisor and IBroker Accounts) to return a list of up to 100 sub-accounts for which the user can view position and account-related information. This endpoint must be called prior to calling other /portfolio endpoints for those sub-accounts. If you have more than 100 sub-accounts use /portfolio/subaccounts2. To query a list of accounts the user can trade, see /iserver/accounts.","tags":["Account","Portfolio"],"responses":{"200":{"description":"An array","schema":{"$ref":"#/definitions/account"}}}}},"/portfolio/subaccounts2":{"get":{"summary":"List of Sub-Accounts (Large Accounts)","description":"Used in tiered account structures (such as Financial Advisor and IBroker Accounts) to return a list of sub-accounts, paginated up to 20 accounts per page, for which the user can view position and account-related information. This endpoint must be called prior to calling other /portfolio endpoints for those sub-accounts. If you have less than 100 sub-accounts use /portfolio/subaccounts. To query a list of accounts the user can trade, see /iserver/accounts.","tags":["Account","Portfolio"],"parameters":[{"name":"page","in":"path","required":true,"type":"string","default":"0"}],"responses":{"200":{"description":"An object containing an array","schema":{"type":"object","properties":{"metadata":{"type":"object","properties":{"total":{"type":"number","description":"Number of sub-accounts"},"pageSize":{"type":"number","description":"How many sub-accounts are returned for the page requested. A max of 20 per page."},"pageNume":{"type":"number","description":"Current page number."}}},"subaccounts":{"type":"array","items":{"type":"object","description":"Account information","properties":{"id":{"type":"string","description":"The account identification value"},"accountId":{"type":"string","description":"The account number","example":"U12345678 for Individual Live Accounts, DU12345678 for Individual Paper Accounts"},"accountVan":{"type":"string","description":"The accountAlias"},"accountTitle":{"type":"string","description":"Title of the account"},"displayName":{"type":"string","description":"Whichever value is not null in this priority","enum":["accountTitle","accountVan","accountId"]},"accountAlias":{"type":"string","description":"User customizable account alias. Refer to [Configure Account Alias](https://guides.interactivebrokers.com/cp/cp.htm#am/settings/accountalias.htm) for details."},"accountStatus":{"type":"number","description":"When the account was opened in unix time."},"currency":{"type":"string","description":"Base currency of the account.","enum":["AUD","GBP","CAD","CNH","CZK","DKK","EUR","HKD","HUF","INR","ILS","JPY","MXN","NOK","NZD","PLN","RUB","SGD","SEK","CHF","USD"]},"type":{"type":"string","description":"Account Type","enum":["INDIVIDUAL","JOINT","ORG","TRUST","DEMO"]},"tradingType":{"type":"string","description":"UNI - Deprecated property"},"faclient":{"type":"boolean","description":"If an account is a sub-account to a Financial Advisor."},"clearingStatus":{"type":"string","enum":["O","P","N","A","R","C"],"description":"Status of the Account\\n  * O = Open\\n  * P or N = Pending\\n  * A = Abandoned\\n  * R = Rejected\\n  * C = Closed\\n  covestor:\\n    type: boolean\\n    description: Is a Covestor Account\\n  parent:\\n    type: object\\n    properties:\\n      mmc:\\n        type: array\\n        items:\\n          type: string\\n          description: Money Manager Client (MMC) Account\\n      accountId:\\n        type: string\\n        description: Account Number for Money Manager Client\\n      isMParent:\\n        type: boolean\\n        description: Is MM a Parent Account\\n      isMChild:\\n        type: boolean\\n        description: Is MM a Child Account\\n      isMultiplex:\\n        type: boolean\\n        description: Is a Multiplex Account. These are account models with individual account being parent and managed account being child.\\n  desc:\\n    type: string\\n    description: Formatted \\"accountId - accountAlias\\"\\n"}}}}}}}}}},"/portfolio/{accountId}/meta":{"get":{"summary":"Account Information","description":"Account information related to account Id /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Account","Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"An object","schema":{"$ref":"#/definitions/accounts"}}}}},"/portfolio/{accountId}/allocation":{"get":{"summary":"Account Allocation","description":"Information about the account\'s portfolio allocation by Asset Class, Industry and Category.  /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"returns an object of three different allocations","schema":{"$ref":"#/definitions/allocation"}}}}},"/portfolio/allocation":{"post":{"summary":"Account Alloction (All Accounts)","description":"Similar to /portfolio/{accountId}/allocation but returns a consolidated view of of all the accounts returned by /portfolio/accounts. /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Portfolio"],"parameters":[{"in":"body","name":"body","description":"accounts info","required":true,"schema":{"type":"object","properties":{"acctIds":{"type":"array","items":{"type":"string","description":"account id"}}}}}],"responses":{"200":{"description":"returns an object of three different allocations","schema":{"$ref":"#/definitions/allocation"}}}}},"/portfolio/{accountId}/positions/{pageId}":{"get":{"summary":"Portfolio Positions","description":"Returns a list of positions for the given account. The endpoint supports paging, page\'s default size is 30 positions. /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"name":"pageId","in":"path","required":true,"type":"string","default":"0","description":"page id"},{"name":"model","in":"query","type":"string","description":"optional"},{"name":"sort","in":"query","type":"string","description":"declare the table to be sorted by which column"},{"name":"direction","in":"query","type":"string","description":"in which order, a means ascending - d means descending"},{"name":"period","in":"query","type":"string","description":"period for pnl column, can be 1D, 7D, 1M..."}],"responses":{"200":{"description":"returns a list of positions in the portfolio","schema":{"$ref":"#/definitions/position"}}}}},"/portfolio/{accountId}/position/{conid}":{"get":{"summary":"Position by Conid","description":"Returns a list of all positions matching the conid. For portfolio models the conid could be in more than one model, returning an array with the name of the model it belongs to.  /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"name":"conid","in":"path","required":true,"type":"integer","description":"contract id"}],"responses":{"200":{"description":"returns a list containing only one position for the conid","schema":{"$ref":"#/definitions/position"}}}}},"/portfolio/{accountId}/positions/invalidate":{"post":{"summary":"Invalidates the backend cache of the Portfolio","tags":["Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"Means successful","schema":{"type":"object"}}}}},"/portfolio/{accountId}/summary":{"get":{"summary":"Account Summary","description":"Returns information about margin, cash balances and other information related to specified account. See also /portfolio/{accountId}/ledger. /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Account","Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"returns an object containing account summary. The object contains multiple properties. A property is sufficed with -c if its provides commodity value, -s if it provides security value and -c if its UKL segment value","schema":{"type":"object","properties":{"accountready":{"$ref":"#/definitions/summary"},"accounttype":{"$ref":"#/definitions/summary"},"accruedcash":{"$ref":"#/definitions/summary"},"accruedcash-c":{"$ref":"#/definitions/summary"},"accruedcash-f":{"$ref":"#/definitions/summary"},"accruedcash-s":{"$ref":"#/definitions/summary"},"accrueddividend":{"$ref":"#/definitions/summary"},"accrueddividend-c":{"$ref":"#/definitions/summary"},"accrueddividend-f":{"$ref":"#/definitions/summary"},"accrueddividend-s":{"$ref":"#/definitions/summary"},"availablefunds":{"$ref":"#/definitions/summary"},"availablefunds-c":{"$ref":"#/definitions/summary"},"availablefunds-f":{"$ref":"#/definitions/summary"},"availablefunds-s":{"$ref":"#/definitions/summary"},"billable":{"$ref":"#/definitions/summary"},"billable-c":{"$ref":"#/definitions/summary"},"billable-f":{"$ref":"#/definitions/summary"},"billable-s":{"$ref":"#/definitions/summary"},"buyingpower":{"$ref":"#/definitions/summary"},"cushion":{"$ref":"#/definitions/summary"},"daytradesremaining":{"$ref":"#/definitions/summary"},"daytradesremainingt+1":{"$ref":"#/definitions/summary"},"daytradesremainingt+2":{"$ref":"#/definitions/summary"},"daytradesremainingt+3":{"$ref":"#/definitions/summary"},"daytradesremainingt+4":{"$ref":"#/definitions/summary"},"equitywithloanvalue":{"$ref":"#/definitions/summary"},"equitywithloanvalue-c":{"$ref":"#/definitions/summary"},"equitywithloanvalue-f":{"$ref":"#/definitions/summary"},"equitywithloanvalue-s":{"$ref":"#/definitions/summary"},"excessliquidity":{"$ref":"#/definitions/summary"},"excessliquidity-c":{"$ref":"#/definitions/summary"},"excessliquidity-f":{"$ref":"#/definitions/summary"},"excessliquidity-s":{"$ref":"#/definitions/summary"},"fullavailablefunds":{"$ref":"#/definitions/summary"},"fullavailablefunds-c":{"$ref":"#/definitions/summary"},"fullavailablefunds-f":{"$ref":"#/definitions/summary"},"fullavailablefunds-s":{"$ref":"#/definitions/summary"},"fullexcessliquidity":{"$ref":"#/definitions/summary"},"fullexcessliquidity-c":{"$ref":"#/definitions/summary"},"fullexcessliquidity-f":{"$ref":"#/definitions/summary"},"fullexcessliquidity-s":{"$ref":"#/definitions/summary"},"fullinitmarginreq":{"$ref":"#/definitions/summary"},"fullinitmarginreq-c":{"$ref":"#/definitions/summary"},"fullinitmarginreq-f":{"$ref":"#/definitions/summary"},"fullinitmarginreq-s":{"$ref":"#/definitions/summary"},"fullmaintmarginreq":{"$ref":"#/definitions/summary"},"fullmaintmarginreq-c":{"$ref":"#/definitions/summary"},"fullmaintmarginreq-f":{"$ref":"#/definitions/summary"},"fullmaintmarginreq-s":{"$ref":"#/definitions/summary"},"grosspositionvalue":{"$ref":"#/definitions/summary"},"grosspositionvalue-c":{"$ref":"#/definitions/summary"},"grosspositionvalue-f":{"$ref":"#/definitions/summary"},"grosspositionvalue-s":{"$ref":"#/definitions/summary"},"guarantee":{"$ref":"#/definitions/summary"},"guarantee-c":{"$ref":"#/definitions/summary"},"guarantee-f":{"$ref":"#/definitions/summary"},"guarantee-s":{"$ref":"#/definitions/summary"},"highestseverity":{"$ref":"#/definitions/summary"},"highestseverity-c":{"$ref":"#/definitions/summary"},"highestseverity-f":{"$ref":"#/definitions/summary"},"highestseverity-s":{"$ref":"#/definitions/summary"},"indianstockhaircut":{"$ref":"#/definitions/summary"},"indianstockhaircut-c":{"$ref":"#/definitions/summary"},"indianstockhaircut-f":{"$ref":"#/definitions/summary"},"indianstockhaircut-s":{"$ref":"#/definitions/summary"},"initmarginreq":{"$ref":"#/definitions/summary"},"initmarginreq-c":{"$ref":"#/definitions/summary"},"initmarginreq-f":{"$ref":"#/definitions/summary"},"initmarginreq-s":{"$ref":"#/definitions/summary"},"leverage":{"$ref":"#/definitions/summary"},"leverage-c":{"$ref":"#/definitions/summary"},"leverage-f":{"$ref":"#/definitions/summary"},"leverage-s":{"$ref":"#/definitions/summary"},"lookaheadavailablefunds":{"$ref":"#/definitions/summary"},"lookaheadavailablefunds-c":{"$ref":"#/definitions/summary"},"lookaheadavailablefunds-f":{"$ref":"#/definitions/summary"},"lookaheadavailablefunds-s":{"$ref":"#/definitions/summary"},"lookaheadexcessliquidity":{"$ref":"#/definitions/summary"},"lookaheadexcessliquidity-c":{"$ref":"#/definitions/summary"},"lookaheadexcessliquidity-f":{"$ref":"#/definitions/summary"},"lookaheadexcessliquidity-s":{"$ref":"#/definitions/summary"},"lookaheadinitmarginreq":{"$ref":"#/definitions/summary"},"lookaheadinitmarginreq-c":{"$ref":"#/definitions/summary"},"lookaheadinitmarginreq-f":{"$ref":"#/definitions/summary"},"lookaheadinitmarginreq-s":{"$ref":"#/definitions/summary"},"lookaheadmaintmarginreq":{"$ref":"#/definitions/summary"},"lookaheadmaintmarginreq-c":{"$ref":"#/definitions/summary"},"lookaheadmaintmarginreq-f":{"$ref":"#/definitions/summary"},"lookaheadmaintmarginreq-s":{"$ref":"#/definitions/summary"},"lookaheadnextchange":{"$ref":"#/definitions/summary"},"maintmarginreq":{"$ref":"#/definitions/summary"},"maintmarginreq-c":{"$ref":"#/definitions/summary"},"maintmarginreq-f":{"$ref":"#/definitions/summary"},"maintmarginreq-s":{"$ref":"#/definitions/summary"},"netliquidation":{"$ref":"#/definitions/summary"},"netliquidation-c":{"$ref":"#/definitions/summary"},"netliquidation-f":{"$ref":"#/definitions/summary"},"netliquidation-s":{"$ref":"#/definitions/summary"},"netliquidationuncertainty":{"$ref":"#/definitions/summary"},"nlvandmargininreview":{"$ref":"#/definitions/summary"},"pasharesvalue":{"$ref":"#/definitions/summary"},"pasharesvalue-c":{"$ref":"#/definitions/summary"},"pasharesvalue-f":{"$ref":"#/definitions/summary"},"pasharesvalue-s":{"$ref":"#/definitions/summary"},"postexpirationexcess":{"$ref":"#/definitions/summary"},"postexpirationexcess-c":{"$ref":"#/definitions/summary"},"postexpirationexcess-f":{"$ref":"#/definitions/summary"},"postexpirationexcess-s":{"$ref":"#/definitions/summary"},"postexpirationmargin":{"$ref":"#/definitions/summary"},"postexpirationmargin-c":{"$ref":"#/definitions/summary"},"postexpirationmargin-f":{"$ref":"#/definitions/summary"},"postexpirationmargin-s":{"$ref":"#/definitions/summary"},"previousdayequitywithloanvalue":{"$ref":"#/definitions/summary"},"previousdayequitywithloanvalue-c":{"$ref":"#/definitions/summary"},"previousdayequitywithloanvalue-f":{"$ref":"#/definitions/summary"},"previousdayequitywithloanvalue-s":{"$ref":"#/definitions/summary"},"segmenttitle-c":{"$ref":"#/definitions/summary"},"segmenttitle-f":{"$ref":"#/definitions/summary"},"segmenttitle-s":{"$ref":"#/definitions/summary"},"totalcashvalue":{"$ref":"#/definitions/summary"},"totalcashvalue-c":{"$ref":"#/definitions/summary"},"totalcashvalue-f":{"$ref":"#/definitions/summary"},"totalcashvalue-s":{"$ref":"#/definitions/summary"},"totaldebitcardpendingcharges":{"$ref":"#/definitions/summary"},"totaldebitcardpendingcharges-c":{"$ref":"#/definitions/summary"},"totaldebitcardpendingcharges-f":{"$ref":"#/definitions/summary"},"totaldebitcardpendingcharges-s":{"$ref":"#/definitions/summary"},"tradingtype-f":{"$ref":"#/definitions/summary"},"tradingtype-s":{"$ref":"#/definitions/summary"}}}}}}},"/portfolio/{accountId}/ledger":{"get":{"summary":"Account Ledger","description":"Information regarding settled cash, cash balances, etc. in the account\'s base currency and any other cash balances hold in other currencies.  /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint. The list of supported currencies is available at https://www.interactivebrokers.com/en/index.php?f=3185.","tags":["Account","Portfolio"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"200 means successful","schema":{"type":"object","properties":{"BASE":{"$ref":"#/definitions/ledger"}}}}}}},"/portfolio/positions/{conid}":{"get":{"summary":"Positions by Conid","description":"Returns an object of all positions matching the conid for all the selected accounts. For portfolio models the conid could be in more than one model, returning an array with the name of the model it belongs to. /portfolio/accounts or /portfolio/subaccounts must be called prior to this endpoint.","tags":["Portfolio"],"parameters":[{"name":"conid","in":"path","required":true,"type":"integer","description":"contract id"}],"responses":{"200":{"description":"returns an object containing account and its position information","schema":{"type":"object","properties":{"ACCTID":{"$ref":"#/definitions/position"}}}}}}},"/iserver/auth/status":{"post":{"summary":"Authentication Status","description":"Current Authentication status to the Brokerage system. Market Data and Trading is not possible if not authenticated, e.g. authenticated shows false","tags":["Session"],"responses":{"200":{"description":"Authentication Status","schema":{"$ref":"#/definitions/authStatus"}}}}},"/iserver/reauthenticate":{"post":{"summary":"Tries to re-authenticate to Brokerage","description":"When using the CP Gateway, this endpoint provides a way to reauthenticate to the Brokerage system as long as there is a valid SSO session, see /sso/validate.\\n","tags":["Session"],"responses":{"200":{"description":"Authentication Status","schema":{"$ref":"#/definitions/authStatus"}}}}},"/iserver/account/trades":{"get":{"summary":"List of Trades for the selected account","description":"Returns a list of trades for the currently selected account for current day and six previous days. It is advised to call this endpoint once per session.\\n","tags":["Trades"],"responses":{"200":{"description":"An array of trades","schema":{"type":"array","items":{"$ref":"#/definitions/trade"}}}}}},"/iserver/accounts":{"get":{"summary":"Brokerage Accounts","description":"Returns a list of accounts the user has trading access to, their respective aliases and the currently selected account. Note this endpoint must be called before modifying an order or querying open orders.","tags":["Account"],"responses":{"200":{"description":"An array of accounts","schema":{"type":"object","properties":{"accounts":{"type":"array","items":{"type":"string"},"description":"Unique account id"},"aliases":{"type":"object","description":"Account Id and its alias"},"selectedAccount":{"type":"string"}}}}}}},"/iserver/account":{"post":{"summary":"Switch Account","description":"If an user has multiple accounts, and user wants to get orders, trades, etc. of an account other than currently selected account, then user can update the currently selected account using this API and then can fetch required information for the newly updated account.","tags":["Account"],"parameters":[{"in":"body","name":"body","required":true,"description":"account id","schema":{"$ref":"#/definitions/set-account"}}],"responses":{"200":{"description":"an object containing updated account ID","schema":{"type":"object","properties":{"set":{"type":"boolean"},"acctId":{"type":"string"}}}}}}},"/iserver/account/{accountId}/alert":{"post":{"summary":"Create or modify alert","description":"Please note here, DO NOT pass orderId when creating a new alert, toolId is only required for MTA alert\\n","tags":["Alert"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"in":"body","name":"body","description":"alert info","required":true,"schema":{"$ref":"#/definitions/alert-request"}}],"responses":{"200":{"description":"returns an object","schema":{"type":"object","properties":{"request_id":{"type":"integer"},"order_id":{"type":"integer"},"success":{"type":"boolean"},"text":{"type":"string"},"order_status":{"type":"string"},"warning_message":{"type":"string"}}}}}}},"/iserver/account/{accountId}/alerts":{"get":{"summary":"Get a list of available alerts","description":"The response will contain both active and inactive alerts, but it won\'t have MTA alert","tags":["Alert"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"}],"responses":{"200":{"description":"returns an array of objects","schema":{"type":"array","items":{"type":"object","properties":{"order_id":{"type":"integer"},"account":{"type":"string","description":"account id"},"alert_name":{"type":"string"},"alert_active":{"type":"integer","description":"Value can only be 0 or 1, 1 means active"},"order_time":{"type":"string","description":"format, YYYYMMDD-HH:mm:ss, the time when you created the alert\\n"},"alert_triggered":{"type":"boolean","description":"whether the alert has been triggered or not"},"alert_repeatable":{"type":"integer","description":"whether the alert can be repeatable or not, value can be 1 or 0. 1 means true"}}}}}}}},"/iserver/account/{accountId}/alert/activate":{"post":{"summary":"Activate or deactivate an alert","description":"Please note, if alertId is 0, it will activate/deactivate all alerts","tags":["Alert"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"in":"body","name":"body","description":"order request info","required":true,"schema":{"type":"object","properties":{"alertId":{"description":"alert id(order id)","type":"integer"},"alertActive":{"description":"1 to activate, 0 to deactivate","type":"integer"}}}}],"responses":{"200":{"description":"returns an object","schema":{"type":"object","properties":{"request_id":{"type":"integer"},"order_id":{"type":"integer"},"success":{"type":"boolean"},"text":{"type":"string"},"order_status":{"type":"string"},"failure_list":{"type":"string"}}}}}}},"/iserver/account/{accountId}/alert/{alertId}":{"delete":{"summary":"Delete an alert","description":"Please be careful, if alertId is 0, it will delete all alerts","tags":["Alert"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"name":"alertId","in":"path","required":true,"type":"string","description":"alert id"}],"responses":{"200":{"description":"returns an object","schema":{"type":"object","properties":{"request_id":{"type":"integer"},"order_id":{"type":"integer"},"success":{"type":"boolean"},"text":{"type":"string"},"order_status":{"type":"string"},"failure_list":{"type":"string"}}}}}}},"/iserver/account/alert/{id}":{"get":{"summary":"Get details of an alert","description":"Use the endpoint /iserver/account/{accountId}/alerts to receive the alert id.\\nThe order_id in the response is the alert id.\\n","tags":["Alert"],"parameters":[{"name":"id","in":"path","required":true,"type":"string","description":"alert id"}],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/alert-response"}}}}},"/iserver/account/mta":{"get":{"summary":"Get MTA alert","description":"Each login user only has one mobile trading assistant (MTA) alert with it\'s own unique tool id.\\nThe tool id cannot be changed. When modified a new order Id is generated. MTA alerts can not\\nbe created or deleted. If you call delete /iserver/account/{accountId}/alert/{alertId},\\nit will reset MTA to default. See [here](https://www.interactivebrokers.com/en/software/mobileiphonemobile/mobileiphone.htm#monitor/trading-assistant.htm) for more information on MTA alerts.\\n","tags":["Alert"],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/alert-response"}}}}},"/iserver/account/orders":{"get":{"summary":"Live Orders","description":"The endpoint is meant to be used in polling mode, e.g. requesting every x seconds.\\nThe response will contain two objects, one is notification, the other is orders.\\nOrders is the list of live orders (cancelled, filled, submitted).\\nNotifications contains information about execute orders as they happen, see status field.\\nTo receive streaming live orders the endpoint /ws can be used. Refer to [Streaming WebSocket Data](./websockets) for details.\\n","tags":["Order"],"parameters":[{"in":"query","name":"Filters","description":"list of filters separated by comma","required":false,"type":"string"}],"responses":{"200":{"description":"An object contains two arrays","schema":{"type":"object","properties":{"filters":{"type":"array","items":{"type":"string","enum":["inactive","pending_submit","pre_submitted","submitted","filled","pending_cancel","cancelled","warn_state","sort_by_time"],"description":"Only return list of orders for filter value. More than one filter can be specified comma separated.\\n  * inactive: Order was received by the system but is no longer active because it was rejected or cancelled.\\n  * pending_submit: Order has been transmitted but have not received confirmation yet that order accepted by destination exchange or venue.\\n  * pre_submitted: Simulated order transmitted but the order has yet to be elected. Order is held by IB system until election criteria are met.\\n  * submitted: Order has been accepted by the system.\\n  * filled: Order has been completely filled.\\n  * pending_cancel: Sent an order cancellation request but have not yet received confirmation order cancelled by destination exchange or venue.\\n  * cancelled: The balance of your order has been confirmed canceled by the system.\\n  * warn_state: Order has a specific warning message such as for basket orders.\\n  * sort_by_time: There is an initial sort by order state performed so active orders are always above inactive and filled then orders are sorted chronologically.\\n"}},"orders":{"type":"array","items":{"type":"object","properties":{"acct":{"type":"string","description":"Account number"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange"},"conid":{"type":"number","description":"Contract identifier"},"orderId":{"type":"string","description":"Order identifier"},"cashCcy":{"type":"string","description":"Cash currency"},"sizeAndFills":{"type":"string","description":"Quantity outstanding and total quantity concatenated with forward slash separator"},"orderDesc":{"type":"string","description":"Order description"},"description1":{"type":"string","description":"Formatted ticker description"},"ticker":{"type":"string","description":"Underlying symbol"},"secType":{"type":"string","description":"Asset class"},"listingExchange":{"type":"string","description":"Listing Exchange"},"remainingQuantity":{"type":"number","description":"Quantity remaining"},"filledQuantity":{"type":"number","description":"Quantity filled"},"companyName":{"type":"string","description":"Company Name"},"status":{"type":"string","description":"Status of the order"},"origOrderType":{"type":"string","description":"Original order type"},"supportsTaxOpt":{"type":"number","description":"Supports Tax Optimization with 0 for no and 1 for yes"},"lastExecutionTime":{"type":"number","description":"Last status update in format YYMMDDhhmms based in GMT"},"lastExecutionTime_r":{"type":"number","description":"Last status update unix time in ms"},"orderType":{"type":"string","description":"Order type"},"order_ref":{"type":"string","description":"Order reference"},"side":{"type":"string","enum":["BUY","SELL","ASSN","EXER"],"description":"The side of the market of the order.\\n * BUY: Buy contract near posted ask price\\n * SELL: Sell contract near posted bid price\\n * ASSN: Option Assignment, if BUYSELL=BUY and OptionType=PUT or BUYSELL=SELL and OptionType=CALL\\n * EXER: Option Exercise, if BUYSELL=SELL and OptionType=PUT or BUYSELL=BUY and OptionType=CALL\\n"},"timeInForce":{"type":"string","description":"Time in force"},"price":{"type":"number","description":"Price of order"},"bgColor":{"type":"string","description":"Background color in hex format"},"fgColor":{"type":"string","description":"Foreground color in hex format"}}}},"snapshot":{"type":"boolean","description":"If live order update is a snapshot"}}}}}}},"/iserver/account/{accountId}/orders":{"post":{"summary":"Place Orders","description":"When connected to an IServer Brokerage Session, this endpoint will allow you to submit orders. \\nCP WEB API supports various advanced orderTypes, for additional details and examples refer to [IBKR Quant Blog](https://www.tradersinsight.news/category/ibkr-quant-news/programming_languages/rest-development/).\\n  * Bracket - Attach additional opposite-side order(s) by using a single **cOID** sent with the parent and set the same value for **parentId** in each child order(s).\\n  * Cash Quantity -  Send orders using monetary value by specifying **cashQty** instead of quantity, e.g. cashQty: 200. The endpoint /iserver/contract/rules returns list of valid orderTypes in cqtTypes.\\n  * Currency Conversion - Convert cash from one currency to another by including **isCcyConv** = **true**. To specify the cash quantity use **fxQTY** instead of quantity, e.g. fxQTY: 100.\\n  * IB Algos - Attached user-defined settings to your trades by using any of IBKR\'s Algo Orders. Use the endpoint /iserver/contract/{conid}/algos to identify the available strategies for a contract.\\n  * One-Cancels-All (OCA) - Group multiple unrelated orders by passing order request info in an array and including **isSingleGroup = true** for each order. All orders will be assigned the same oca_group_id.\\n","tags":["Order"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"in":"body","name":"body","description":"order request info","required":true,"schema":{"type":"object","properties":{"orders":{"type":"array","description":"Notes for bracket orders: 1. Children orders will not have its own \\"cOID\\", so please donot pass \\"cOID\\"\\nparameter in child order.Instead, they will have a \\"parentId\\" which must be equal to \\"cOID\\" of parent.\\n2. When you cancel a parent order, it will cancel all bracket orders, when you cancel one child order,\\nit will also cancel its sibling order.\\n","items":{"$ref":"#/definitions/order-request"}}}}}],"responses":{"200":{"description":"returns an array","schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"message":{"type":"array","description":"Please note here, if the message is a question, you have to reply to question in order to submit\\nthe order successfully. See more in the \\"/iserver/reply/{replyid}\\" endpoint.\\n","items":{"type":"string"}}}}}}}}},"/iserver/account/orders/{faGroup}":{"post":{"summary":"Place Orders for FA","description":"Financial Advisors can use this endpoint to place an order for a specified group. To place an order for a specified account use the endpoint /iserver/account/{accountId}/order.\\nMore information about groups can be found in the [TWS Users\' Guide:](https://guides.interactivebrokers.com/twsguide/twsguide.htm#usersguidebook/financialadvisors/create_an_account_group_for_share_allocation.htm).\\n","tags":["Order"],"parameters":[{"name":"faGroup","in":"path","required":true,"type":"string","description":"financial advisor group"},{"in":"body","name":"body","description":"order request info","required":true,"schema":{"$ref":"#/definitions/order-request"}}],"responses":{"200":{"description":"returns an array","schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"message":{"type":"array","description":"Please note here, if the message is a question, you have to reply to question in order to submit\\nthe order successfully. See more in the \\"/iserver/reply/{replyid}\\" endpoint.\\n","items":{"type":"string"}}}}}}}}},"/iserver/reply/{replyid}":{"post":{"summary":"Place Order Reply","description":"Reply to questions when placing orders and submit orders","tags":["Order"],"parameters":[{"name":"replyid","in":"path","required":true,"type":"string","description":"Please use the \\"id\\" from the response of \\"Place Order\\" endpoint"},{"in":"body","name":"body","description":"Answer to question","required":true,"schema":{"type":"object","properties":{"confirmed":{"description":"answer to question, true means yes, false means no","type":"boolean"}}}}],"responses":{"200":{"description":"Order is submitted successfully, returns an array contains one object","schema":{"type":"array","items":{"type":"object","properties":{"order_id":{"type":"string"},"order_status":{"type":"string"},"local_order_id":{"type":"string"}}}}},"400":{"description":"When you send \\"confirmed-false\\" in the request, you will receive this","schema":{"type":"object","properties":{"error":{"description":"for example-order not confirmed","type":"string"},"statusCode":{"type":"integer"}}}}}}},"/iserver/account/{accountId}/orders/whatif":{"post":{"summary":"Preview Orders","description":"This endpoint allows you to preview order without actually submitting the order and you can get\\ncommission information in the response. Also supports bracket orders.\\n","tags":["Order"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id"},{"in":"body","name":"body","description":"order info","required":true,"schema":{"type":"object","properties":{"orders":{"type":"array","description":"Notes for bracket orders: 1. Children orders will not have its own \\"cOID\\", so please donot pass \\"cOID\\"\\nparameter in child order.Instead, they will have a \\"parentId\\" which must be equal to \\"cOID\\" of parent.\\n2. When you cancel a parent order, it will cancel all bracket orders, when you cancel one child order,\\nit will also cancel its sibling order.\\n","items":{"$ref":"#/definitions/order-request"}}}}}],"responses":{"200":{"description":"returns an object","schema":{"type":"object","properties":{"amount":{"type":"object","properties":{"amount":{"type":"string","description":"for example 23,000 USD"},"commission":{"type":"string","description":"for example 1.1 ... 1.2 USD"},"total":{"type":"string"}}},"equity":{"type":"object","properties":{"current":{"type":"string"},"change":{"type":"string"},"after":{"type":"string"}}},"initial":{"type":"object","properties":{"current":{"type":"string"},"change":{"type":"string"},"after":{"type":"string"}}},"maintenance":{"type":"object","properties":{"current":{"type":"string"},"change":{"type":"string"},"after":{"type":"string"}}},"warn":{"type":"string"},"error":{"type":"string"}}}}}}},"/iserver/account/order/status/{orderId}":{"get":{"summary":"Order Status","tags":["Order"],"parameters":[{"name":"orderId","in":"path","description":"Customer order id, use /iservers/account/orders endpoint to query orderId.","required":true,"type":"string"}],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/order-status"}}}}},"/iserver/account/{accountId}/order/{orderId}":{"post":{"summary":"Modify Order","description":"Modifies an open order. Must call /iserver/accounts endpoint prior to modifying an order. Use /iservers/account/orders endpoint to review open-order(s).","tags":["Order"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id, or fa group if modifying a group order"},{"in":"path","name":"orderId","description":"Customer order id, use /iservers/account/orders endpoint to query orderId.","required":true,"type":"string"},{"in":"body","name":"body","description":"modify-order request","required":true,"schema":{"$ref":"#/definitions/modify-order"}}],"responses":{"200":{"description":"returns an array","schema":{"type":"array","items":{"type":"object","properties":{"order_id":{"type":"string"},"local_order_id":{"type":"string"},"order_status":{"type":"string"}}}}}}},"delete":{"summary":"Cancel Order","description":"Cancels an open order. Must call /iserver/accounts endpoint prior to cancelling an order. Use /iservers/account/orders endpoint to review open-order(s) and get latest order status.","tags":["Order"],"parameters":[{"name":"accountId","in":"path","required":true,"type":"string","description":"account id, or fa group if deleting a group order"},{"in":"path","name":"orderId","description":"Customer order id, use /iservers/account/orders endpoint to query orderId.","required":true,"type":"string"}],"responses":{"200":{"description":"returns an object with order id, message, conid and account id","schema":{"type":"object","properties":{"order_id":{"type":"string"},"msg":{"type":"string"},"conid":{"type":"integer"},"account":{"type":"string"}}}}}}},"/iserver/marketdata/snapshot":{"get":{"summary":"Market Data","description":"Get Market Data for the given conid(s). The endpoint will return by default bid, ask, last, change, change pct, close, listing exchange.\\nSee response fields for a list of available fields that can be request via fields argument.\\nThe endpoint /iserver/accounts must be called prior to /iserver/marketdata/snapshot.\\nFor derivative contracts the endpoint /iserver/secdef/search must be called first.\\nFirst /snapshot endpoint call for given conid will initiate the market data request. \\nTo receive all available fields the /snapshot endpoint will need to be called several times.\\nTo receive streaming market data the endpoint /ws can be used. Refer to [Streaming WebSocket Data](./websockets) for details.\\n","tags":["Market Data"],"parameters":[{"in":"query","name":"conids","description":"list of conids separated by comma","required":true,"type":"string"},{"in":"query","name":"since","description":"time period since which updates are required. uses epoch time with milliseconds.","required":true,"type":"integer"},{"in":"query","name":"fields","description":"list of fields separated by comma","required":true,"type":"string"}],"responses":{"200":{"description":"Returns an array of objects","schema":{"type":"array","items":{"type":"object","properties":{"31":{"type":"string","description":"Last Price - The last price at which the contract traded. May contain one of the following prefixes:\\n  * C - Previous day\'s closing price.\\n  * H - Trading has halted.\\n"},"55":{"type":"string","description":"Symbol"},"58":{"type":"string","description":"Text"},"70":{"type":"string","description":"High - Current day high price"},"71":{"type":"string","description":"Low - Current day low price"},"73":{"type":"string","description":"Market Value - The current market value of  your position in the security. Market Value is calculated with real time market data (even when not subscribed to market data)."},"74":{"type":"string","description":"Avg Price - The average price of the position."},"75":{"description":"Unrealized PnL - Unrealized profit or loss. Unrealized PnL is calculated with real time market data (even when not subscribed to market data).","type":"string"},"76":{"description":"Formatted position","type":"string"},"77":{"description":"Formatted Unrealized PnL","type":"string"},"78":{"description":"Daily PnL - Your profit or loss of the day since prior close. Daily PnL is calculated with real time market data (even when not subscribed to market data).","type":"string"},"79":{"description":"Realized PnL - Realized profit or loss. Realized PnL is calculated with real time market data (even when not subscribed to market data).","type":"string"},"80":{"description":"Unrealized PnL % - Unrealized profit or loss expressed in percentage.","type":"string"},"82":{"type":"string","description":"Change - The difference between the last price and the close on the previous trading day"},"83":{"type":"string","description":"Change % - The difference between the last price and the close on the previous trading day in percentage."},"84":{"type":"string","description":"Bid Price - The highest-priced bid on the contract."},"85":{"type":"string","description":"Ask Size - The number of contracts or shares offered at the ask price. For US stocks, the number displayed is divided by 100."},"86":{"type":"string","description":"Ask Price - The lowest-priced offer on the contract."},"87":{"type":"string","description":"Volume - Volume for the day, formatted with \'K\' for thousands or \'M\' for millions. For higher precision volume refer to field 7762."},"88":{"type":"string","description":"Bid Size - The number of contracts or shares bid for at the bid price. For US stocks, the number displayed is divided by 100."},"6004":{"type":"string","description":"Exchange"},"6008":{"type":"integer","description":"Conid - Contract identifier from IBKR\'s database."},"6070":{"type":"string","description":"SecType - The asset class of the instrument."},"6072":{"type":"string","description":"Months"},"6073":{"type":"string","description":"Regular Expiry"},"6119":{"type":"string","description":"Marker for market data delivery method (similar to request id)"},"6457":{"type":"integer","description":"Underlying Conid. Use /trsrv/secdef to get more information about the security"},"6508":{"type":"string","description":"Service Params."},"6509":{"type":"string","description":"Market Data Availability. The field may contain three chars. First char defines: R = RealTime, D = Delayed,\\nZ = Frozen, Y = Frozen Delayed, N = Not Subscribed. Second char defines: P = Snapshot, p = Consolidated.\\nThird char defines: B = Book\\n  * RealTime - Data is relayed back in real time without delay, market data subscription(s) are required.\\n  * Delayed - Data is relayed back 15-20 min delayed. \\n  * Frozen - Last recorded data at market close, relayed back in real time.\\n  * Frozen Delayed - Last recorded data at market close, relayed back delayed.\\n  * Not Subscribed - User does not have the required market data subscription(s) to relay back either real time or delayed data.\\n  * Snapshot - Snapshot request is available for contract.\\n  * Consolidated - Market data is aggregated across multiple exchanges or venues.\\n  * Book - Top of the book data is available for contract.\\n"},"7051":{"type":"string","description":"Company name"},"7057":{"type":"string","description":"Ask Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY\\n"},"7058":{"type":"string","description":"Last Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY\\n"},"7059":{"type":"string","description":"Last Size - The number of unites traded at the last price"},"7068":{"type":"string","description":"Bid Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY\\n"},"7084":{"type":"string","description":"Implied Vol./Hist. Vol % - The ratio of the implied volatility over the historical volatility, expressed as a percentage."},"7085":{"type":"string","description":"Put/Call Interest - Put option open interest/call option open interest for the trading day."},"7086":{"type":"string","description":"Put/Call Volume - Put option volume/call option volume for the trading day."},"7087":{"type":"string","description":"Hist. Vol. % - 30-day real-time historical volatility."},"7088":{"type":"string","description":"Hist. Vol. Close % - Shows the historical volatility based on previous close price."},"7089":{"type":"string","description":"Opt. Volume - Option Volume"},"7094":{"type":"string","description":"Conid + Exchange"},"7184":{"type":"string","description":"canBeTraded - If contract is a trade-able instrument. Returns 1(true) or 0(false)."},"7219":{"type":"string","description":"Contract Description"},"7220":{"type":"string","description":"Contract Description"},"7221":{"type":"string","description":"Listing Exchange"},"7280":{"type":"string","description":"Industry - Displays the type of industry under which the underlying company can be categorized."},"7281":{"type":"string","description":"Category - Displays a more detailed level of description within the industry under which the underlying company can be categorized."},"7282":{"type":"string","description":"Average Volume - The average daily trading volume over 90 days."},"7283":{"type":"string","description":"Option Implied Vol. % - A prediction of how volatile an underlying will be in the future.\\nAt the market volatility estimated for a maturity thirty calendar days forward of the current trading day, and based on option prices from two consecutive expiration months.\\nTo query the Implied Vol. % of a specific strike refer to field 7633.\\n"},"7284":{"type":"string","description":"Historic Volume (30d)"},"7285":{"type":"string","description":"Put/Call Ratio"},"7286":{"type":"string","description":"Dividend Amount - Displays the amount of the next dividend."},"7287":{"type":"string","description":"Dividend Yield % - This value is the toal of the expected dividend payments over the next twelve months per share divided by the Current Price and is expressed as a percentage.\\nFor derivatives, this displays the total of the expected dividend payments over the expiry date.\\n"},"7288":{"type":"string","description":"Ex-date of the dividend"},"7289":{"type":"string","description":"Market Cap"},"7290":{"type":"string","description":"P/E"},"7291":{"type":"string","description":"EPS"},"7292":{"type":"string","description":"Cost Basis - Your current position in this security multiplied by the average price and multiplier."},"7293":{"type":"string","description":"52 Week High - The highest price for the past 52 weeks."},"7294":{"type":"string","description":"52 Week Low - The lowest price for the past 52 weeks."},"7295":{"type":"string","description":"Open - Today\'s opening price."},"7296":{"type":"string","description":"Close - Today\'s closing price."},"7308":{"type":"string","description":"Delta - The ratio of the change in the price of the option to the corresponding change in the price of the underlying."},"7309":{"type":"string","description":"Gamma - The rate of change for the delta with respect to the underlying asset\'s price."},"7310":{"type":"string","description":"Theta - A measure of the rate of decline the value of an option due to the passage of time."},"7311":{"type":"string","description":"Vega - The amount that the price of an option changes compared to a 1% change in the volatility."},"7607":{"type":"string","description":"Opt. Volume Change % - Today\'s option volume as a percentage of the average option volume."},"7633":{"type":"string","description":"Implied Vol. % - The implied volatility for the specific strike of the option in percentage. To query the Option Implied Vol. % from the underlying refer to field 7283. \\n"},"7635":{"type":"string","description":"Mark - The mark price is, the ask price if ask is less than last price, the bid price if bid is more than the last price, otherwise it\'s equal to last price."},"7636":{"type":"string","description":"Shortable Shares - Number of shares available for shorting."},"7637":{"type":"string","description":"Fee Rate - Interest rate charged on borrowed shares."},"7638":{"type":"string","description":"Option Open Interest"},"7639":{"type":"string","description":"% of Mark Value - Displays the market value of the contract as a percentage of the total market value of the account.\\nMark Value is calculated with real time market data (even when not subscribed to market data).\\n"},"7644":{"type":"string","description":"Shortable - Describes the level of difficulty with which the security can be sold short."},"7655":{"type":"string","description":"Morningstar Rating - Displays Morningstar Rating provided value. Requires [Morningstar](https://www.interactivebrokers.com/en/index.php?f=14262) subscription."},"7671":{"type":"string","description":"Dividends - This value is the total of the expected dividend payments over the next twelve months per share."},"7672":{"type":"string","description":"Dividends TTM - This value is the total of the expected dividend payments over the last twelve months per share."},"7674":{"type":"string","description":"EMA(200) - Exponential moving average (N=200)."},"7675":{"type":"string","description":"EMA(100) - Exponential moving average (N=100)."},"7676":{"type":"string","description":"EMA(50) - Exponential moving average (N=50)."},"7677":{"type":"string","description":"EMA(20) - Exponential moving average (N=20)."},"7678":{"type":"string","description":"Price/EMA(200) - Price to Exponential moving average (N=200) ratio -1, displayed in percents."},"7679":{"type":"string","description":"Price/EMA(100) - Price to Exponential moving average (N=100) ratio -1, displayed in percents."},"7680":{"type":"string","description":"Price/EMA(50) - Price to Exponential moving average (N=50) ratio -1, displayed in percents."},"7681":{"type":"string","description":"Price/EMA(20) - Price to Exponential moving average (N=20) ratio -1, displayed in percents."},"7682":{"type":"string","description":"Change Since Open - The difference between the last price and the open price."},"7683":{"type":"string","description":"Upcoming Event - Shows the next major company event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7684":{"type":"string","description":"Upcoming Event Date - The date of the next major company event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7685":{"type":"string","description":"Upcoming Analyst Meeting - The date and time of the next scheduled analyst meeting. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7686":{"type":"string","description":"Upcoming Earnings - The date and time of the next scheduled earnings/earnings call event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7687":{"type":"string","description":"Upcoming Misc Event - The date and time of the next shareholder meeting, presentation or other event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7688":{"type":"string","description":"Recent Analyst Meeting - The date and time of the most recent analyst meeting. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7689":{"type":"string","description":"Recent Earnings - The date and time of the most recent earnings/earning call event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7690":{"type":"string","description":"Recent Misc Event - The date and time of the most recent shareholder meeting, presentation or other event. Requires [Wall Street Horizon](https://www.interactivebrokers.com/en/index.php?f=24674) subscription."},"7694":{"type":"string","description":"Probability of Max Return - Customer implied probability of maximum potential gain."},"7695":{"type":"string","description":"Break Even - Break even points"},"7696":{"type":"string","description":"SPX Delta - Beta Weighted Delta is calculated using the formula; Delta x dollar adjusted beta, where adjusted beta is adjusted by the ratio of the close price."},"7697":{"type":"string","description":"Futures Open Interest - Total number of outstanding futures contracts"},"7698":{"type":"string","description":"Last Yield - Implied yield of the bond if it is purchased at the current last price. Last yield is calculated using the Last price on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7699":{"type":"string","description":"Bid Yield - Implied yield of the bond if it is purchased at the current bid price. Bid yield is calculated using the Ask on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7700":{"type":"string","description":"Probability of Max Return - Customer implied probability of maximum potential gain."},"7702":{"type":"string","description":"Probability of Max Loss - Customer implied probability of maximum potential loss."},"7703":{"type":"string","description":"Profit Probability - Customer implied probability of any gain."},"7704":{"type":"string","description":"Organization Type"},"7705":{"type":"string","description":"Debt Class"},"7706":{"type":"string","description":"Ratings - Ratings issued for bond contract."},"7707":{"type":"string","description":"Bond State Code"},"7708":{"type":"string","description":"Bond Type"},"7714":{"type":"string","description":"Last Trading Date"},"7715":{"type":"string","description":"Issue Date"},"7718":{"type":"string","description":"Beta - Beta is against standard index."},"7720":{"type":"string","description":"Ask Yield - Implied yield of the bond if it is purchased at the current offer. Ask yield is calculated using the Bid on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7741":{"type":"string","description":"Prior Close - Yesterday\'s closing price"},"7762":{"type":"string","description":"Volume Long - High precision volume for the day. For formatted volume refer to field 87."},"7768":{"type":"string","description":"hasTradingPermissions - if user has trading permissions for specified contract. Returns 1(true) or 0(false)."},"7920":{"type":"string","description":"Daily PnL Raw - Your profit or loss of the day since prior close. Daily PnL is calculated with real-time market data (even when not subscribed to market data)."},"7921":{"type":"string","description":"Cost Basis Raw - Your current position in this security multiplied by the average price and and multiplier."},"server_id":{"type":"string"},"conid":{"type":"integer"},"_updated":{"type":"integer"},"87_raw (deprecated)":{"type":"string","description":"Raw Volume - Volume for the day, provided in long form without formatted with K/M. This field value is deprecated, for high precision volume refer to field 7762."}}}}},"400":{"description":"sent when accounts are not queried before sending this request","schema":{"type":"object","properties":{"error":{"type":"string"},"statusCode":{"type":"integer"}}}}}}},"/iserver/marketdata/{conid}/unsubscribe":{"get":{"summary":"Market Data Cancel (Single)","description":"Cancel market data for given conid. To cancel all market data request(s), see /iserver/marketdata/unsubscribeall.\\n","tags":["Market Data"],"parameters":[{"name":"conid","in":"path","required":true,"type":"string","description":"contract id"}],"responses":{"200":{"description":"confirms market data for conid is cancelled","schema":{"type":"object","properties":{"confirmed":{"description":"success means market data was cancelled.","type":"string"}}}},"500":{"description":"cancel failed"}}}},"/iserver/marketdata/unsubscribeall":{"get":{"summary":"Market Data Cancel (All)","description":"Cancel all market data request(s). To cancel market data for given conid, see /iserver/marketdata/{conid}/unsubscribe.\\n","tags":["Market Data"],"responses":{"200":{"description":"confirms market data is cancelled","schema":{"type":"object","properties":{"confirmed":{"description":"true means market data is cancelled, false means it is not.","type":"boolean"}}}}}}},"/iserver/marketdata/history":{"get":{"summary":"Market Data History","description":"Get historical market Data for given conid, length of data is controlled by \'period\' and \'bar\'.\\nFormatted as: min=minute, h=hour, d=day, w=week, m=month, y=year\\ne.g. period =1y with bar =1w returns 52 data points (Max of 1000 data points supported).\\n**Note**: There\'s a limit of 5 concurrent requests. Excessive requests will return a \'Too many requests\' status 429 response.\\n","tags":["Market Data"],"parameters":[{"in":"query","name":"conid","description":"contract id","required":true,"type":"string"},{"in":"query","name":"exchange","description":"Exchange of the conid (e.g. ISLAND, NYSE, etc.). Default value is empty which corresponds to primary exchange of the conid.","required":false,"type":"string"},{"in":"query","name":"period","description":"available time period-- {1-30}min, {1-8}h, {1-1000}d, {1-792}w, {1-182}m, {1-15}y","required":true,"type":"string"},{"in":"query","name":"bar","description":"possible value-- 1min, 2min, 3min, 5min, 10min, 15min, 30min, 1h, 2h, 3h, 4h, 8h, 1d, 1w, 1m","required":false,"type":"string"},{"in":"query","name":"outsideRth","description":"For contracts that support it, will determine if historical data includes outside of regular trading hours.","required":false,"type":"boolean"}],"responses":{"200":{"description":"Returns an object","schema":{"$ref":"#/definitions/history-data"}},"429":{"description":"Too many requests","schema":{"type":"object","properties":{"error":{"type":"string"}}}},"500":{"description":"System Error","schema":{"$ref":"#/definitions/system-error"}}}}},"/iserver/contract/{conid}/info":{"get":{"summary":"Contract Details","description":"Using the Contract Identifier get contract info. You can use this to prefill your order before you submit an order","tags":["Contract"],"parameters":[{"name":"conid","in":"path","required":true,"type":"string","description":"contract id"}],"responses":{"200":{"description":"returns an object","schema":{"$ref":"#/definitions/contract"}}}}},"/iserver/secdef/search":{"post":{"summary":"Search by Symbol or Name","description":"Search by underlying symbol or company name. Relays back what derivative contract(s) it has. This endpoint must be called before using /secdef/info.\\nIf company name is specified will only receive limited response: conid, companyName, companyHeader and symbol.\\n","tags":["Contract"],"parameters":[{"in":"body","name":"symbol","required":true,"description":"Symbol or Company Name to be searched","schema":{"type":"object","required":["symbol"],"properties":{"symbol":{"type":"string","description":"symbol or name to be searched"},"name":{"type":"boolean","description":"should be true if the search is to be performed by name. false by default."},"secType":{"type":"string","description":"If search is done by name, only the assets provided in this field will be returned. Currently, only STK is supported."}}}}],"responses":{"200":{"description":"returns an array of results","schema":{"type":"array","items":{"type":"object","properties":{"conid":{"type":"integer","description":"Contract Identifier"},"companyHeader":{"type":"string","description":"Company Name - Exchange"},"companyName":{"type":"string"},"symbol":{"type":"string","description":"Underlying symbol"},"description":{"type":"string","description":"Exchange"},"restricted":{"type":"string"},"fop":{"type":"string","description":"List of Future Option expirations in YYYMMDD format separated by semicolon"},"opt":{"type":"string","description":"List of Option expirations in YYYYMMDD format separated by semicolon"},"war":{"type":"string","description":"List of Warrant expirations in YYYYMMDD format separated by semicolon"},"sections":{"type":"array","items":{"type":"object","properties":{"secType":{"type":"string","description":"Asset Class"},"months":{"type":"string","description":"List of expiration month(s) and year(s) in MMMYY format separated by semicolon"},"symbol":{"type":"string","description":"Underlying symbol"},"exchange":{"type":"string","description":"Listing Exchange"},"legSecType":{"type":"string","description":"For combo\'s defines the asset class for each leg"}}}}}}}},"500":{"description":"error while processing the request","schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"/iserver/secdef/strikes":{"get":{"summary":"Search Strikes","description":"Query strikes for Options/Warrants. For the conid of the underlying contract, available contract months and exchanges use \\"/iserver/secdef/search\\"","tags":["Contract"],"parameters":[{"in":"query","name":"conid","description":"contract id of the underlying contract","required":true,"type":"string"},{"in":"query","name":"sectype","description":"OPT/WAR","required":true,"type":"string"},{"in":"query","name":"month","description":"contract month","required":true,"type":"string"},{"in":"query","name":"exchange","description":"optional, default is SMART","required":false,"type":"string"}],"responses":{"200":{"description":"returns an object contains call/put strike prices","schema":{"type":"object","properties":{"call":{"type":"array","items":{"type":"string","example":["5","10","20"]}},"put":{"type":"array","items":{"type":"string","example":["5","10","20"]}}}}},"500":{"description":"error while processing the request","schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"/iserver/secdef/info":{"get":{"summary":"Secdef Info","description":"Provides Contract Details of Futures, Options, Warrants, Cash and CFDs based on conid. To get the strike price for Options/Warrants use \\"/iserver/secdef/strikes\\" endpoint. Must call /secdef/search for the underlying contract first.","tags":["Contract"],"parameters":[{"in":"query","name":"conid","description":"underlying contract id","required":true,"type":"string"},{"in":"query","name":"sectype","description":"FUT/OPT/WAR/CASH/CFD","required":true,"type":"string"},{"in":"query","name":"month","description":"contract month, only required for FUT/OPT/WAR in the format MMMYY, example JAN00","required":false,"type":"string"},{"in":"query","name":"exchange","description":"optional, default is SMART","required":false,"type":"string"},{"in":"query","name":"strike","description":"optional, only required for OPT/WAR","required":false,"type":"number"},{"in":"query","name":"right","description":"C for call, P for put","required":false,"type":"string"}],"responses":{"200":{"description":"returns an array of objects","schema":{"items":{"$ref":"#/definitions/secdef-info"}}},"500":{"description":"error while processing the request","schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}},"/iserver/contract/{conid}/algos":{"get":{"summary":"IB Algo Params","description":"Returns supported IB Algos for contract. Must be called a second time to query the list of available parameters.","tags":["Contract"],"parameters":[{"in":"path","name":"conid","description":"IBKR contract identifier","required":true,"type":"string"},{"in":"query","name":"algos","description":"List of algo ids delimited by \\";\\" to filter by. Max of 8 algos ids can be specified.","required":false,"type":"string"},{"in":"query","name":"addDescription","description":"Whether or not to add algo descriptions to response. Set to 1 for yes, 0 for no.","required":false,"type":"string"},{"in":"query","name":"addParams","description":"Whether or not to show algo parameters.  Set to 1 for yes, 0 for no.","required":false,"type":"string"}],"responses":{"200":{"description":"returns an array of algos","schema":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"id":{"type":"string"},"parameters":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string","description":"The algo parameter"},"required":{"type":"boolean","description":"If true a value must be entered."},"name":{"type":"string","description":"Descriptive name of the parameter."},"valueClassName":{"type":"string","description":"Format of the parameter.","enum":["double","string","time","boolean"]},"minValue":{"type":"number","description":"Smallest value, only applies to parameters with valueClassName=Double."},"maxValue":{"type":"number","description":"Largest value, only applies to parameters with valueClassName=Double."},"defaultValue":{"type":"boolean","description":"User configured preset for this parameter."},"legalStrings":{"type":"string","description":"The list of choices","example":["ALL:Get Done","ALL:Aggressive","ALL:Neutral","ALL:Passive"]},"description":{"type":"string","description":"Detailed description of the parameter."},"guiRank":{"type":"number","description":"The order in UI, used when building dynamic UI so that more important parameters are presented first."},"priceMarketRule":{"type":"boolean","description":"If true, must specify parameter using market rule format. Only applies to parameters with valueClassName=Double."},"enabledConditions":{"type":"string","enum":["MKT:speedUp:=:no","LMT:strategyType:<>:empty","MKT:strategyType:=:Marketable"],"description":"The rules that UI should apply to algo parameters depending on chosen order type:\\n * MKT:speedUp:=:no - hide SpeedUp param when MKT is chosen for order type.\\n * LMT:strategyType:<>:empty - strategyType param cannot be empty when LMT is chosen for order type.\\n * MKT:strategyType:=:Marketable - set strategyType param to Marketable and disable (no other choice) when MKT is chosen for order type.\\n"}},"required":["id","valueClassName"]}}}}}}}}},"/iserver/contract/rules":{"post":{"summary":"Contract Rules","description":"Returns trading related rules for a specific contract and side. For both contract info and rules use the endpoint /iserver/contract/{conid}/info-and-rules.","tags":["Contract"],"parameters":[{"in":"body","name":"conid","required":true,"schema":{"type":"object","required":["conid","isBuy"],"properties":{"conid":{"type":"string","description":"IBKR contract identifier"},"isBuy":{"type":"boolean","description":"Side of the market rules apply too. Set to **true** for Buy Orders, set to **false** for Sell Orders"}}}}],"responses":{"200":{"description":"returns an array","schema":{"type":"object","properties":{"rules":{"type":"array","items":{"type":"object","properties":{"algoEligible":{"type":"boolean"},"canTradeAcctIds":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"List of Accounts that can be traded"}}}},"error":{"type":"string","description":"Returns a description on any errors with order presets"},"orderTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"list of available order types"}}}},"ibalgoTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support IB Algos"}}}},"fraqTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support fractional trades - NOTE: Fractional share orders cannot be placed using the IBKR API solutions"}}}},"cqtTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support cash quantity trades"}}}},"orderDefaults":{"type":"array","description":"If object returned will provide the defaults based on user settings","items":{"type":"object","properties":{"string":{"type":"array","description":"orderType","items":{"type":"string","properties":{"ORTH":{"type":"boolean","description":"Outside of Regular Trading Hours"},"SP":{"type":"string","description":"Stop Price value"},"LP":{"type":"string","description":"Limit Price value"},"PC":{"type":"string","description":"Price Cap value"},"TA":{"type":"string","description":"Trailing amount value"},"TU":{"type":"string","description":"Trailing unit"},"ROA":{"type":"string","description":"Releative offset amount"},"ROP":{"type":"string","description":"Relative offset percent"},"TT":{"type":"string","description":"Touch trigger price"},"UNP":{"type":"boolean","description":"Use Net Price for Bonds"}}}}}}},"orderTypesOutside":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support outside of regular trading hours"}}}},"defaultSize":{"type":"integer","description":"Default quantity"},"cashSize":{"type":"integer","description":"cash value"},"sizeIncrement":{"type":"integer","description":"increment quantity value"},"tifTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"Time in Force values, formatted with o for supporting Outside regular trading hours and a for Algo trading"}}}},"defaultTIF":{"type":"string","description":"Default time in force value"},"limitPrice":{"type":"number","description":"Limit price"},"stopprice":{"type":"number","description":"Stop price"},"orderOrigination":{"type":"number","description":"Order origin designation for US securities options and Options Clearing Corporation"},"preview":{"type":"boolean","description":"order preview required"},"displaySize":{"type":"number"},"fraqInt":{"type":"number","description":"decimal places for fractional order size - NOTE: Fractional share orders cannot be placed using the IBKR API solutions"},"cashCcy":{"type":"string","description":"Cash currency for the contract"},"cashQtyIncr":{"type":"number","description":"Increment value for cash quantity"},"priceMagnifier":{"type":"number","description":"Price Magnifier"},"negativeCapable":{"type":"boolean","description":"trading negative price support"},"increment":{"type":"number","description":"Price increment value"},"incrementDigits":{"type":"integer","description":"Number of digits for price increment"}}}}}}}}}},"/iserver/contract/{conid}/info-and-rules":{"get":{"summary":"Info and Rules","description":"Returns both contract info and rules from a single endpoint.\\nFor only contract rules, use the endpoint /iserver/contract/rules.\\nFor only contract info, use the endpoint /iserver/contract/{conid}/info. \\n","tags":["Contract"],"parameters":[{"in":"path","name":"conid","description":"IBKR contract identifier","required":true,"type":"string"},{"in":"query","name":"isBuy","description":"Side of the market rules apply too. Set to **true** for Buy Orders, set to **false** for Sell Orders","required":true,"type":"boolean"}],"responses":{"200":{"description":"returns an array","schema":{"type":"object","properties":{"cfi_code":{"type":"string","description":"Classification of Financial Instrument codes"},"symbol":{"type":"string","description":"Underlying symbol"},"cusip":{"type":"string"},"expiry_full":{"type":"number","description":"Expiration Date in the format YYYYMMDD"},"con_id":{"type":"number","description":"IBKRs contract identifier"},"maturity_date":{"type":"number","description":"Date on which the underlying transaction settles if the option is exercised"},"industry":{"type":"string","description":"Specific group of companies or businesses."},"instrument_type":{"type":"string","description":"Asset Class of the contract"},"trading_class":{"type":"string","description":"Designation of the contract"},"valid_exchanges":{"type":"string","description":"Comma separated list of exchanges or trading venues"},"allow_sell_long":{"type":"boolean","description":"Allowed to sell shares that you own"},"is_zero_commission_security":{"type":"boolean","description":"Supports zero commission trades"},"local_symbol":{"type":"string","description":"Contracts symbol from primary exchange. For options it is the OCC symbol."},"classifier":{"type":"string"},"currency":{"type":"string","description":"Currency contract trades in"},"text":{"type":"string","description":"Formatted contract parameters"},"underlying_con_id":{"type":"number","description":"IBKRs contract identifier for the underlying instrument"},"r_t_h":{"type":"boolean","description":"Provides trading outside of Regular Trading Hours"},"multiplier":{"type":"string","description":"numerical value of each point of price movement"},"strike":{"type":"string","description":"fixed price at which the owner of the option buys or sells the underlying"},"right":{"type":"string","description":"Put or Call of the option"},"underlying_issuer":{"type":"string","description":"Legal entity for underlying contract"},"contract_month":{"type":"string","description":"Month the contract must be satisfied by making or accepting delivery"},"company_name":{"type":"string","description":"Contracts company name"},"smart_available":{"type":"boolean","description":"Support IBKRs SMART routing"},"exchange":{"type":"string","description":"Primary Exchange, Routing or Trading Venue"},"rules":{"type":"array","items":{"type":"object","properties":{"algoEligible":{"type":"boolean","description":"Contract supports algo orders"},"canTradeAcctIds":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"List of Accounts that can be traded"}}}},"error":{"type":"string","description":"Returns a description on any errors with order presets"},"orderTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"list of available order types"}}}},"ibalgoTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support IB Algos"}}}},"fraqTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support fractional trades - NOTE: Fractional share orders cannot be placed using the IBKR API solutions"}}}},"cqtTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support cash quantity trades"}}}},"orderDefaults":{"type":"array","description":"If object returned will provide the defaults based on user settings","items":{"type":"object","properties":{"string":{"type":"array","description":"orderType","items":{"type":"string","properties":{"ORTH":{"type":"boolean","description":"Outside of Regular Trading Hours"},"SP":{"type":"string","description":"Stop Price value"},"LP":{"type":"string","description":"Limit Price value"},"PC":{"type":"string","description":"Price Cap value"},"TA":{"type":"string","description":"Trailing amount value"},"TU":{"type":"string","description":"Trailing unit"},"ROA":{"type":"string","description":"Releative offset amount"},"ROP":{"type":"string","description":"Relative offset percent"},"TT":{"type":"string","description":"Touch trigger price"},"UNP":{"type":"boolean","description":"Use Net Price for Bonds"}}}}}}},"orderTypesOutside":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"order types that support outside of regular trading hours"}}}},"defaultSize":{"type":"integer","description":"Default quantity"},"cashSize":{"type":"integer","description":"cash value"},"sizeIncrement":{"type":"integer","description":"increment quantity value"},"tifTypes":{"type":"array","items":{"type":"integer","properties":{"0":{"type":"string","description":"Time in Force values, formatted with o for supporting Outside regular trading hours and a for Algo trading"}}}},"defaultTIF":{"type":"string","description":"Default time in force value"},"limitPrice":{"type":"number","description":"Limit price"},"stopprice":{"type":"number","description":"Stop price"},"orderOrigination":{"type":"number","description":"Order origin designation for US securities options and Options Clearing Corporation"},"preview":{"type":"boolean","description":"order preview required"},"displaySize":{"type":"number"},"fraqInt":{"type":"number","description":"decimal places for fractional order size - NOTE: Fractional share orders cannot be placed using the IBKR API solutions"},"cashCcy":{"type":"string","description":"Cash currency for the contract"},"cashQtyIncr":{"type":"number","description":"Increment value for cash quantity"},"priceMagnifier":{"type":"number","description":"Price Magnifier"},"negativeCapable":{"type":"boolean","description":"trading negative price support"},"increment":{"type":"number","description":"Price increment value"},"incrementDigits":{"type":"integer","description":"Number of digits for price increment"}}}}}}}}}},"/iserver/scanner/params":{"get":{"summary":"Scanner Parameters","description":"Returns an object contains four lists contain all parameters for scanners","tags":["Scanner"],"responses":{"200":{"description":"An object contains lists","schema":{"type":"object","properties":{"scan_type_list":{"type":"array","items":{"type":"object","properties":{"display_name":{"type":"string"},"code":{"type":"string"},"instruments":{"type":"array","items":{"type":"string","description":"type of instrument"}}}}},"instrument_list":{"type":"array","items":{"type":"object","properties":{"display_name":{"type":"string"},"type":{"type":"string"},"filters":{"type":"array","items":{"type":"string","description":"code of filter"}}}}},"filter_list":{"type":"array","items":{"type":"object","properties":{"group":{"type":"string"},"display_name":{"type":"string"},"code":{"type":"string"},"type":{"type":"string"}}}},"location_tree":{"type":"array","items":{"type":"object","properties":{"display_name":{"type":"string"},"type":{"type":"string"},"locations":{"type":"array","items":{"type":"object","properties":{"display_name":{"type":"string"},"type":{"type":"string"}}}}}}}}}}}}},"/iserver/scanner/run":{"post":{"summary":"Scanner Run","description":"Searches for contracts according to the filters specified in scanner/params endpoint","tags":["Scanner"],"parameters":[{"in":"body","name":"body","description":"scanner-params request","required":true,"schema":{"$ref":"#/definitions/scanner-params"}}],"responses":{"200":{"description":"returns an array","schema":{"type":"array","items":{"type":"object","properties":{"server_id":{"type":"string"},"column_name":{"type":"string"},"symbol":{"type":"string","description":"Underlying symbol"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange"},"con_id":{"type":"number"},"available_chart_periods":{"type":"string","description":"List of available chart periods"},"company_name":{"type":"string","description":"Contracts company name"},"contract_description_1":{"type":"string","description":"Format contract name","example":"FB Stock (NASDAQ.NMS)"},"listing_exchange":{"type":"string"},"sec_type":{"type":"string"}}}}}}}},"/iserver/account/pnl/partitioned":{"get":{"summary":"PnL for the selected account","description":"Returns an object containing PnL for the selected account and its models (if any).\\nTo receive streaming PnL the endpoint /ws can be used. Refer to [Streaming WebSocket Data](./websockets) for details.\\n","tags":["PnL","Account"],"responses":{"200":{"description":"An object containing account and model(s) pnl","schema":{"type":"object","properties":{"acctId":{"type":"object"}}}}}}}},"definitions":{"notifications":{"type":"array","items":{"type":"object","description":"notification","properties":{"D":{"type":"string","description":"notification date"},"ID":{"type":"string","description":"unique way to reference this notification"},"FC":{"type":"string","description":"FYI code, we can use it to find whether the disclaimer is accepted or not in settings"},"MD":{"type":"string","description":"content of notification"},"MS":{"type":"string","description":"title of notification"},"R":{"type":"string","description":"0-unread, 1-read"}}}},"calendar_request":{"type":"object","properties":{"date":{"type":"object","properties":{"start":{"type":"string","description":"start date of a period. for example 20180808-0400"},"end":{"type":"string","description":"end date of a period. for example 20180808-0400"}}},"filters":{"type":"object","properties":{"recently_held":{"type":"string","description":"value can be \'true\' or \'false\'."},"corporate_earnings":{"type":"string","description":"value can be \'true\' or \'false\'."},"DivExDates":{"type":"string","description":"value can be \'true\' or \'false\'."},"ipo":{"type":"string","description":"value can be \'true\' or \'false\'."},"splits":{"type":"string","description":"value can be \'true\' or \'false\'."},"corporate_events":{"type":"string","description":"value can be \'true\' or \'false\'."},"economic_events":{"type":"string","description":"value can be \'true\' or \'false\'."},"option_show_monthly":{"type":"string","description":"value can be \'true\' or \'false\'."},"option_show_weekly":{"type":"string","description":"value can be \'true\' or \'false\'."},"country":{"type":"string","description":"default is \'All\'."},"limit":{"type":"string","description":"default is \'250\'."},"limit_region":{"type":"string","description":"default is \'50\'."}}}}},"events":{"type":"array","description":"events","items":{"type":"object","properties":{"index_date_type":{"type":"string"},"event_type":{"type":"string"},"data":{"type":"object","description":"will be different for different event types"},"conids":{"type":"array","items":{"type":"string","description":"conid in string"}},"index_date":{"type":"string","description":"for exmple 20180817T040000+0000"},"source":{"type":"string","description":"for example RSE"},"event_key":{"type":"string","description":"for example 11662135"},"tooltips":{"type":"object"},"status":{"type":"string"}}}},"wagers":{"type":"array","items":{"type":"object","description":"List of wagers","properties":{"conid":{"type":"number"},"curr":{"type":"string"},"desc":{"type":"string"},"part":{"type":"string"}}}},"inds":{"type":"array","items":{"type":"object","properties":{"conid":{"type":"number"}}}},"secdef":{"type":"array","items":{"type":"object","description":"security definition information.","properties":{"conid":{"type":"integer","description":"IBKR contract identifier."},"currency":{"type":"string","description":"Currency contract trades in."},"crossCurrency":{"type":"boolean","description":"Defines if a derivative contract has a different currency."},"time":{"type":"integer"},"chineseName":{"type":"string","description":"HTML encoded company description in Chinese."},"allExchanges":{"type":"string","description":"List of exchanges and venues contract trades."},"listingExchange":{"type":"string","description":"Main trading venue."},"name":{"type":"string","description":"Company Name."},"assetClass":{"type":"string","description":"Group of financial instruments which have similar financial characteristics and behave similar in the marketplace."},"expiry":{"type":"string","description":"Specific data contract expires."},"lastTradingDay":{"type":"string","description":"Final day derivative contract can be traded before delivery of the underlying asset or cash settlement."},"group":{"type":"string","description":"Potential characteristic of each product."},"putOrCall":{"type":"string","description":"Defines the right to buy or sell of the underlying security."},"sector":{"type":"string","description":"The category of the economy."},"sectorGroup":{"type":"string","description":"Stock Group contract belongs too."},"strike":{"type":"number","description":"Set price at which a derivative contract can be bought or sold."},"ticker":{"type":"string","description":"Contract symbol."},"undConid":{"type":"integer","description":"Underlying contract identifier."},"multiplier":{"type":"integer","description":"Multiplier for total premium paid or received for derivative contract."},"type":{"type":"string","description":"Stock type."},"undComp":{"type":"string","description":"Company name for underlying contract."},"undSym":{"type":"string","description":"IBKR Symbol for underlying contract."},"hasOptions":{"type":"boolean","description":"If contract has an option."},"fullName":{"type":"string","description":"Formatted company name with underlying symbol, expiration, strike, right."},"isUS":{"type":"boolean","description":"If contract is a US contract. Currently supported for stocks, options and warrants."},"incrementRules":{"type":"object","description":"Price increment value contract trades.","properties":{"lowerEdge":{"type":"number","description":"The minimum contract price on the market that supports the specified increment."},"increment":{"type":"number","description":"The minimum increment value for contract price."}}}}}},"futures":{"type":"array","items":{"type":"object","description":"future contract information","properties":{"symbol":{"type":"string"},"conid":{"type":"integer","description":"conid of the future contract"},"underlyingConid":{"type":"integer"},"expirationDate":{"type":"string"},"ltd":{"type":"string","description":"last trading day"}}}},"stocks":{"type":"array","description":"This is an array of object(s), there could be multiple results under same symbol\\n","items":{"type":"object","description":"future contract information","properties":{"name":{"type":"string","description":"company name"},"chineseName":{"type":"string","description":"company name in Chinese"},"assetClass":{"type":"string","example":"STK"},"contracts":{"type":"array","description":"array of contracts from different exchanges","items":{"type":"object","properties":{"conid":{"type":"integer","description":"conid of the stock contract"},"exchange":{"type":"string","example":"NYSE"}}}}}}},"history-result":{"type":"object","properties":{"bars":{"type":"object","properties":{"open":{"type":"number","description":"First price returned for bar value."},"startTime":{"type":"string","description":"Start Time in the format YYYYMMDD."},"startTimeVal":{"type":"integer","description":"Start Time Value - Formatted in unix time in ms."},"endTime":{"type":"string","description":"End Time in the format YYYYMMDD."},"endTimeVal":{"type":"integer","description":"End Time Value - Formatted in unix time in ms."},"points":{"type":"integer","description":"total number of data points."},"data":{"type":"array","items":{"type":"object","properties":{"t":{"type":"number","description":"Time - Formatted in unix time in ms."},"o":{"type":"number","description":"Open - First price returned for bar value."},"c":{"type":"number","description":"Close - Last price returned for bar value."},"h":{"type":"number","description":"High - High price returned for bar value."},"l":{"type":"number","description":"Low - Last price returned for bar value."},"v":{"type":"number","description":"Volume - Traded volume for bar value."}}}},"mktDataDelay":{"type":"integer","description":"If 0 then data is returned in real time. Otherwise will return the number of seconds history data is delayed."}}}}},"position-data":{"type":"object","properties":{"conid":{"type":"number","description":"Contract identifier from IBKR\'s database."},"position":{"type":"number","description":"Number of shares or quantity of the position."},"avgCost":{"type":"number","description":"Average cost of the position."}}},"order-data":{"type":"object","properties":{"clientOrderId":{"type":"string"},"execId":{"type":"string"},"execType":{"type":"string","enum":["-1 \\"Invalid\\"","0 \\"New\\"","1 \\"Partially Filled\\"","2 \\"Filled\\"","3 \\"Done for the Day\\"","4 \\"Canceled\\"","5 \\"Replaced\\"","6 \\"Pending Cancel\\"","7 \\"Stopped\\"","8 \\"Rejected\\"","9 \\"Suspended\\"","A \\"Pending New\\"","B \\"Calculated\\"","C \\"Expired\\"","D \\"Restated\\"","E \\"Pending Replace\\"","F \\"Trade\\"","G \\"Trade Correct\\"","H \\"Trade Cancel\\"","I \\"Order Status\\""]},"orderType":{"type":"string","enum":["1 \\"Market\\"","2 \\"Limit\\"","3 \\"Stop\\"","4 \\"Stop Limit\\"","5 \\"Market on Close\\"","6 \\"With or Without\\"","7 \\"Limit or Better\\"","8 \\"Limit With or Without\\"","9 \\"On Basis\\"","A \\"On Close\\"","B \\"Limit On Close\\"","C \\"Forex Market\\"","D \\"Previously Quoted\\"","E \\"Previously Indicated\\"","F \\"Forex Limit\\"","G \\"Forex Swap\\"","H \\"Forex Previously Quoted\\"","I \\"Funari\\"","K \\"Market To Limit\\"","P \\"Pegged\\""]},"orderStatus":{"type":"string","enum":["-1 \\"Invalid Order Status\\"","0 \\"New\\"","1 \\"Partially Filled\\"","2 \\"Filled\\"","3 \\"Done for the Day\\"","4 \\"Canceled\\"","5 \\"Replaced\\"","6 \\"Pending Cancel\\"","7 \\"Stopped\\"","8 \\"Rejected\\"","9 \\"Suspended\\"","A \\"Pending New\\"","B \\"Calculated\\"","C \\"Expired\\"","D \\"Restated\\"","E \\"Pending Replace\\""]},"symbol":{"type":"string","description":"Underlying symbol for contract"},"orderQty":{"type":"string","description":"Quantity of active order"},"price":{"type":"string","description":"Price of active order"},"lastShares":{"type":"string","description":"Quantity of the last partial fill"},"lastPrice":{"type":"string","description":"Price of the last partial fill"},"cumQty":{"type":"string","description":"Cumulative fill quantity"},"leavesQty":{"type":"string","description":"Remaining quantity to be filled"},"avgPrice":{"type":"string","description":"Average fill price"},"side":{"type":"string","enum":["1 \\"Buy\\"","2 \\"Sell\\"","3 \\"Buy Minus\\"","4 \\"Sell Plus\\"","5 \\"Sell Short\\"","6 \\"Sell Short Exempt\\""]},"orderId":{"type":"string","description":"Order identifier"},"account":{"type":"string","description":"Account number"},"secType":{"type":"string","enum":["CS \\"Stock\\"","CASH \\"Forex\\"","CFD \\"Contract for Difference\\"","FUT \\"Future\\"","OPT \\"Option\\""],"description":"Contracts asset class"},"txTime":{"type":"string","description":"Time of transaction in GMT, format YYYYMMDD-hh:m:ss"},"rcptTime":{"type":"string","description":"Time of receipt in GMT, format YYYYMMDD-hh:mm:ss"},"tif":{"type":"string","enum":["0 \\"Day\\"","1 \\"GTC\\"","2 \\"At the Opening\\""],"description":"Time in Force"},"conid":{"type":"string","description":"Contract identifier from IBKR\'s database."},"currency":{"type":"string","description":"Trading currency"},"exchange":{"type":"string","description":"Exchange or venue"},"listingExchange":{"type":"string","description":"Listing Exchange"},"text":{"type":"number","description":"error message"},"warnings":{"type":"object","properties":{"PRICECAP":{"type":"string"},"TIME":{"type":"string"}}},"commCurr":{"type":"string","description":"Commission currency"},"comms":{"type":"string","description":"Commissions"},"realizedPnl":{"type":"string","description":"Realized PnL"}}},"stats-data":{"type":"object","properties":{"Conid":{"type":"number"},"Exchange":{"type":"string"},"V":{"type":"number"},"T":{"type":"number"},"TT":{"type":"number"},"P":{"type":"string","description":"Object, payload depends on event type. See confluence page for IGEvntUpd."}}},"market-data":{"type":"object","properties":{"31":{"type":"string","description":"Last Price - The last price at which the contract traded. May contain one of the following prefixes:\\n  * C - Previous day\'s closing price.\\n  * H - Trading has halted.\\n"},"70":{"type":"number","description":"High - Current day high price"},"71":{"type":"number","description":"Low - Current day low price"},"82":{"type":"string","description":"Change - The difference between the last price and the close on the previous trading day"},"83":{"type":"number","description":"Change % - The difference between the last price and the close on the previous trading day in percentage."},"84":{"type":"string","description":"Bid Price - The highest-priced bid on the contract."},"85":{"type":"string","description":"Ask Size - The number of contracts or shares offered at the ask price. For US stocks, the number displayed is divided by 100."},"86":{"type":"string","description":"Ask Price - The lowest-priced offer on the contract."},"87":{"type":"string","description":"Volume - Volume for the day, formatted with \'K\' for thousands or \'M\' for millions. For higher precision volume refer to field 7762."},"88":{"type":"string","description":"Bid Size - The number of contracts or shares bid for at the bid price. For US stocks, the number displayed is divided by 100."},"6509":{"type":"string","description":"Market Data Availability. The field may contain three chars. First char defines: R = RealTime, D = Delayed,\\nZ = Frozen, Y = Frozen Delayed, N = Not Subscribed. Second char defines: P = Snapshot, p = Consolidated.\\nThird char defines: B = Book\\n  * RealTime - Data is relayed back in real time without delay, market data subscription(s) are required.\\n  * Delayed - Data is relayed back 15-20 min delayed.\\n  * Frozen - Last recorded data at market close, relayed back in real time.\\n  * Frozen Delayed - Last recorded data at market close, relayed back delayed.\\n  * Not Subscribed - User does not have the required market data subscription(s) to relay back either real time or delayed data.\\n  * Snapshot - Snapshot request is available for contract.\\n  * Consolidated - Market data is aggregated across multiple exchanges or venues.\\n  * Book - Top of the book data is available for contract.\\n"},"7057":{"type":"string","description":"Ask Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY"},"7058":{"type":"string","description":"Last Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY"},"7059":{"type":"number","description":"Last Size - The number of unites traded at the last price"},"7068":{"type":"string","description":"Bid Exch - Displays the exchange(s) offering the SMART price. A=AMEX, C=CBOE, I=ISE, X=PHLX, N=PSE, B=BOX, Q=NASDAQOM, Z=BATS, W=CBOE2, T=NASDAQBX, M=MIAX, H=GEMINI, E=EDGX, J=MERCURY"},"7195":{"type":"string","description":"IV Rank"},"7196":{"type":"string","description":"IV Rank"},"7197":{"type":"string","description":"IV Rank"},"7198":{"type":"string","description":"IV Percentile"},"7199":{"type":"string","description":"IV Percentile"},"7200":{"type":"string","description":"IV Percentile"},"7201":{"type":"string","description":"IV High Low"},"7202":{"type":"string","description":"IV High Low"},"7203":{"type":"string","description":"IV High Low"},"7204":{"type":"string","description":"IV High Low"},"7205":{"type":"string","description":"IV High Low"},"7206":{"type":"string","description":"IV High Low"},"7207":{"type":"string","description":"HV Rank"},"7208":{"type":"string","description":"HV Rank"},"7209":{"type":"string","description":"HV Rank"},"7210":{"type":"string","description":"HV Percentile"},"7211":{"type":"string","description":"HV Percentile"},"7212":{"type":"string","description":"HV Percentile"},"7245":{"type":"string","description":"HV High Low"},"7246":{"type":"string","description":"HV High Low"},"7247":{"type":"string","description":"HV High Low"},"7248":{"type":"string","description":"HV High Low"},"7249":{"type":"string","description":"HV High Low"},"7263":{"type":"string","description":"HV High Low"},"7264":{"type":"string","description":"ESG"},"7265":{"type":"string","description":"ESG"},"7266":{"type":"string","description":"ESG"},"7267":{"type":"string","description":"ESG"},"7268":{"type":"string","description":"ESG"},"7269":{"type":"string","description":"ESG"},"7271":{"type":"string","description":"ESG"},"7272":{"type":"string","description":"ESG"},"7273":{"type":"string","description":"ESG"},"7274":{"type":"string","description":"ESG"},"7275":{"type":"string","description":"ESG"},"7276":{"type":"string","description":"ESG"},"7277":{"type":"string","description":"ESG"},"7282":{"type":"string","description":"Average Volume - The average daily trading volume over 90 days."},"7283":{"type":"string","description":"Option Implied Vol. % - A prediction of how volatile an underlying will be in the future.\\nAt the market volatility estimated for a maturity thirty calendar days forward of the current trading day, and based on option prices from two consecutive expiration months.     \\n"},"7284":{"type":"string","description":"Historic Volume (30d)"},"7286":{"type":"number","description":"Dividend Amount - Displays the amount of the next dividend."},"7287":{"type":"string","description":"Dividend Yield % - This value is the toal of the expected dividend payments over the next twelve months per share divided by the Current Price and is expressed as a percentage.\\nFor derivatives, this displays the total of the expected dividend payments over the expiry date.\\n"},"7288":{"type":"string","description":"Ex-date of the dividend"},"7289":{"type":"string","description":"Market Cap"},"7290":{"type":"string","description":"P/E"},"7293":{"type":"string","description":"52 Week High - The highest price for the past 52 weeks."},"7294":{"type":"string","description":"52 Week Low - The lowest price for the past 52 weeks."},"7295":{"type":"number","description":"Open - Today\'s opening price."},"7296":{"type":"number","description":"Close - Today\'s closing price."},"7331":{"type":"string","description":"Reuters Fundamentals"},"7370":{"type":"string","description":"ESG"},"7371":{"type":"string","description":"ESG"},"7372":{"type":"string","description":"ESG"},"7635":{"type":"string","description":"Mark - The mark price is, the ask price if ask is less than last price, the bid price if bid is more than the last price, otherwise it\'s equal to last price"},"7636":{"type":"number","description":"shortable invetory"},"7637":{"type":"string","description":"Fee rebate rate"},"7644":{"type":"string","description":"Shortable - Describes the level of difficulty with which the security can be sold short."},"7674":{"type":"string","description":"EMA(200) - Exponential moving average (N=200)."},"7675":{"type":"string","description":"EMA(100) - Exponential moving average (N=100)."},"7676":{"type":"string","description":"EMA(50) - Exponential moving average (N=50)."},"7677":{"type":"string","description":"EMA(20) - Exponential moving average (N=20)."},"7681":{"type":"string","description":"Price/EMA(20) - Price to Exponential moving average (N=20) ratio -1, displayed in percents."},"7698":{"type":"string","description":"Last Yield - Implied yield of the bond if it is purchased at the current last price. Last yield is calculated using the Last price on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7699":{"type":"string","description":"Bid Yield - Implied yield of the bond if it is purchased at the current bid price. Bid yield is calculated using the Ask on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7718":{"type":"string","description":"Beta - Beta is against standard index."},"7720":{"type":"string","description":"Ask Yield - Implied yield of the bond if it is purchased at the current offer. Ask yield is calculated using the Bid on all possible call dates.\\nIt is assumed that prepayment occurs if the bond has call or put provisions and the issuer can offer a lower coupon rate based on current market rates.\\nThe yield to worst will be the lowest of the yield to maturity or yield to call (if the bond has prepayment provisions). Yield to worse may be the same as yield to maturity but never higher.\\n"},"7743":{"type":"string","description":"Reuters Fundamentals"},"7761":{"type":"string","description":"ESG"},"7992":{"type":"string","description":"26 Week High - The highest price for the past 26 weeks."},"7993":{"type":"string","description":"26 Week Low - The lowest price for the past 26 weeks."},"7994":{"type":"string","description":"13 Week High - The highest price for the past 13 weeks."},"7995":{"type":"string","description":"13 Week Low - The lowest price for the past 13 weeks."},"conid":{"type":"integer","description":"IBKR Contract identifier"},"minTick":{"type":"number","description":"minimum price increment"},"BboExchange":{"type":"string","description":"Color for Best Bid/Offer Exchange in hex code"},"HasDelayed":{"type":"boolean","description":"If market data field values return delayed"},"sizeMinTick":{"type":"integer","description":"minimum size increment"},"BestEligible":{"type":"integer"},"BestBidExch":{"type":"integer"},"BestAskExch":{"type":"integer"},"PreOpenBid":{"type":"integer"},"LastAttribs":{"type":"integer"},"TimestampBase":{"type":"integer","description":"Base time stamp for last update in format YYYYMMDD"},"TimestampDelta":{"type":"integer"},"LastExch":{"type":"integer"},"CloseAttribs":{"type":"integer"}}},"scanner-params":{"type":"object","properties":{"instrument":{"type":"string","description":"Contains an instrument, which to scan for. For example - \\"STK\\""},"type":{"type":"string","description":"Specify the scan type to use. For example - \\"MOST_ACTIVE_USD\\""},"location":{"type":"string","description":"Contains location code, where to look for specified instrument. For example - \\"STK.US.MAJOR\\""},"filter":{"type":"array","description":"Contains list of filters supported for the scanner","items":{"type":"object","description":"Contains list of supported filters. The code of the filter along with user-specified value has to be sued to apply a filter to scanner query. For example - [{\\"code\\":\\"usdVolume\\",\\"value\\":500}]. You can also specify multiple filters - \\"filter\\":[{\\"code\\":\\"value\\"},{\\"code\\":\\"value\\"},{\\"code\\":\\"value\\"}]","properties":{"code":{"type":"string"},"value":{"type":"number"}}}}}},"scanner-result":{"type":"object","properties":{"total":{"type":"integer"},"size":{"type":"integer"},"offset":{"type":"integer"},"scanTime":{"type":"string"},"id":{"type":"number"},"position":{"type":"string"},"Contracts":{"type":"object","description":"Contains list of contracts matching the scanner query","properties":{"Contract":{"type":"array","items":{"type":"object","properties":{"inScanTime":{"type":"string"},"distance":{"type":"integer"},"contractID":{"type":"integer"}}}}}}}},"performance":{"type":"object","properties":{"id":{"type":"string"},"cps":{"type":"object","description":"Cumulative performance data","properties":{"dates":{"type":"array","description":"array of dates, the length should be same as the length of returns inside data.","items":{"type":"string","description":"format-- yyyyMMdd"}},"freq":{"type":"string","description":"D means Day"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"idType":{"type":"string","description":"for example-- acctid"},"start":{"type":"string","description":"start date-- yyyyMMdd"},"baseCurrency":{"type":"string"},"returns":{"type":"array","description":"each value stands for price change percent of corresponding date in dates array","items":{"type":"number"}},"end":{"type":"string","description":"end date-- yyyyMMdd"}}}}}},"tpps":{"type":"object","description":"Time period performance data","properties":{"dates":{"type":"array","description":"array of dates, the length should be same as the length of returns inside data.","items":{"type":"string","description":"format-- yyyyMMdd"}},"freq":{"type":"string","description":"M means Month"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"idType":{"type":"string","description":"for example-- acctid"},"start":{"type":"string","description":"start date-- yyyyMMdd"},"baseCurrency":{"type":"string"},"returns":{"type":"array","description":"each value stands for price change percent of corresponding date in dates array","items":{"type":"number"}},"end":{"type":"string","description":"end date-- yyyyMMdd"}}}}}},"nav":{"type":"object","description":"Net asset value data for the account or consolidated accounts. NAV data is not applicable to benchmarks.","properties":{"dates":{"type":"array","description":"array of dates, the length should be same as the length of returns inside data.","items":{"type":"string","description":"format--yyyyMMdd"}},"freq":{"type":"string","description":"D means Day"},"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"idType":{"type":"string","description":"for example-- acctid"},"start":{"type":"string","description":"start date-- yyyyMMdd"},"baseCurrency":{"type":"string"},"returns":{"type":"array","description":"each value stands for price change percent of corresponding date in dates array","items":{"type":"number"}},"end":{"type":"string","description":"end date-- yyyyMMdd"}}}}}},"pm":{"type":"string"},"included":{"type":"array","items":{"type":"string","description":"account id"}},"currencyType":{"type":"string"},"rc":{"type":"integer"}}},"summary":{"type":"object","properties":{"amount":{"type":"number"},"currency":{"type":"string"},"isNull":{"type":"boolean"},"timestamp":{"type":"integer"},"value":{"type":"string"}}},"transactions":{"type":"object","description":"account transactions","properties":{"id":{"type":"string","description":"will always be getTransactions"},"currency":{"type":"string","description":"same as request"},"includesRealTime":{"type":"boolean","description":"Indicates whether current day and realtime data is included in the result"},"from":{"type":"number","description":"Period start date. Epoch time, GMT"},"to":{"type":"number","description":"Period end date. Epoch time, GMT"},"transactions":{"description":"Sorted by date descending","type":"array","items":{"type":"object","properties":{"acctid":{"type":"string"},"conid":{"type":"number"},"cur":{"type":"string","description":"currency code"},"fxRate":{"type":"number","description":"Conversion rate from asset currency to response currency"},"desc":{"type":"string","description":"Transaction description"},"date":{"type":"string","description":"Date of transaction.  Epoch time, GMT"},"type":{"type":"string","description":"Transaction Type Name: Examples: \\"Sell\\", \\"Buy\\", \\"Corporate Action\\",\\n\\"Dividend Payment\\", \\"Transfer\\", \\"Payment in Lieu\\"\\nDividends and Transfers do not have price and quantity in response\\n"},"qty":{"type":"number","description":"Not applicable for all transaction types"},"pr":{"type":"number","description":"In asset currency. Not be applicable for all transaction types."},"amt":{"type":"number","description":"Raw value, no formatting. Net transaction amount (may include commission, tax).\\nIn asset currency"}}}}}},"position":{"type":"array","items":{"type":"object","description":"Account Information","properties":{"acctId":{"type":"string"},"conid":{"type":"integer"},"contractDesc":{"type":"string"},"assetClass":{"type":"string"},"position":{"type":"number"},"mktPrice":{"type":"number"},"mktValue":{"type":"number"},"currency":{"type":"string"},"avgCost":{"type":"number"},"avgPrice":{"type":"number"},"realizedPnl":{"type":"number"},"unrealizedPnl":{"type":"number"},"exchs":{"type":"string"},"expiry":{"type":"string"},"putOrCall":{"type":"string"},"multiplier":{"type":"number"},"strike":{"type":"number"},"exerciseStyle":{"type":"string"},"undConid":{"type":"integer"},"conExchMap":{"type":"array","items":{"type":"string"}},"baseMktValue":{"type":"number"},"baseMktPrice":{"type":"number"},"baseAvgCost":{"type":"number"},"baseAvgPrice":{"type":"number"},"baseRealizedPnl":{"type":"number"},"baseUnrealizedPnl":{"type":"number"},"name":{"type":"string"},"lastTradingDay":{"type":"string"},"group":{"type":"string"},"sector":{"type":"string"},"sectorGroup":{"type":"string"},"ticker":{"type":"string"},"undComp":{"type":"string"},"undSym":{"type":"string"},"fullName":{"type":"string"},"pageSize":{"type":"integer"},"model":{"type":"string"}}}},"allocation":{"type":"array","items":{"type":"object","description":"allocation","properties":{"assetClass":{"type":"object","description":"portfolio allocation by asset class","properties":{"long":{"type":"object","description":"long positions allocation","properties":{"STK":{"type":"number"},"OPT":{"type":"number"},"FUT":{"type":"number"},"WAR":{"type":"number"},"BOND":{"type":"number"},"CASH":{"type":"number"}}},"short":{"type":"object","description":"short positions allocation","properties":{"STK":{"type":"number"},"OPT":{"type":"number"},"FUT":{"type":"number"},"WAR":{"type":"number"},"BOND":{"type":"number"},"CASH":{"type":"number"}}}}},"sector":{"type":"object","description":"portfolio allocation by sector","properties":{"long":{"type":"object","description":"long positions allocation","properties":{"Others":{"type":"number"},"Utilities":{"type":"number"},"Energy":{"type":"number"},"Technology":{"type":"number"},"Financial":{"type":"number"},"Communications":{"type":"number"}}},"short":{"type":"object","description":"short positions allocation","properties":{"Industrial":{"type":"number"},"Consumer":{"type":"number"},"Diversified":{"type":"number"}}}}},"group":{"type":"object","description":"portfolio allocation by group","properties":{"long":{"type":"object","description":"long positions allocation","properties":{"Computers":{"type":"number"},"Semiconductors":{"type":"number"},"Others":{"type":"number"},"Chemicals":{"type":"number"},"Apparel":{"type":"number"},"Communications":{"type":"number"}}},"short":{"type":"object","description":"short positions allocation","properties":{"Banks":{"type":"number"},"Airlines":{"type":"number"},"Internet":{"type":"number"}}}}}}}},"accounts":{"type":"array","items":{"$ref":"#/definitions/account"}},"account":{"type":"object","description":"account information","properties":{"id":{"type":"string","description":"The account identification value"},"accountId":{"type":"string","description":"The account number","example":"U12345678 for Individual Live Accounts, DU12345678 for Individual Paper Accounts"},"accountVan":{"type":"string","description":"The accountAlias"},"accountTitle":{"type":"string","description":"Title of the account"},"displayName":{"type":"string","description":"Whichever value is not null in this priority","enum":["accountTitle","accountVan","accountId"]},"accountAlias":{"type":"string","description":"User customizable account alias. Refer to [Configure Account Alias](https://guides.interactivebrokers.com/cp/cp.htm#am/settings/accountalias.htm) for details."},"accountStatus":{"type":"number","description":"When the account was opened in unix time."},"currency":{"type":"string","description":"Base currency of the account.","enum":["AUD","GBP","CAD","CNH","CZK","DKK","EUR","HKD","HUF","INR","ILS","JPY","MXN","NOK","NZD","PLN","RUB","SGD","SEK","CHF","USD"]},"type":{"type":"string","description":"Account Type","enum":["INDIVIDUAL","JOINT","ORG","TRUST","DEMO"]},"tradingType":{"type":"string","description":"UNI - Deprecated property"},"faclient":{"type":"boolean","description":"If an account is a sub-account to a Financial Advisor."},"clearingStatus":{"type":"string","enum":["O","P","N","A","R","C"],"description":"Status of the Account\\n  * O = Open\\n  * P or N = Pending\\n  * A = Abandoned\\n  * R = Rejected\\n  * C = Closed\\n"},"covestor":{"type":"boolean","description":"Is a Covestor Account"},"parent":{"type":"object","properties":{"mmc":{"type":"array","items":{"type":"string","description":"Money Manager Client (MMC) Account"}},"accountId":{"type":"string","description":"Account Number for Money Manager Client"},"isMParent":{"type":"boolean","description":"Is MM a Parent Account"},"isMChild":{"type":"boolean","description":"Is MM a Child Account"},"isMultiplex":{"type":"boolean","description":"Is a Multiplex Account. These are account models with individual account being parent and managed account being child."}}},"desc":{"type":"string","description":"Formatted \\"accountId - accountAlias\\""}}},"ledger":{"type":"object","properties":{"commoditymarketvalue":{"type":"number"},"futuremarketvalue":{"type":"number"},"settledcash":{"type":"number"},"exchangerate":{"type":"number"},"sessionid":{"type":"integer"},"cashbalance":{"type":"number"},"corporatebondsmarketvalue":{"type":"number"},"warrantsmarketvalue":{"type":"number"},"netliquidationvalue":{"type":"number"},"interest":{"type":"number"},"unrealizedpnl":{"type":"number"},"stockmarketvalue":{"type":"number"},"moneyfunds":{"type":"number"},"currency":{"type":"string"},"realizedpnl":{"type":"number"},"funds":{"type":"number"},"acctcode":{"type":"string"},"issueroptionsmarketvalue":{"type":"number"},"key":{"type":"string"},"timestamp":{"type":"integer"},"severity":{"type":"integer"}}},"alert-request":{"type":"object","properties":{"orderId":{"description":"orderId is required when modifying alert. You can get it from /iserver/account/{accountId}/alerts\\n","type":"integer"},"alertName":{"description":"name of alert","type":"string"},"alertMessage":{"type":"string","description":"The message you want to receive via email or text message"},"alertRepeatable":{"description":"whether alert is repeatable or not, so value can only be 0 or 1, this has to be 1 for MTA alert","type":"integer"},"email":{"description":"email address to receive alert","type":"string"},"sendMessage":{"description":"whether allowing to send email or not, so value can only be 0 or 1,\\n","type":"integer"},"tif":{"description":"time in force, can only be GTC or GTD","type":"string"},"expireTime":{"description":"format, YYYYMMDD-HH:mm:ss, please NOTE this will only work when tif is GTD\\n","type":"string","example":"20201105-19:51:14"},"outsideRth":{"description":"value can only be 0 or 1, set to 1 if the alert can be triggered outside regular trading hours.\\n","type":"integer"},"iTWSOrdersOnly":{"description":"value can only be 0 or 1, set to 1 to enable the alert only in IBKR mobile\\n","type":"integer"},"showPopup":{"type":"integer","description":"value can only be 0 or 1, set to 1 to allow to show alert in pop-ups"},"toolId":{"description":"for MTA alert only, each user has a unique toolId and it will stay the same, do not send for normal alert\\n","type":"integer"},"playAudio":{"description":"audio message to play when alert is triggered","type":"string"},"conditions":{"type":"array","items":{"type":"object","properties":{"type":{"type":"integer","description":"Types: 1-Price, 3-Time, 4-Margin, 5-Trade, 6-Volume, 7: MTA market 8: MTA Position, 9: MTA Acc. Daily PN&\\n"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange","example":"8314@SMART"},"operator":{"type":"string","description":"optional, operator for the current condition, can be >= or <=","example":">="},"triggerMethod":{"type":"string","description":"optional, only some type of conditions have triggerMethod","example":"0"},"value":{"type":"string","description":"can not be empty, can pass default value \\"*\\"","example":"220"},"logicBind":{"type":"string","description":"\\"a\\" means \\"AND\\", \\"o\\" means \\"OR\\", \\"n\\" means \\"END\\",\\nthe last one condition in the condition array should \\"n\\"\\n"},"timeZone":{"type":"string","description":"only needed for some MTA alert condition"}}}}}},"alert-response":{"type":"object","properties":{"account":{"description":"account id","type":"string"},"order_id":{"type":"integer"},"alert_name":{"description":"name of alert","type":"string"},"alert_message":{"type":"string","description":"The message you want to receive via email or text message"},"alert_active":{"description":"whether alert is active or not, so value can only be 0 or 1","type":"integer"},"alert_repeatable":{"description":"whether alert is repeatable or not, so value can only be 0 or 1","type":"integer"},"alert_email":{"description":"email address to receive alert","type":"string"},"alert_send_message":{"description":"whether allowing to send email or not, so value can only be 0 or 1,\\n","type":"integer"},"tif":{"description":"time in force, can only be GTC or GTD","type":"string"},"expire_time":{"description":"format, YYYYMMDD-HH:mm:ss\\n","type":"string","example":"20201105-19:51:14"},"order_status":{"description":"status of alert","type":"string","example":"Submitted"},"outsideRth":{"description":"value can only be 0 or 1, set to 1 if the alert can be triggered outside regular trading hours.\\n","type":"integer"},"itws_orders_only":{"description":"value can only be 0 or 1, set to 1 to enable the alert only in IBKR mobile\\n","type":"integer"},"alert_show_popup":{"type":"integer","description":"value can only be 0 or 1, set to 1 to allow to show alert in pop-ups"},"alert_triggered":{"type":"boolean","description":"whether the alert has been triggered"},"order_not_editable":{"type":"boolean","description":"whether the alert can be edited"},"tool_id":{"description":"for MTA alert only, each user has a unique toolId and it will stay the same, do not send for normal alert\\n","type":"integer"},"alert_play_audio":{"description":"audio message to play when alert is triggered","type":"string"},"alert_mta_currency":{"description":"MTA alert only","type":"string"},"alert_mta_defaults":{"description":"MTA alert only","type":"string"},"time_zone":{"description":"MTA alert only","type":"string"},"alert_default_type":{"description":"MTA alert only","type":"string"},"condition_size":{"type":"integer","description":"size of conditions array"},"condition_outside_rth":{"type":"integer","description":"whether allowing the condition can be triggered outside of regular trading hours, 1 means allow"},"conditions":{"type":"array","items":{"type":"object","properties":{"condition_type":{"type":"integer","description":"Types: 1-Price, 3-Time, 4-Margin, 5-Trade, 6-Volume, 7: MTA market 8: MTA Position, 9: MTA Acc. Daily PN&\\n"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange","example":"8314@SMART"},"contract_description_1":{"type":"string","description":"Format contract name","example":"FB Stock (NASDAQ.NMS)"},"condition_operator":{"type":"string","example":"- >= - <=\\n","description":"optional, operator for the current condition\\n  * >= Greater than or equal to\\n  * <= Less than or equal to\\n"},"condition_trigger_method":{"type":"string","description":"optional, only some type of conditions have triggerMethod","example":"0"},"condition_value":{"type":"string","description":"can not be empty, can pass default value \\"*\\"","example":"220"},"condition_logic_bind":{"type":"string","description":"Condition array should end with \\"n\\"\\n  * a - AND\\n  * o - OR\\n  * n - END\\n"},"condition_time_zone":{"type":"string","description":"only needed for some MTA alert condition"}}}}}},"authStatus":{"type":"object","properties":{"authenticated":{"description":"Brokerage session is authenticated","type":"boolean"},"connected":{"description":"Connected to backend","type":"boolean"},"competing":{"description":"Brokerage session is competing, e.g. user is logged in to IBKR Mobile, WebTrader, TWS or other trading platforms.","type":"boolean"},"fail":{"description":"Authentication failed, why.","type":"string"},"message":{"description":"System messages that may affect trading","type":"string"},"prompts":{"type":"array","description":"Prompt messages that may affect trading or the account","items":{"type":"string"}}}},"contract":{"description":"Contains all details of the contract, including rules you can use when placing orders","type":"object","properties":{"r_t_h":{"type":"boolean","description":"true means you can trade outside RTH(regular trading hours)"},"con_id":{"type":"string","description":"same as that in request"},"company_name":{"type":"string","description":"Contracts company name"},"exchange":{"type":"string"},"local_symbol":{"type":"string","description":"for exmple FB"},"instrument_type":{"type":"string","description":"for example STK"},"currency":{"type":"string"},"companyName":{"type":"string"},"category":{"type":"string"},"industry":{"type":"string"},"rules":{"type":"object","properties":{"orderTypes":{"type":"array","items":{"type":"string","description":"store available order types for this contract"}},"orderTypesOutside":{"type":"array","items":{"type":"string","description":"store available order types for this contract outside regular hours"}},"defaultSize":{"type":"number","description":"default quantity you can use to place an order"},"sizeIncrement":{"type":"number"},"tifTypes":{"type":"array","items":{"type":"string","description":"store available time-in-force types"}},"limitPrice":{"type":"number","description":"default limit price you can use to prefill your order"},"stopprice":{"type":"number","description":"default stop price you can use to prefill your order"},"preview":{"type":"boolean","description":"if you can preview the order or not with the whatif endpoint"},"displaySize":{"type":"string"},"increment":{"type":"string"}}}}},"secdef-info":{"description":"Contains some basic info of contract","type":"object","properties":{"conid":{"type":"number","description":"IBKR contract identifier"},"symbol":{"type":"string","description":"Underlying symbol"},"secType":{"type":"string","description":"Security type"},"exchange":{"type":"string","description":"Primary Exchange, Routing or Trading Venue"},"listingExchange":{"type":"string","description":"Main Trading Venue"},"right":{"type":"string","description":"Put or Call of the option. C = Call Option, P = Put Option"},"strike":{"type":"number","description":"Set price at which a derivative contract can be bought or sold. The strike price also known as exercise price."},"currency":{"type":"string","description":"Currency the contract trades in"},"cusip":{"type":"string","description":"Committee on Uniform Securities Identification Procedures number"},"coupon":{"type":"string","description":"Annual interest rate paid on a bond"},"desc1":{"type":"string","description":"Currency pairs for Forex e.g. EUR.AUD, EUR.CAD, EUR.CHF etc."},"desc2":{"type":"string","description":"Formatted expiration, strike and right"},"maturityDate":{"type":"number","description":"Format YYYYMMDD, the date on which the underlying transaction settles if the option is exercised"},"multiplier":{"type":"string","description":"Multiplier for total premium paid or received for derivative contract."},"tradingClass":{"type":"string","description":"Designation of the contract."},"validExchanges":{"type":"string","description":"Comma separated list of exchanges or trading venues."}}},"history-data":{"type":"object","properties":{"symbol":{"type":"string","description":"Underlying symbol"},"text":{"type":"string","description":"companyName"},"priceFactor":{"type":"integer","description":"priceFactor is price increment obtained from display rule","example":100},"startTime":{"type":"string","description":"start date time in the format YYYYMMDD-HH:mm:ss"},"high":{"type":"string","description":"High value during this time series with format %h/%v/%t. %h is the high price (scaled by priceFactor), %v is volume\\n(volume factor will always be 100 (reported volume = actual volume/100)) and %t is minutes from start time of the chart\\n"},"low":{"type":"string","description":"Low value during this time series with format %l/%v/%t. %l is the low price (scaled by priceFactor), %v is volume\\n(volume factor will always be 100 (reported volume = actual volume/100)) and %t is minutes from start time of the chart\\n"},"timePeriod":{"type":"string","description":"The duration for the historical data request"},"barLength":{"type":"integer","description":"The number of seconds in a bar"},"mdAvailability":{"type":"string","description":"Market Data Availability. The field may contain two chars. The first char is the primary code: S = Streaming, R = Realtime, D = Delayed,\\nZ = Frozen, Y = Frozen Delayed. The second char is the secondary code: P = Snapshot Available, p = Consolidated.\\n"},"mktDataDelay":{"type":"integer","description":"The time it takes, in milliseconds, to process the historical data request"},"outsideRth":{"type":"boolean","description":"The historical data returned includes outside of regular trading hours\\n"},"tradingDayDuration":{"type":"integer","description":"The number of seconds in the trading day"},"volumeFactor":{"type":"integer"},"priceDisplayRule":{"type":"integer"},"priceDisplayValue":{"type":"string"},"negativeCapable":{"type":"boolean"},"messageVersion":{"type":"integer"},"data":{"type":"array","items":{"type":"object","properties":{"o":{"type":"number","description":"open price"},"c":{"type":"number","description":"close price"},"h":{"type":"number","description":"high price"},"l":{"type":"number","description":"low price"},"v":{"type":"number","description":"volume"},"t":{"type":"number","description":"unix time stamp"}}}},"points":{"type":"integer","description":"total number of points"},"travelTime":{"type":"integer"}}},"trade":{"type":"object","properties":{"execution_id":{"type":"string","description":"execution identifier for the order"},"symbol":{"type":"string","description":"Underlying Symbol"},"side":{"type":"string","enum":["B","S","X"],"description":"The side of the market of the order.\\n  * B - Buy contract near posted ask price\\n  * S - Sell contract near posted bid price\\n  * X - Option expired\\n"},"order_description":{"type":"string","description":"Formatted description of the order \\"%side% %size% @ %price% on %exchange%\\"."},"trade_time":{"type":"string","description":"Time of Status update in format \\"YYYYMMDD-hh:mm:ss\\"."},"trade_time_r":{"type":"number","description":"Time of status update in format unix time."},"size":{"type":"string","description":"Quantity of the order"},"price":{"type":"string","description":"Average Price"},"order_ref":{"type":"string","description":"User defined string used to identify the order. Value is set using \\"cOID\\" field while placing an order."},"submitter":{"type":"string","description":"User that submitted order"},"exchange":{"type":"string","description":"Exchange or venue of order"},"commission":{"type":"number","description":"Commission of the order"},"net_amount":{"type":"number","description":"Net cost of the order, including contract multiplier and quantity."},"account":{"type":"string","description":"accountCode"},"acountCode":{"type":"string","description":"Account Number"},"company_name":{"type":"string","description":"Contracts company name"},"contract_description_1":{"type":"string","description":"Format contract name","example":"FB Stock (NASDAQ.NMS)"},"sec_type":{"type":"string","description":"Asset class","example":"STK, FUT, OPT"},"conid":{"type":"string","description":"IBKR\'s contract identifier"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange"},"position":{"type":"string","description":"Total quantity owned for this contract"},"clearing_id":{"type":"string","description":"Firm which will settle the trade. For IBExecution customers only."},"clearing_name":{"type":"string","description":"Specifies the true beneficiary of the order. For IBExecution customers only."},"liquidation_trade":{"type":"number","description":"If order adds liquidity to the market."}}},"modify-order":{"type":"object","properties":{"acctId":{"type":"string"},"conid":{"type":"integer"},"orderType":{"type":"string","description":"for example LMT"},"outsideRTH":{"type":"boolean"},"price":{"type":"number"},"auxPrice":{"type":"number"},"side":{"type":"string","description":"SELL or BUY"},"listingExchange":{"type":"string","description":"optional, not required"},"ticker":{"type":"string","description":"The ticker symbol of the original place order"},"tif":{"type":"string","description":"Specify a time in force to change how long your order will continue to work in the market","example":"tif = DAY to tif = GTC"},"quantity":{"type":"number","description":"usually integer, for some special cases can be float numbers"},"deactivated":{"description":"Set to true if you want to pause a working order.\\nFor details refer to the [TWS Users\' Guide:](https://guides.interactivebrokers.com/tws/twsguide.html#usersguidebook/getstarted/pause_execution.htm)\\n","type":"boolean"}}},"order-request":{"type":"object","properties":{"acctId":{"description":"acctId is optional. It should be one of the accounts returned by\\n/iserver/accounts. If not passed, the first one in the list is selected.\\n","type":"string"},"conid":{"description":"conid is the identifier of the security you want to trade, you can find the\\nconid with /iserver/secdef/search.\\n","type":"integer"},"conidex":{"description":"Conid and Exchange - Can be used instead of conid when specifying the contract identifier of a security.\\n","type":"string","example":"conidex = 265598"},"secType":{"type":"string","description":"The contract-identifier (conid) and security type (type) specified as a concatenated value, conid:type","example":"secType = 265598:STK"},"cOID":{"description":"Customer Order ID. An arbitrary string that can be used to identify the order, e.g \\"my-fb-order\\". The\\nvalue must be unique for a 24h span. Please do not set this value for child orders when placing a bracket order.\\n","type":"string"},"parentId":{"description":"Only specify for child orders when placing bracket orders. The parentId for the child order(s) must be equal to the cOId (customer order id) of the parent.\\n","type":"string"},"orderType":{"description":"The order-type determines what type of order you want to send.\\n  * LMT - A limit order is an order to buy or sell at the specified price or better.\\n  * MKT - A market order is an order to buy or sell at the markets current NBBO.\\n  * STP - A stop order becomes a market order once the specified stop price is attained or penetrated.\\n  * STOP_LIMIT - A stop limit order becomes a limit order once the specified stop price is attained or penetrated.\\n  * MIDPRICE - A MidPrice order attempts to fill at the current midpoint of the NBBO or better.\\n  * TRAIL - A sell trailing stop order sets the stop price at a fixed amount below the market price with an attached \\"trailing\\" amount. See more details here: https://ndcdyn.interactivebrokers.com/en/index.php?f=605\\n  * TRAILLMT - A trailing stop limit order is designed to allow an investor to specify a limit on the maximum possible loss, without setting a limit on the maximum possible gain.\\n    See more details here: https://ndcdyn.interactivebrokers.com/en/index.php?f=606\\n","type":"string"},"listingExchange":{"description":"listingExchange is optional. By default we use \\"SMART\\" routing. Possible values are available via the endpoint: /iserver/contract/{conid}/info,\\nsee **valid_exchange** e.g: SMART,AMEX,NYSE,CBOE,ISE,CHX,ARCA,ISLAND,DRCTEDGE,BEX,BATS,EDGEA,CSFBALGO,JE FFALGO,BYX,IEX,FOXRIVER,TPLUS1,NYSENAT,PSX\\n","type":"string"},"isSingleGroup":{"type":"boolean","description":"set to true if you want to place a single group orders(OCA)\\n"},"outsideRTH":{"description":"set to true if the order can be executed outside regular trading hours.\\n","type":"boolean"},"price":{"description":"optional if order is LMT, or STOP_LIMIT, this is the limit price. For STP|TRAIL this is the stop price. For MIDPRICE this is the option price cap.\\n","type":"number"},"auxPrice":{"description":"optional if order is STOP_LIMIT|TRAILLMT, this is the stop price. You must specify both price and auxPrice for STOP_LIMIT|TRAILLMT orders.\\n"},"side":{"type":"string","description":"SELL or BUY"},"ticker":{"description":"This is the  underlying symbol for the contract.\\n","type":"string"},"tif":{"description":"The Time-In-Force determines how long the order remains active on the market.\\n  * GTC - use Good-Till-Cancel for orders to remain active until it executes or cancelled.\\n  * OPG - use Open-Price-Guarantee for Limit-On-Open (LOO) or Market-On-Open (MOO) orders.\\n  * DAY - if not executed a Day order will automatically cancel at the end of the markets regular trading hours.\\n  * IOC - any portion of an Immediate-or-Cancel order that is not filled as soon as it becomes available in the market is cancelled.\\n","type":"string"},"trailingAmt":{"description":"optional if order is TRAIL, or TRAILLMT. When trailingType is amt, this is the trailing amount, when trailingType is %, it means percentage.\\nYou must specify both trailingType and trailingAmt for TRAIL and TRAILLMT order\\n","type":"number"},"trailingType":{"description":"This is the trailing type for trailing amount. We only support two types here: amt or %.\\nYou must specify both trailingType and trailingAmt for TRAIL and TRAILLMT order\\n","example":"amt","type":"string"},"referrer":{"description":"Custom order reference\\n","example":"QuickTrade","type":"string"},"quantity":{"description":"Integer.\\nIn some special cases quantity is not specified, such as when using \'cashQty\' or \'fxQty\'.\\n","type":"number"},"cashQty":{"description":"Cash Quantity - used to specify the monetary value of an order instead of the number of shares. When using \'cashQty\' don\'t specify \'quantity\'\\nOrders that express size using a monetary value, e.g. cash quantity orders are provided on a non-guaranteed basis.\\nThe system simulates the order by canceling it once the specified amount is spent (for buy orders) or collected (for sell orders).\\nIn addition to the monetary value, the order uses a maximum size that is calculated using the Cash Quantity Estimated Factor, which can be modified in Order Presets.  \\n","type":"number"},"fxQty":{"description":"double number, this is the cash quantity field which can only be used for Currency Conversion Orders. When using \'fxQty\' don\'t specify \'quantity\'.\\n","type":"number"},"useAdaptive":{"description":"If true, the system will use the Price Management Algo to submit the order.\\nhttps://www.interactivebrokers.com/en/index.php?f=43423\\n","type":"boolean"},"isCcyConv":{"description":"set to true if the order is a FX conversion order\\n","type":"boolean"},"allocationMethod":{"description":"Set the allocation method when placing an order using an FA account for a group\\nPossible allocation methods are \\"NetLiquidity\\", \\"AvailableEquity\\", \\"EqualQuantity\\" and \\"PctChange\\".\\n","type":"string"},"strategy":{"description":"Specify which IB Algo algorithm to use for this order.\\n","type":"string"},"strategyParameters":{"description":"The IB Algo parameters for the specified algorithm.\\n","type":"object"}}},"order":{"description":"contains all the order related info","type":"object","properties":{"acct":{"type":"string","description":"account id"},"conid":{"type":"integer"},"orderDesc":{"type":"string"},"description1":{"type":"string"},"ticker":{"type":"string","description":"for example FB"},"secType":{"type":"string","description":"for example STK"},"listingExchange":{"type":"string","description":"for example NASDAQ.NMS"},"remainingQuantity":{"type":"string"},"filledQuantity":{"type":"string"},"companyName":{"type":"string"},"status":{"type":"string","description":"* PendingSubmit - Indicates the order was sent, but confirmation has not been received that it has been received by the destination.\\n                  Occurs most commonly if an exchange is closed.\\n* PendingCancel - Indicates that a request has been sent to cancel an order but confirmation has not been received of its cancellation. * PreSubmitted - Indicates that a simulated order type has been accepted by the IBKR system and that this order has yet to be elected.\\n                 The order is held in the IBKR system until the election criteria are met. At that time the order is transmitted to the order destination as specified.\\n* Submitted - Indicates that the order has been accepted at the order destination and is working. * Cancelled - Indicates that the balance of the order has been confirmed cancelled by the IB system.\\n              This could occur unexpectedly when IB or the destination has rejected the order.\\n* Filled - Indicates that the order has been completely filled. * Inactive - Indicates the order is not working, for instance if the order was invalid and triggered an error message,\\n             or if the order was to short a security and shares have not yet been located.\\n"},"origOrderType":{"type":"string","description":"for example Limit"},"side":{"type":"string","description":"BUY or SELL"},"price":{"type":"number"},"bgColor":{"type":"string","description":"back-ground color"},"fgColor":{"type":"string"},"orderId":{"type":"integer"},"parentId":{"description":"Only exists in child order of bracket","type":"integer"},"order_ref":{"description":"User defined string used to identify the order. Value is set using \\"cOID\\" field while placing an order.","type":"string"}}},"order-status":{"description":"contains all the details of an order","type":"object","properties":{"sub_type":{"type":"string","description":"order sub-type"},"request_id":{"type":"string","description":"order request id"},"order_id":{"type":"integer","description":"system generated order id, unique per account"},"conidex":{"type":"string","description":"conid and exchange. Format supports conid or conid@exchange"},"symbol":{"type":"string","description":"Underlying symbol"},"side":{"type":"string","enum":["B","S","X"],"description":"The side of the market of the order.\\n  * B - Buy contract near posted ask price\\n  * S - Sell contract near posted bid price\\n  * X - Option expired\\n"},"contract_description_1":{"type":"string","description":"Format contract name","example":"FB Stock (NASDAQ.NMS)"},"listing_exchange":{"type":"string","description":"Trading Exchange or Venue","example":"NASDAQ.NMS"},"option_acct":{"type":"string"},"company_name":{"type":"string","description":"Contracts company name","example":"APPLE INC"},"size":{"type":"string","description":"Quantity updated"},"total_size":{"type":"string","description":"Total quantity"},"currency":{"type":"string","description":"Contract traded currency"},"account":{"type":"string","description":"account id"},"order_type":{"type":"string","description":"Types of orders","example":"LIMIT"},"limit_price":{"type":"string","description":"Limit price"},"stop_price":{"type":"string","description":"Stop price"},"cum_fill":{"type":"string","description":"Cumulative fill"},"order_status":{"type":"string","description":"*  PendingSubmit - Indicates the order was sent, but confirmation has not been received that it has been received by the destination.\\n                   Occurs most commonly if an exchange is closed.\\n*  PendingCancel - Indicates that a request has been sent to cancel an order but confirmation has not been received of its cancellation. *  PreSubmitted - Indicates that a simulated order type has been accepted by the IBKR system and that this order has yet to be elected.\\n                  The order is held in the IBKR system until the election criteria are met. At that time the order is transmitted to the order destination as specified.\\n*  Submitted - Indicates that the order has been accepted at the order destination and is working. *  Cancelled - Indicates that the balance of the order has been confirmed cancelled by the IB system.\\n               This could occur unexpectedly when IB or the destination has rejected the order.\\n*  Filled - Indicates that the order has been completely filled. *  Inactive - Indicates the order is not working, for instance if the order was invalid and triggered an error message,\\n              or if the order was to short a security and shares have not yet been located.\\n"},"order_status_description":{"type":"string","description":"Description of the order status"},"tif":{"type":"string","description":"Time-in-Force - length of time order will continue working before it is canceled."},"fg_color":{"type":"string","description":"Foreground color in hex format"},"bg_color":{"type":"string","description":"Background color in hex format"},"order_not_editable":{"type":"boolean","description":"If true not allowed to modify order"},"editable_fields":{"type":"string","description":"Fields that can be edited in escaped unicode characters","example":"\\\\u001E"},"cannot_cancel_order":{"type":"boolean","description":"If true not allowed to cancel order"},"outside_rth":{"type":"boolean","description":"If true order trades outside regular trading hours"},"deactivate_order":{"type":"boolean","description":"If true order is de-activated"},"use_price_mgmt_algo":{"type":"boolean","description":"If true price management algo is enabled, refer to https://www.interactivebrokers.com/en/index.php?f=43423"},"sec_type":{"type":"string","description":"Asset class","example":"STK"},"available_chart_periods":{"type":"string","description":"List of available chart periods"},"order_description":{"type":"string","description":"Format description of order","example":"BUY 100 LIMIT 125.0 DAY"},"order_description_with_contract":{"type":"string","description":"order_description with the symbol","example":"BUY 100 AAPL LIMIT 125.0 DAY"},"alert_active":{"type":"integer"},"child_order_type":{"type":"string","description":"type of the child order","example":"A=attached, B=beta-hedge, etc"},"size_and_fills":{"type":"string","description":"Format fillQuantity\\\\totalQuantity","example":"0/9"},"exit_strategy_display_price":{"type":"string","description":"Position display price"},"exit_strategy_chart_description":{"type":"string","description":"Position description to display on chart"},"exit_strategy_tool_availability":{"type":"string","enum":[1,0],"description":"* 1: If your account has position or order for contract * 0: If your account has no position or order for contract\\n"},"allowed_duplicate_opposite":{"type":"boolean","description":"Returns true if contract supports duplicate/opposite side order."},"order_time":{"type":"string","description":"Time of status update in unix time"},"oca_group_id":{"type":"string","description":"only exists for oca orders, oca orders in same group will have same id"}}},"set-account":{"type":"object","properties":{"acctId":{"type":"string","description":"Account ID"}}},"system-error":{"type":"object","properties":{"error":{"type":"string"}}}}}')}},t={};function i(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=e,function(){var e=[];i.O=function(t,n,r,s){if(!n){var o=1/0;for(p=0;p<e.length;p++){n=e[p][0],r=e[p][1],s=e[p][2];for(var a=!0,c=0;c<n.length;c++)(!1&s||o>=s)&&Object.keys(i.O).every((function(e){return i.O[e](n[c])}))?n.splice(c--,1):(a=!1,s<o&&(o=s));if(a){e.splice(p--,1);var d=r();void 0!==d&&(t=d)}}return t}s=s||0;for(var p=e.length;p>0&&e[p-1][2]>s;p--)e[p]=e[p-1];e[p]=[n,r,s]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};i.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var s=Object.create(null);i.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){o[e]=function(){return n[e]}}));return o["default"]=function(){return n},i.d(s,o),s}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){i.p="/cpwebapi/"}(),function(){var e={826:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,s,o=n[0],a=n[1],c=n[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(c)var p=c(i)}for(t&&t(n);d<o.length;d++)s=o[d],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(p)},n=self["webpackChunkclient_portal_web_api_docs"]=self["webpackChunkclient_portal_web_api_docs"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(30392)}));n=i.O(n)})();
//# sourceMappingURL=index.dd88885d.js.map